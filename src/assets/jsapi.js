/*! Survey123 JS API version: 3.14.76. License information can be found in copyright.txt */
!function(e){function webpackJsonpCallback(t){for(var i,n,o=t[0],a=t[1],u=0,l=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&l.push(r[n][0]),r[n]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);for(s&&s(t);l.length;)l.shift()()}var t={},r={3:0};function __webpack_require__(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}__webpack_require__.e=function requireEnsure(e){var t=[],i=r[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=r[e]=[t,n]}));t.push(i[2]=n);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.src=function jsonpScriptSrc(e){return __webpack_require__.p+""+e+".survey123webform-jsapi.js"}(e);var a=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var i=r[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",a.name="ChunkLoadError",a.type=n,a.request=o,i[1](a)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(r,i,function(t){return e[t]}.bind(null,i));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="https://survey123.arcgis.com/api/jsapi/3.14/",__webpack_require__.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],n=i.push.bind(i);i.push=webpackJsonpCallback,i=i.slice();for(var o=0;o<i.length;o++)webpackJsonpCallback(i[o]);var s=n;__webpack_require__(__webpack_require__.s=445)}([function(e,t,r){"use strict";r.d(t,"x",(function(){return i})),r.d(t,"w",(function(){return n})),r.d(t,"z",(function(){return o})),r.d(t,"A",(function(){return s})),r.d(t,"y",(function(){return a})),r.d(t,"I",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"r",(function(){return c})),r.d(t,"u",(function(){return h})),r.d(t,"p",(function(){return d})),r.d(t,"o",(function(){return f})),r.d(t,"q",(function(){return p})),r.d(t,"s",(function(){return m})),r.d(t,"t",(function(){return g})),r.d(t,"v",(function(){return y})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return v})),r.d(t,"b",(function(){return E})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return T})),r.d(t,"e",(function(){return _})),r.d(t,"f",(function(){return x})),r.d(t,"d",(function(){return S})),r.d(t,"g",(function(){return O})),r.d(t,"l",(function(){return C})),r.d(t,"c",(function(){return I})),r.d(t,"H",(function(){return A})),r.d(t,"F",(function(){return k})),r.d(t,"D",(function(){return R})),r.d(t,"G",(function(){return M})),r.d(t,"E",(function(){return j})),r.d(t,"m",(function(){return N})),r.d(t,"n",(function(){return P})),r.d(t,"J",(function(){return L})),r.d(t,"K",(function(){return D})),r.d(t,"B",(function(){return U})),r.d(t,"C",(function(){return Q}));const i="#31872E",n="#B7DCC7",o="#37C59F",s="#07531C",a="#3F724E",u="#ffffff",l="#000000",c="#505050",h="#333333",d="#666666",f="#888888",p="#ABA0A4",m="#EEEEEE",g="#E8E8E8",y="#595959",b="#E8F1F9",v="#7FCACB",E="#6CACAC",w="#3f98c5",T="#36ABC8",_="#0B2228",x="#1B363E",S="#292B3E",O="#3D3F56",C="#0D4D92",I="#218ECC",A="#F59C9B",k="#FF7877",R="#B4443F",M="#82100F",j="#B03F37",N="#513119",P="#65544D",L="#D8AA39",D="#9B642C",U="#402655",Q="#331B46"},function(e,t,r){var i=r(9),n=r(20),o=r(31),s=r(28),a=r(41),$export=function(e,t,r){var u,l,c,h,d=e&$export.F,f=e&$export.G,p=e&$export.S,m=e&$export.P,g=e&$export.B,y=f?i:p?i[t]||(i[t]={}):(i[t]||{}).prototype,b=f?n:n[t]||(n[t]={}),v=b.prototype||(b.prototype={});for(u in f&&(r=t),r)c=((l=!d&&y&&void 0!==y[u])?y:r)[u],h=g&&l?a(c,i):m&&"function"==typeof c?a(Function.call,c):c,y&&s(y,u,c,e&$export.U),b[u]!=c&&o(b,u,h),m&&v[u]!=c&&(v[u]=c)};i.core=n,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,e.exports=$export},function(e,t,r){"use strict";r.d(t,"j",(function(){return isSupportedFormData})),r.d(t,"g",(function(){return getThumbnailUrl})),r.d(t,"a",(function(){return convertBlobToFile})),r.d(t,"f",(function(){return getItemResourceName})),r.d(t,"h",(function(){return hasHtmlElement})),r.d(t,"k",(function(){return isValidValue})),r.d(t,"b",(function(){return decodeHtmlContent})),r.d(t,"l",(function(){return mapStrToBaseMapObj})),r.d(t,"c",(function(){return encodeDecodeStr})),r.d(t,"e",(function(){return getCsvFromSearch})),r.d(t,"i",(function(){return isNullFieldType})),r.d(t,"d",(function(){return escapeChars}));var i,n=r(23);r(166);!function(e){e.formName="form.json",e.webformName="form.webform.json",e.surveyDraftPrefix="surveyDraft",e.surveyArchivePrefix="surveyArchive"}(i||(i={}));var o=r(19);r(49),r(54),r(39);function isSupportedFormData(){try{new FormData;return!0}catch(e){return!1}}function getThumbnailUrl(e,t,r){const i=(r=Object(n.b)(r)).token||Object(n.a)().token||null;return e&&t&&-1===e.indexOf(t)?`${Object(o.j)(t,r.portalUrl)}/info/${e}${i?"?token="+i:""}`:e}function convertBlobToFile(e){if(!(e=Object.assign({blob:null,name:null,type:null},e||{})).blob||!e.name||!e.type)throw new Error("missing blob, name, type args");let t;try{t=new File([e.blob],e.name,{type:e.type})}catch(r){e.blob.name=e.name,t=e.blob}return e.url&&(t.url=e.url),t}function getItemResourceName(e){e=Object.assign({fileType:"form",prefixType:"surveyDraft"},e||{});-1===["surveyDraft","surveyArchive"].indexOf(e.prefixType)&&(e.prefixType="surveyDraft");let t=i.surveyDraftPrefix;"surveyArchive"===e.prefixType&&(t=i.surveyArchivePrefix);-1===["form","webform"].indexOf(e.fileType)&&(e.fileType="form");let r=i.formName;if("webform"===e.fileType&&(r=i.webformName),"surveyArchive"===t&&"form"===e.fileType){const t=r.split(".");r=`${t[0]}_${e.archivedCreationDate?e.archivedCreationDate:Date.now()}.${t[1]}`}const n=`${e.itemId?e.itemId+"_":""}${t}`;return{fileName:r,prefix:n,fullPath:`${n}/${r}`}}function hasHtmlElement(e){return/<[a-z][\s\S]*>/i.test(e)}function isValidValue(e){return null!=e&&(!Array.isArray(e)||0!==e.length)}function decodeHtmlContent(e){try{e=decodeURIComponent(e)}catch(e){}return e}function mapStrToBaseMapObj(e){if(e){const t=e.split("||").map(e=>e.trim()).find(e=>e.length>0);e=t}let t="";if(e){const r=/(?:(?:(?:item)?id)(?::|=))?\s*([0-9a-f]{32})/i.exec(e);t="name",Array.isArray(r)&&2===r.length&&(e=r[1].toLowerCase(),t="webmap")}let r=null;return e&&"name"===t?r={type:"linkedItem",name:e}:e&&"webmap"===t&&(r={type:"linkedItem",itemId:e}),r}function encodeDecodeStr(e,t,r){if(!e||-1===["encode","decode"].indexOf(e))throw new Error("missing encodeDecode type");if(!t)return t;let i=t;if("decode"===e){try{i=decodeURIComponent(t)}catch(e){}return i}if(!(r=Object.assign({regExp:null},r||{})).regExp||r.regExp&&r.regExp instanceof RegExp&&r.regExp.test(t))try{i=encodeURIComponent(t)}catch(e){}return i}function getCsvFromSearch(e){const t=e.match(/search\((.*)\)/);if(!t||t.length<2)return"";let r=null;return r=function trimFunctionArg(e){return e&&"string"==typeof e?(((e=e.trim()).length>1&&e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"'))&&(e=e.substr(1,e.length-2)),e):e}((t[1].split(",")[0]+"").trim()),r.indexOf("?url=")<0?r.indexOf("?")>0?r.substr(0,r.indexOf("?")):r:""}function isNullFieldType(e){return!(!e||"null"!==(e.fieldType+"").toLowerCase()&&null!==e.fieldType)}function escapeChars(e){return e&&"string"==typeof e?e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\r/g,"\\r").replace(/\"/g,'\\"').replace(/\'/g,"\\'"):e}},function(e,t,r){"use strict";r.d(t,"e",(function(){return ValidateQuestionModelOptions})),r.d(t,"d",(function(){return ValidateChoiceOptions})),r.d(t,"c",(function(){return VALIDATE_DATATYPE})),r.d(t,"b",(function(){return EsriValidationModel})),r.d(t,"a",(function(){return EsriValidateResult}));var i=r(4),n=r(2),o=r(17);class ValidateQuestionModelOptions{constructor(e){this.isValidateCalculation=!0;Object.assign(this,{isRestoreToDefaultName:!0},e||{}),this.isRestoreToDefaultName="boolean"!=typeof this.isRestoreToDefaultName||!0===this.isRestoreToDefaultName}}class ValidateChoiceOptions extends ValidateQuestionModelOptions{constructor(e){super({existedNames:(e=e||{}).existedNames,isRestoreToDefaultName:e.isRestoreToDefaultName});Object.assign(this,{ignoreOnlyAllowNumberEnglishCheck:!1,ignore32LengthCheck:!1,ignoreDuplicatedCheck:!1},{ignoreOnlyAllowNumberEnglishCheck:e.ignoreOnlyAllowNumberEnglishCheck,ignore32LengthCheck:e.ignore32LengthCheck,ignoreDuplicatedCheck:e.ignoreDuplicatedCheck}),this.ignoreOnlyAllowNumberEnglishCheck="boolean"==typeof this.ignoreOnlyAllowNumberEnglishCheck&&!0===this.ignoreOnlyAllowNumberEnglishCheck,this.ignore32LengthCheck="boolean"==typeof this.ignore32LengthCheck&&!0===this.ignore32LengthCheck,this.ignoreDuplicatedCheck="boolean"==typeof this.ignoreDuplicatedCheck&&!0===this.ignoreDuplicatedCheck}}function VALIDATE_DATATYPE(e,t,r){r=Object.assign({errorMsgPrefix:"",errorMsgPostfix:""},r||{});const n=new EsriValidateResult;return e&&t&&Object.keys(t).forEach(o=>{const s=t[o];s&&s.length>0&&s.forEach(t=>{if(void 0!==e[t]&&null!==e[t])if("array"===o){if(!Array.isArray(e[t]))return void n.addError(new i.a(`${r.errorMsgPrefix} The value of '${t}' is not ${o} ${r.errorMsgPostfix}`))}else{if(typeof e[t]===o.toString())return;n.addError(new i.a(`${r.errorMsgPrefix} The value of '${t}' is not ${o} ${r.errorMsgPostfix}`))}})}),n.check()}class EsriValidationModel{constructor(e){this.whitelist=[];e=e||{},Object.assign(this,{}),Object(n.k)(e.valueRange)&&"object"==typeof e.valueRange&&(this.valueRange=Object.assign({isEnabled:!1,min:null,max:null},e.valueRange)),Object(n.k)(e.inputCount)&&"object"==typeof e.inputCount&&(!e.inputCount.isEnabled||e.inputCount.min||e.inputCount.max||(e.inputCount.isEnabled=!1),this.inputCount=Object.assign({isEnabled:!1,min:null,max:null},e.inputCount)),Object(n.k)(e.isInteger)&&(this.isInteger=e.isInteger),Object(n.k)(e.limitFileCount)&&(this.limitFileCount=e.limitFileCount),Object(n.k)(e.allowFileType)&&"object"==typeof e.allowFileType&&(this.allowFileType=Object.assign({type:null,exts:null},e.allowFileType)),Object(n.k)(e.imageDimension)&&"object"==typeof e.imageDimension&&(this.imageDimension=Object.assign({maxWidth:null,maxHeight:null,processType:"none"},e.imageDimension)),Object(n.k)(e.allowFileSize)&&"object"==typeof e.allowFileSize&&(this.allowFileSize=Object.assign({min:0,max:10},e.allowFileSize)),Object(n.k)(e.inputMask)&&"object"==typeof e.inputMask?this.inputMask=e.inputMask:Object(n.k)(e.inputMask)&&"string"==typeof e.inputMask&&(this.inputMask={isEnabled:!0,customFormat:e.inputMask}),Object(n.k)(e.regExp)&&(this.regExp=e.regExp)}setWhitelist(e){e=e||[],this.whitelist=this.whitelist.concat(e)}toJson(){const e=Object(o.b)(this,this.whitelist);return e.valueRange&&this.valueRange&&(e.valueRange=Object(o.b)(this.valueRange,["isEnabled","min","max"])),e.isInteger&&"boolean"==typeof this.isInteger&&(e.isInteger=this.isInteger),e.limitFileCount&&this.limitFileCount&&(e.limitFileCount=Object(o.b)(this.limitFileCount,["isEnabled","min","max"])),e.allowFileType&&this.allowFileType&&(e.allowFileType=Object(o.b)(this.allowFileType,["type","exts"])),e.inputCount&&this.inputCount&&(e.inputCount=Object(o.b)(this.inputCount,["isEnabled","min","max"]),!e.inputCount.isEnabled||e.inputCount.min||e.inputCount.max||(e.inputCount.isEnabled=!1)),e.inputMask&&this.inputMask&&(e.inputMask=Object(o.b)(this.inputMask,["isEnabled","customFormat"])),e}validate(){const e=new EsriValidateResult;return e.addValidateResult(VALIDATE_DATATYPE(this,{string:["regExp"],boolean:["isInteger"]})),this.valueRange&&e.addValidateResult(VALIDATE_DATATYPE(this.valueRange,{boolean:["isEnabled"]})),this.inputCount&&e.addValidateResult(VALIDATE_DATATYPE(this.inputCount,{boolean:["isEnabled"],number:["min","max"]})),this.limitFileCount&&e.addValidateResult(VALIDATE_DATATYPE(this.limitFileCount,{boolean:["isEnabled"],number:["min","max"]})),this.allowFileSize&&e.addValidateResult(VALIDATE_DATATYPE(this.allowFileSize,{number:["min","max"]})),this.allowFileType&&e.addValidateResult(VALIDATE_DATATYPE(this.allowFileType,{string:["type"],array:["exts"]})),e.check()}}class EsriValidateResult{constructor(e){this._options=e,this._options=Object.assign({},e||{}),this.success=!1,this.errors=[]}addError(e){e&&("string"==typeof e&&(e=new i.a(e)),this._addQuestionIndexes(e),e.type="validation",this.errors=this.errors||[],this.errors.push(e))}addErrors(e){e&&Array.isArray(e)&&e.length>0&&e.forEach(e=>{this.addError(e)})}addValidateResult(e){e&&!e.success&&e.errors&&this.addErrors(e.errors)}check(){return this.success=!1,this.errors&&0===this.errors.length&&(this.success=!0,delete this.errors),this.errors||(this.success=!0),this}hasError(){return this.errors&&Array.isArray(this.errors)&&this.errors.length>0}getErrors(){return this.errors||[]}_addQuestionIndexes(e){e&&this._options.questionIndexes&&!e.questionIndexes&&(e.questionIndexes=this._options.questionIndexes)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return SurveyError}));class SurveyError{constructor(e){if(this.code=-1,this.message="",e){if("string"==typeof e||e instanceof String)return void(this.message=String(e));if(e.error)return void Object.assign(this,e.error||{});if(e instanceof Error)return this.message=e.message,this.stack=e.stack,void(this.data=e.data);Object.assign(this,e||{})}}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return ToJsonOptions})),r.d(t,"a",(function(){return i}));class ToJsonOptions{constructor(e){Object.assign(this,{extraWhiteLists:[],whiteLists:[]},e||{})}}var i;!function(e){e.questionNamePrefix="field_",e.pageNamePrefix="page_",e.groupNamePrefix="group_"}(i||(i={}))},,function(e,t,r){"use strict";r.d(t,"b",(function(){return EsriPointModel})),r.d(t,"a",(function(){return EsriExtentModel})),r.d(t,"d",(function(){return EsriPolylineModel})),r.d(t,"c",(function(){return EsriPolygonModel}));var i=r(3),n=r(17),o=r(2),s=r(36),a=r(4);class EsriGeometryModel{constructor(e){this.defaultWhitelist=["spatialReference"],this.defaultTypes=["point","multipoint","polyline","polygon","extent"];e=e||{},Object.assign(this,{spatialReference:{wkid:null}},e)}setWhitelist(e){e=e||[],this.defaultWhitelist=this.defaultWhitelist.concat(e)}toJson(){const e=Object(n.b)(this,this.defaultWhitelist);return e.spatialReference&&this.spatialReference&&(e.spatialReference=Object(n.b)(this.spatialReference,["wkid"])),e}_validateGeometryModel(){let e=new i.a;return e.addValidateResult(Object(i.c)(this,{string:["type"],boolean:["hasM","hasZ"]})),this.type&&-1===this.defaultTypes.indexOf(this.type)&&e.addError(new a.a("The geometry type is not supported. Only support: "+this.defaultTypes.join(", "))),this.spatialReference?e.addValidateResult(Object(i.c)(this,{number:["wkid"]})):e.addError(new a.a("The spatialReference is not existed")),e.check()}cloneObjByKeys(e){e=e||[];const t=this.defaultWhitelist.concat(e);return Object(n.b)(this,t)}}class EsriPointModel extends EsriGeometryModel{constructor(e){super(e),this.exceptDefaultWhitelist=["x","y","z","m"];e=e||{},Object.assign(this,{x:null,y:null}),Object(o.k)(e.x)&&(this.x=e.x),Object(o.k)(e.y)&&(this.y=e.y),Object(o.k)(e.z)&&(this.z=e.z),Object(o.k)(e.m)&&(this.m=e.m)}static isEsriPoint(e){return!!(e&&Object(o.k)(e.x)&&Object(o.k)(e.y))}toJson(){const e=this.cloneObjByKeys(this.exceptDefaultWhitelist);return e.spatialReference&&this.spatialReference&&(e.spatialReference=Object(n.b)(this.spatialReference,["wkid"])),e}get stringValue(){return Object(o.k)(this.z)?`${this.y} ${this.x} ${this.z}`:`${this.y} ${this.x}`}updateByStringValue(e,t){const r=e.trim().split(" ");Object(o.k)(t)&&(this.spatialReference.wkid=t),Object(o.k)(this.spatialReference.wkid)||(this.spatialReference.wkid=4326),Object(o.k)(r[0])&&Object(o.k)(r[1])&&(this.y=Number(r[0]),this.x=Number(r[1])),Object(o.k)(r[2])&&(this.z=Number(r[2]))}validate(){let e=this._validateGeometryModel();return e.addValidateResult(Object(i.c)(this,{number:["x","y","z","m"]})),e.check()}}class EsriExtentModel extends EsriGeometryModel{constructor(e){super(e),this.exceptDefaultWhitelist=["xmin","ymin","xmax","ymax","centerLatitude","centerLongitude","zoomLevel"];e=e||{},Object.assign(this,{xmin:null,ymin:null,xmax:null,ymax:null}),Object(o.k)(e.xmin)&&(this.xmin=e.xmin),Object(o.k)(e.ymin)&&(this.ymin=e.ymin),Object(o.k)(e.xmax)&&(this.xmax=e.xmax),Object(o.k)(e.ymax)&&(this.ymax=e.ymax)}toJson(){const e=this.cloneObjByKeys(this.exceptDefaultWhitelist);return e.spatialReference&&this.spatialReference&&(e.spatialReference=Object(n.b)(this.spatialReference,["wkid"])),e}validate(){let e=this._validateGeometryModel();return e.addValidateResult(Object(i.c)(this,{number:["xmin","ymin","xmax","ymax"]})),e.check()}}class EsriPolylineModel extends EsriGeometryModel{constructor(e){super(e),this.exceptDefaultWhitelist=["paths","z","m"];e=e||{},Object.assign(this,{paths:[[]]}),Object(s.b)(e.paths)&&(this.paths=e.paths),Object(o.k)(e.z)&&(this.z=e.z),Object(o.k)(e.m)&&(this.m=e.m)}static isEsriPolyline(e){return!!(e&&e.paths&&Object(s.b)(e.paths))}toJson(){if(this.IS_EMPTY_POLYLINE())return null;const e=this.cloneObjByKeys(this.exceptDefaultWhitelist);return e.spatialReference&&this.spatialReference&&(e.spatialReference=Object(n.b)(this.spatialReference,["wkid"])),e}get stringValue(){let e="";return this.paths.length&&this.paths[0].forEach((t,r,i)=>{r!==i.length-1?e+=`${t[1]} ${t[0]};`:e+=`${t[1]} ${t[0]}`}),e}updateByStringValue(e,t){Object(o.k)(t)&&(this.spatialReference.wkid=t),Object(o.k)(this.spatialReference.wkid)||(this.spatialReference.wkid=4326);const r=e.split(/\s*?;/);let i=[];r.length&&(i=[[]]),r.forEach(e=>{const t=(e=e.replace(/(^\s*)|(\s*$)|(^\'*)|(^\"*)|('*$)|("*$)/g,"")).split(/\s/);2===t.length&&i[0].push([Number(t[1]),Number(t[0])])}),Object(s.b)(i)&&(this.paths=i)}validate(){let e=this._validateGeometryModel();return e.addValidateResult(Object(i.c)(this,{array:["paths"],number:["z","m"]})),e.check()}IS_EMPTY_POLYLINE(){return!(this.paths&&this.paths.length>0&&this.paths[0]&&this.paths[0].length>0)}}class EsriPolygonModel extends EsriGeometryModel{constructor(e){super(e),this.exceptDefaultWhitelist=["rings","z","m"];e=e||{},Object.assign(this,{rings:[[]]}),Object(s.c)(e.rings)&&(this.rings=e.rings),Object(o.k)(e.z)&&(this.z=e.z),Object(o.k)(e.m)&&(this.m=e.m)}static isEsriPolygon(e){return!!(e&&e.rings&&Object(s.c)(e.rings))}toJson(){if(this.IS_EMPTY_POLYGON())return null;const e=this.cloneObjByKeys(this.exceptDefaultWhitelist);return e.spatialReference&&this.spatialReference&&(e.spatialReference=Object(n.b)(this.spatialReference,["wkid"])),e}get stringValue(){let e="";return this.rings.length&&this.rings[0].forEach((t,r,i)=>{r!==i.length-1?e+=`${t[1]} ${t[0]};`:e+=`${t[1]} ${t[0]}`}),e}updateByStringValue(e,t){Object(o.k)(t)&&(this.spatialReference.wkid=t),Object(o.k)(this.spatialReference.wkid)||(this.spatialReference.wkid=4326);const r=e.split(/\s*?;/);let i=[];r.length&&(i=[[]]),r.forEach(e=>{const t=(e=e.replace(/(^\s*)|(\s*$)/g,"")).split(/\s/);2===t.length&&i[0].push([Number(t[1]),Number(t[0])])}),Object(s.b)(i)&&(this.rings=i)}validate(){let e=this._validateGeometryModel();return e.addValidateResult(Object(i.c)(this,{array:["rings"],number:["z","m"]})),e.check()}IS_EMPTY_POLYGON(){return!(this.rings&&this.rings.length>0&&this.rings[0]&&this.rings[0].length>0)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return QuestionType_EsriQuestionTypeModel}));var i=r(2),n=r(3),o=r(34),s=r(227),a=r(17),u=r(14),l=r(5),c=r(94);class QuestionType_EsriQuestionTypeModel{constructor(e){this.isPublished=!1,this.indexes=[],this.isInPage=!1,this.isNameModified=!1,this._defaultWhitelist=["id","position","fieldName","type","label","description","isRequired","fieldType","fieldLength","fieldAlias","name","calculation","visibility","readOnly"],this._defaultNamePrefix=l.a.questionNamePrefix;if(e=e||{},Object.assign(this,{id:null,position:0,fieldName:null,name:null,type:null,label:null,description:null,isRequired:!1,errors:[],value:null,defaultValue:null,_tempEditor:{ruleID:{from:[],to:[]},errors:[],addedRuleItems:[]},_tempRuntime:{errors:[],isVisible:!0}},e),Object(i.k)(e.description)&&(this.description=Object(i.b)(e.description)),Object(i.k)(e.label)&&(this.label=function unescapeHtml(e){return e?(""+e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#039;/g,"'"):e}(e.label)),Object(i.k)(e.defaultValue)&&(this.defaultValue=e.defaultValue),Object(i.k)(e.isCachedAnswer)&&(this.isCachedAnswer=e.isCachedAnswer),Object(i.k)(e.isReadOnly)&&(this.readOnly=new o.a({expression:e.isReadOnly+"()"})),Object(i.k)(e.isVisible)){let t=e.isVisible||"true()";!1===e.isVisible&&(t="false()"),this.visibility=new o.a({expression:""+t})}Object(i.k)(e.readOnly)&&this.setReadOnly(e.readOnly),Object(i.k)(e.visibility)&&this.setVisibility(e.visibility),Object(i.k)(e.calculation)&&this.setCalculation(e.calculation)}getBindType(){return this.bindType}setBindType(e){this.bindType=e}toJson(e){e=new l.b(e);return this._toJson(e)}validate(e){const t=this._validateQuestionModel(QuestionType_EsriQuestionTypeModel.EsriQuestionType,e);return t.addValidateResult(Object(n.c)(this,{boolean:["isCachedAnswer"]},{errorMsgPrefix:`[${this.label} (id=${this.id})]`})),t.check()}setCalculation(e){this._setFormExpression("calculation",e)}getCalculation(e){return e&&this.calculation?this.calculation[e]:this.calculation}hasCalculation(){return!!this.getCalculation("expression")}setReadOnly(e){this._setFormExpression("readOnly",e)}setVisibility(e){this._setFormExpression("visibility",e)}setFieldType(e){this.fieldType=null!==e?e:null}getDefaultFieldType(){return this._defaultField?this._defaultField.type:void 0}upgrade(e){return null}setField(e){e=e||{},["fieldName","fieldType","fieldLength","fieldAlias"].forEach(t=>{void 0!==e[t]&&("fieldType"===t&&"null"===e[t]&&(e[t]=null),this[t]=e[t])})}getField(e){let t={};this._defaultField&&this._defaultField.type&&(t=this._defaultField);const r={fieldName:this.fieldName,fieldType:void 0===this.fieldType?t.type||"":this.fieldType,fieldLength:this.fieldLength&&!isNaN(this.fieldLength)?this.fieldLength:t.length||""};return e?r[e]:r}hasFeatureServiceField(){let e=!1;return e=!(this.isFieldType("esriAttachment")||this.isFieldType("esriFieldTypeGeometry")||!this._defaultField||!this._defaultField.type),Object(i.i)(this)&&(e=!1),e}isFieldType(e){return!(!e||this.getField("fieldType")!==e)}setValue(e,t){e&&"object"==typeof e&&Object.keys(e).forEach(t=>{Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=e[t])}),e&&"string"==typeof e&&Object.prototype.hasOwnProperty.call(this,e)&&(this[e=""+e]=t)}getValue(e){return this[e]}setName(e){this.name=e||this.fieldName||this.id,this.fieldName=this.hasFeatureServiceField()?this.name:null}resetName(){this.setName(this.getDefaultName())}getDefaultName(){return this._defaultName||this.id}setDefaultName(e){this._defaultName=e}isDefaultName(){return this.getDefaultName()&&this.name===this.getDefaultName()}setId(e){e&&(this.id=`${l.a.questionNamePrefix}${e}`)}hasCustomFieldType(){return!!this._defaultField&&(!(!this.fieldType&&!this._defaultField.type)&&(!(null!==this.fieldType||!this._defaultField.type)||!(!this.fieldType||this.fieldType===this._defaultField.type)))}getQuestionComponent(){return this._questionComponent}setQuestionComponent(e){e&&(this._questionComponent=e)}getPreviewComponent(){return this._previewComponent}setPreviewComponent(e){e&&(this._previewComponent=e)}getErrors(){return this.errors||[]}setError(e){if(e){this.errors.find(t=>t===e)||(e.questionIndexes=this.indexes,this.errors.push(e))}}setErrors(e){e&&Array.isArray(e)&&e.forEach(e=>{this.setError(e)})}hasError(){return this.getErrors().length>0}resetErrors(e){!0===(e=Object.assign({isValidateError:!1},e||{})).isValidateError?this.errors=this.errors.filter(e=>"validation"!==e.type):this.errors=[]}sanitizeLabel(e){return this._sanitizeLabel(e)}setNameModified(e){!0!==e&&!1!==e||(this.isNameModified=e)}setWhitelist(e){e=e||[],this._defaultWhitelist=this._defaultWhitelist.concat(e)}_sanitizeLabel(e){if(e=Object.assign({isUpdateValue:!0},e||{}),!0===this.isPublished)return this.name;if(!0===this.isNameModified)return this.name;const t=Object(s.a)(this.label||"");return"_"===t||/^\_[0-9]+$/.exec(t)?(this.resetName(),this.name):(!0===e.isUpdateValue&&this.setName(t),t)}_validateQuestionModel(e,t){t=new n.e(t);const r=new n.a({questionIndexes:this.indexes});if(e&&this.type!==e&&r.addError(`The value of 'type' in '${this.label}' (id = ${this.id}) is not matched to '${e}'`),r.addValidateResult(Object(n.c)(this,{string:["id","type","label","description","name","fieldName","fieldAlias"],number:["position","fieldLength"],boolean:["isRequired"]},{errorMsgPrefix:`[${this.label} (id=${this.id})]`})),this.name&&!this.isPublished){let e=!1;if(t.featureServiceFieldNames&&Array.isArray(t.featureServiceFieldNames)&&t.featureServiceFieldNames.length>0){t.featureServiceFieldNames.find(e=>e.toLowerCase()===this.name.toLowerCase())&&(e=!0)}if(t.existedNames&&Array.isArray(t.existedNames)&&t.existedNames.length>0&&!e){t.existedNames.filter((e,t)=>e.toLowerCase()===this.name.toLowerCase()&&t<this.position).length>0&&(e=!0)}e&&(!0===t.isRestoreToDefaultName&&!1===this.isNameModified?this.resetName():r.addError(`The name, ${this.name}, in question (id = ${this.id}) is duplicated`))}return t.isValidateCalculation&&this.calculation&&!this.getCalculation("isValid")&&r.addError(`${this.label} (id=${this.id}) calculation is not valid`),r.check(),this._setErrorsByValidateResult(r),r}_setErrorsByValidateResult(e){e&&e instanceof n.a&&e.hasError()&&this.setErrors(e.getErrors())}_cloneObjByKeys(e,t){e=e||[],t=t||[];const r=this._defaultWhitelist.concat(e,t);return Object(a.b)(this,r,{supportNullKeys:["fieldType"]})}__toJson(e){(e=new l.b(e)).extraWhiteLists&&e.extraWhiteLists.includes("isNameModified")&&this.isPublished&&this.setNameModified(!0);return this._cloneObjByKeys(e.whiteLists||[],e.extraWhiteLists||[])}_compareVersion(e,t){return Object(u.a)(e,t)}_setFormExpression(e,t){if("string"!=typeof t)if(null!=t)if("object"!=typeof t||Array.isArray(t));else{const r=Object.assign(this[e]||{},t||{});this[e]=new o.a(r)}else this[e]=null;else this[e]=new o.a({expression:t})}_toJson(e){const t=this.__toJson(e);return t.label=Object(c.b)(t.label),t.description=Object(c.b)(t.description),this.calculation&&this.calculation instanceof o.a&&(t.calculation=this.calculation.toJson()),this.readOnly&&this.readOnly instanceof o.a&&(t.readOnly=this.readOnly.toJson()),this.visibility&&this.visibility instanceof o.a&&(t.visibility=this.visibility.toJson()),t}}QuestionType_EsriQuestionTypeModel.EsriQuestionType="esriQuestionTypeModel"},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var i=r(12);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriAppearanceModel}));var i=r(3),n=r(17),o=r(4);class EsriAppearanceModel{constructor(e){this.whitelist=["layout"],this.defaultLayouts=["vertical","horizontal","horizontal-compact","minimal","autocomplete","day-month-year","year","month-year","week-number","hidden"];e=e||{},Object.assign(this,{},e)}setWhitelist(e){e=e||[],this.whitelist=this.whitelist.concat(e)}toJson(){return Object(n.b)(this,this.whitelist)}validate(e){e=Object.assign({supportLayouts:[]},e||{});let t=new i.a;t.addValidateResult(Object(i.c)(this,{string:["layout"]}));const r=e.supportLayouts||this.defaultLayouts;return this.layout&&-1===r.indexOf(this.layout)&&t.addError(new o.a("The layout is not supported. Only support: "+r.join(", "))),t.check()}}},function(e,t,r){"use strict";function compareVersion(e,t){if(t=""+t,!(e=""+e)||!t)throw new Error("version is not existed");let r,i;const n=/(\.0+)+$/,o=e.replace(n,"").split("."),s=t.replace(n,"").split("."),a=Math.min(o.length,s.length);for(r=0;r<a;r++)if(i=parseInt(o[r],10)-parseInt(s[r],10),i)return i;return o.length-s.length}r.d(t,"a",(function(){return compareVersion}))},function(e,t,r){var i=r(102)("wks"),n=r(64),o=r(9).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:n)("Symbol."+e))}).store=i},function(e,t,r){"use strict";r.d(t,"b",(function(){return __extends})),r.d(t,"a",(function(){return __assign}));var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function __assign(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.create;Object.create},function(e,t,r){"use strict";r.d(t,"a",(function(){return clone})),r.d(t,"b",(function(){return cloneObjByKeys}));var i=r(86),n=r(39);function clone(e,t){return"deepclone"===(t=t||"dojo")||Object(n.b)()?deepClone(e):window&&window.dojo&&dojo.clone?function dojoClone(e){try{return dojo.clone(e)}catch(e){console.log(e)}}(e):deepClone(e)}function deepClone(e){if(!e||"object"!=typeof e||"[object Function]"===Object.prototype.toString.call(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);let t,r,i;if(e instanceof Array)for(t=[],r=0,i=e.length;r<i;++r)r in e&&t.push(deepClone(e[r]));else t=e.constructor?new e.constructor:{};try{return function mixin(e,t,r){let i,n;const o={};for(i in t)n=t[i],i in e&&(e[i]===n||i in o&&o[i]===n)||(e[i]=r?r(n):n);return e}(t,e,deepClone)}catch(e){console.log(e)}}function cloneObjByKeys(e,t,r){(!(r=r||{}).supportNullKeys||!Array.isArray(r.supportNullKeys)||r.supportNullKeys.length<1)&&(r.supportNullKeys=[]);const n={};if(Object(i.a)(e))for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let o=!0;if(t&&Array.isArray(t)&&t.length>0&&-1===t.indexOf(i)&&(o=!1),o){let t=e[i];t&&t.toJson&&(t=t.toJson()),(r.supportNullKeys.indexOf(i)>=0&&void 0!==t||null!=t)&&(n[i]=clone(t))}}return n}},function(e,t,r){var i=r(43),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},function(e,t,r){"use strict";r.d(t,"h",(function(){return getCurrentUsername})),r.d(t,"m",(function(){return getRootUrl})),r.d(t,"k",(function(){return getPortalUrl})),r.d(t,"f",(function(){return getContentItemUrl})),r.d(t,"g",(function(){return getContentUserUrl})),r.d(t,"o",(function(){return getUserContentUrl})),r.d(t,"q",(function(){return getUserItemUrl})),r.d(t,"p",(function(){return getUserItemResourcesUrl})),r.d(t,"i",(function(){return getItemResourcesUrl})),r.d(t,"j",(function(){return getItemUrl})),r.d(t,"b",(function(){return getCodeSampleFile})),r.d(t,"e",(function(){return getCommunityUrl})),r.d(t,"d",(function(){return getCommunitySelfUrl})),r.d(t,"c",(function(){return getCommunityGroupUrl})),r.d(t,"n",(function(){return getSearchUrl})),r.d(t,"a",(function(){return getAdminUrl})),r.d(t,"l",(function(){return getRestApiVersion})),r.d(t,"s",(function(){return search})),r.d(t,"t",(function(){return validateAppAccess})),r.d(t,"r",(function(){return getValueFromCommonParams}));var i=r(23),n=r(27),o=r(54);let s={};function getDefaultPortalUrl(){return Object(o.a)("portalUrl")||"https://www.arcgis.com"}function getCurrentUsername(){let e=Object(i.a)(),t=null;if(e.username&&(t=e.username),!t)throw new Error("no credential userId");return t}function getRootUrl(e){return(e=e||getDefaultPortalUrl())+"/sharing/rest"}function getPortalUrl(e,t){return`${getRootUrl(e)}/portals${t?"/"+t:""}`}function getContentUrl(e){return getRootUrl(e)+"/content"}function getContentItemUrl(e){return getContentUrl(e)+"/items"}function getContentUserUrl(e){return getContentUrl(e)+"/users"}function getUserContentUrl(e,t,r){return e||(e=getCurrentUsername()),t?`${getContentUrl(r)}/users/${e}/${t}`:`${getContentUrl(r)}/users/${e}`}function getUserItemUrl(e,t,r,i){return`${getUserContentUrl(t,r,i)}/items/${e}`}function getUserItemResourcesUrl(e,t,r,i){return getUserItemUrl(e,t,r,i)+"/resources"}function getItemResourcesUrl(e,t){return getItemUrl(e,t)+"/resources"}function getItemUrl(e,t){return`${getContentUrl(t)}/items/${e}`}function getCodeSampleFile(e,t,r){return`${getItemUrl(e,r)}/info/${t}`}function getCommunityUrl(e){return getRootUrl(e)+"/community"}function getCommunitySelfUrl(e){return getRootUrl(e)+"/community/self"}function getCommunityGroupUrl(e){return getCommunityUrl(e)+"/groups"}function getSearchUrl(e){return getRootUrl(e)+"/search"}function getAdminUrl(e){return e.replace(/\/rest\/services\//i,"/rest/admin/services/")}function getRestApiVersion(e,t){e=Object.assign({isCachedVersion:!0},e||{});let r=getValueFromCommonParams("portalUrl",t=t||Object(i.a)()||Object(i.b)(t));return s[r]&&e&&e.isCachedVersion?Promise.resolve(""+s[r]):function getVersion(e){return e=e||Object(i.a)()||Object(i.b)(e),Object(n.a)(""+getRootUrl(e.portalUrl),null,null,e)}(t).then(e=>{if(e&&e.currentVersion)return s[r]=e.currentVersion,""+s[r]})}function search(e,t){let r=getRootUrl((t=t||Object(i.a)()||Object(i.b)(t)).portalUrl)+"/search";return Object(n.a)(r,e,null,t)}function validateAppAccess(e,t){return Promise.resolve(!0).then(()=>{if(!e)throw new Error("missing clientId args")}).then(()=>{let r=getRootUrl((t=t||Object(i.a)()||Object(i.b)(t)).portalUrl)+"/oauth2/validateAppAccess";return Object(n.a)(r,{client_id:e},null,t)})}function getValueFromCommonParams(e,t){return e&&t&&t[e]?t[e]:null}},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports=!r(10)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var i=r(11),n=r(174),o=r(56),s=Object.defineProperty;t.f=r(21)?Object.defineProperty:function defineProperty(e,t,r){if(i(e),t=o(t,!0),i(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return getCommonParams})),r.d(t,"b",(function(){return setCommonParams}));var i=r(95);function getCommonParams(){let e={f:"json"},t=Object(i.a)();return t&&(e=t),e}function setCommonParams(e){e=e||{};let t=Object(i.a)()||{},r=Object.assign({username:null,token:null,f:"json",portalUrl:null},t);return r.portalUrl&&e.portalUrl&&r.portalUrl!==e.portalUrl&&r.token&&(r.token=null),Object.assign(r,e)}},function(e,t,r){var i=r(52);e.exports=function(e){return Object(i(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriWebMapModel}));var i=r(3),n=r(17);class EsriWebMapModel{constructor(e){this.type="webmap",this.whitelist=["itemId","type","name"],this.defaultTypes=["webmap","basemap","linkedItem"];e=e||{},Object.assign(this,{},e)}setWhitelist(e){e=e||[],this.whitelist=this.whitelist.concat(e)}toJson(){return Object(n.b)(this,this.whitelist)}validate(){let e=new i.a;return e.addValidateResult(Object(i.c)(this,{string:["type","itemId","title","name","thumbnail","portalUrl"]})),-1===this.defaultTypes.indexOf(this.type)&&e.addError(`The type, ${this.type}, is not supported. Only support: ${this.defaultTypes.join(", ")}`),this.extent&&e.addError("The extent is deprecated in v2.6"),e.check()}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return ToJsonOptions})),r.d(t,"a",(function(){return i}));class ToJsonOptions{constructor(e){Object.assign(this,{extraWhiteLists:[]},e||{})}}var i;!function(e){e.choiceItemCodedValuePrefix="choice_",e.choiceOtherSuffix="_other"}(i||(i={}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return get})),r.d(t,"b",(function(){return post}));var i=r(119),n=r(158),o=r(54),s=r(39),a=r(95),u=r(23),l=r(162),c=r(49);let h;function get(e,t,r,n){r=setRequestOptions(r),n=Object(u.b)(n);const o=_isWithCredentials(e=_getHttps(e,r.httpsOnly),{withCredentials:r.withCredentials||n.withCredentials});return!0===r.isBinaryContent&&((t=t||{}).f=null),Object(i.c)(e,{authentication:r.includeCommonParams?_getUserSession({url:e,commonParams:n}):null,params:t,httpMethod:"GET",fetch:(e,t)=>{if(!0===o&&(t.credentials="include"),Object(s.b)()){const e=_getNodeHttps();t.agent=new e.Agent({rejectUnauthorized:!1}),t.headers&&(delete t.headers["Content-Type"],delete t.headers.referer)}return Object(c.a)(e,t)}}).catch(e=>({error:e})).then(e=>_handlerResponse(e,r))}function post(e,t,r,n){r=setRequestOptions(r),n=Object(u.b)(n),e=_getHttps(e,r.httpsOnly);let o=t;t instanceof FormData&&t.forEach&&t.forEach((e,t)=>{o[t]=e});const a=_isWithCredentials(e,{withCredentials:r.withCredentials||n.withCredentials});!0===r.isBinaryContent&&(o=o||{},o.f=null);let l=null;return(r.contentType||r.contentLength)&&(l={},r.contentLength&&(l["Content-Length"]=r.contentLength),r.contentType&&(l["Content-Type"]=r.contentType)),Object(i.c)(e,{authentication:r.includeCommonParams?_getUserSession({url:e,commonParams:n}):null,params:o,headers:l,httpMethod:"POST",fetch:(t,r)=>{if(!0===a&&(r.credentials="include"),Object(s.b)()){const t=_getNodeHttps();r.agent=new t.Agent({rejectUnauthorized:!1}),-1===e.indexOf("/portaladmin/")&&-1===e.indexOf("/addItem")||!r.headers||delete r.headers.referer}return Object(c.a)(t,r)}}).catch(e=>({error:e})).then(e=>_handlerResponse(e,r))}function setRequestOptions(e){e=new n.a(e||{});const t=Object(o.a)("requestOptions")||{};return Object.assign({},t,e)}function _getHttps(e,t){if(e){const r=Object(o.a)("requestOptions")||{};let i=t;null==i&&(i=r.httpsOnly),/^https/.test(e)&&(i=!0),"undefined"!=typeof window&&window.location&&-1!==window.location.protocol.indexOf("https:")&&(i=!0),!0===i&&(e=e.replace("http:","https:")).indexOf("https:")<0&&e.startsWith("//")&&(e="https:"+e)}return e}function _handlerResponse(e,t){if(!e)throw new Error("response is null");if(!e.error)return e;if(-1===[499,498,"AUTHENTICATION_ERROR_CODE"].indexOf(e.error.code))throw e;if(!((t=t||{})&&t.ignoreJumpToLoginPage)&&t.onTokenExpired)return t.onTokenExpired(e.error),e;throw e}function _isWithCredentials(e,t){t=t||{};let r=!1;return!0===(Object(o.a)("requestOptions")||{}).withCredentials&&(r=!0),!0===t.withCredentials&&(r=!0),_hasWithoutCredentialUrl(e)&&(console.log("withoutCredentail: "+e),r=!1),r}function _getNodeHttps(){return Object(s.b)()?(h||(h=r(421)),h):null}function _hasWithoutCredentialUrl(e){const t=(Object(o.a)("requestOptions")||{}).withoutCredentialUrls||[],r=e.toLowerCase();return!!t.find(e=>-1!==r.indexOf(e))}function _getUserSession(e){const t=(e=e||{}).commonParams;let r=Object(a.b)();if(!t||!t.token||r&&r.token===t.token||(r=new l.a({token:t.token,portal:t.portalUrl?t.portalUrl+"/sharing/rest":null,tokenExpires:new Date(Date.now()+18e5)})),t&&t.portalUrl&&r&&r.portal&&-1===r.portal.indexOf(t.portalUrl))return new l.a({token:t.token,portal:t.portalUrl+"/sharing/rest",tokenExpires:new Date(Date.now()+18e5)});const i=e.url,n=!_hasWithoutCredentialUrl(i),o=-1!==i.indexOf("/rest/services/")||-1!==i.indexOf("/rest/admin/services/"),s=-1!==i.indexOf("/portaladmin/");let u=i&&(o||s||!n);if(n&&r&&!r.token&&(u=!1),!0===u){const e=r.getServerRootUrl(i),t=r.trustedServers,n=r.tokenExpires;t[e]||(t[e]={token:r.token,expires:n&&n.getTime&&n.getTime()>Date.now()?n:new Date(Date.now()+18e5)})}return r}Object(s.b)()&&(Object(i.d)({fetch:c.a}),r(230))},function(e,t,r){var i=r(9),n=r(31),o=r(30),s=r(64)("src"),a=r(236),u=(""+a).split("toString");r(20).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,r,a){var l="function"==typeof r;l&&(o(r,"name")||n(r,"name",t)),e[t]!==r&&(l&&(o(r,s)||n(r,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=r:a?e[t]?e[t]=r:n(e,t,r):(delete e[t],n(e,t,r)))})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&this[s]||a.call(this)}))},function(e,t,r){var i=r(1),n=r(10),o=r(52),s=/"/g,createHTML=function(e,t,r,i){var n=String(o(e)),a="<"+t;return""!==r&&(a+=" "+r+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+n+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(createHTML),i(i.P+i.F*n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var i=r(22),n=r(63);e.exports=r(21)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var i=r(88),n=r(52);e.exports=function(e){return i(n(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeAttachmentModel}));var i=r(8),n=r(3),o=r(2),s=r(17),a=r(4),u=r(121),l=r(5);class EsriQuestionTypeAttachmentModel extends i.a{constructor(e,t){super(e),this.type=EsriQuestionTypeAttachmentModel.EsriQuestionType,this._defaultField={type:"esriAttachment"},this.bindType="file",this._exceptDefaultWhitelist=["validation","fieldType"],t=Object.assign({attachmentFileType:""},t||{});const r={fieldType:this._defaultField.type,validation:new n.b({inputCount:{isEnabled:!0,min:1,max:1},allowFileType:{type:t.attachmentFileType,exts:EsriQuestionTypeAttachmentModel._defaultSupportFileExtensionObj[t.attachmentFileType]||[]},allowFileSize:{min:0,max:EsriQuestionTypeAttachmentModel.defaultAllowedSize}})};if(e=e||{},Object.assign(this,r),this.setName(this.name),this.fieldName=null,Object(o.k)(e.validation)){this.validation=new n.b(e.validation),this.validation.allowFileType&&this.validation.allowFileType.type!==t.attachmentFileType&&(this.validation.allowFileType.type=t.attachmentFileType);const i=this.validation.allowFileType.type;!this.validation.allowFileType.exts&&i&&-1!==EsriQuestionTypeAttachmentModel._supportFileTypes.indexOf(i)&&(this.validation.allowFileType.exts=Object(s.a)(EsriQuestionTypeAttachmentModel._defaultSupportFileExtensionObj[i])||[]),this.validation.inputCount=this.validation.inputCount||r.validation.inputCount,this.validation.allowFileSize=this.validation.allowFileSize||r.validation.allowFileSize}void 0!==e.fieldType&&this.setFieldType(e.fieldType)}static getAllowFileTypeExtensions(e,t,r){!1!==r&&(r=!0);const getExtByMimeType=(e,t)=>{const r=[];if(e){if(-1!==e.indexOf("*")){if(t&&"application/*"===e&&(e="*/*"),"*/*"===e)return EsriQuestionTypeAttachmentModel.allSupportedFileExtensions;switch(e){case"image/*":return EsriQuestionTypeAttachmentModel._defaultSupportFileExtensionObj.image;case"audio/*":return Object.keys(EsriQuestionTypeAttachmentModel.mimeTypeMapping).filter(e=>EsriQuestionTypeAttachmentModel.mimeTypeMapping[e]&&-1!==EsriQuestionTypeAttachmentModel.mimeTypeMapping[e].trim().indexOf("audio/"));case"video/*":return Object.keys(EsriQuestionTypeAttachmentModel.mimeTypeMapping).filter(e=>EsriQuestionTypeAttachmentModel.mimeTypeMapping[e]&&-1!==EsriQuestionTypeAttachmentModel.mimeTypeMapping[e].trim().indexOf("video/"));case"text/*":return Object.keys(EsriQuestionTypeAttachmentModel.mimeTypeMapping).filter(e=>EsriQuestionTypeAttachmentModel.mimeTypeMapping[e]&&-1!==EsriQuestionTypeAttachmentModel.mimeTypeMapping[e].trim().indexOf("text/"));case"application/*":return Object.keys(EsriQuestionTypeAttachmentModel.mimeTypeMapping).filter(e=>EsriQuestionTypeAttachmentModel.mimeTypeMapping[e]&&-1!==EsriQuestionTypeAttachmentModel.mimeTypeMapping[e].trim().indexOf("application/"));default:return[]}}Object.keys(EsriQuestionTypeAttachmentModel.mimeTypeMapping).forEach(t=>{EsriQuestionTypeAttachmentModel.mimeTypeMapping[t]===e&&r.push(t)})}return r};if(!e&&!t)return EsriQuestionTypeAttachmentModel.allSupportedFileExtensions;let i=[];if(e&&!t)e.trim().split(",").forEach(e=>{i=i.concat(getExtByMimeType(e,!0))});else{const e=t&&t.trim().split(",");e.length&&e.forEach(e=>{let t=[];if((e=e.trim()).startsWith(".")){const r=e.replace(".","");t.push(r)}else t=t.concat(getExtByMimeType(e));t&&t.length&&t.map(e=>{(r&&EsriQuestionTypeAttachmentModel.allSupportedFileExtensions.includes(e)||!r)&&(i.includes(e)||i.push(e))})})}return i}static updateQuestionModelByXform(e,t){if("esriQuestionTypeSignature"!==e.type){const r=EsriQuestionTypeAttachmentModel.getAllowFileTypeExtensions(t.mediaType,t.accept);e.validation.allowFileType.exts=EsriQuestionTypeAttachmentModel.getAllowFileTypeExtensions(t.mediaType,t.accept);const i=[];if(t.mediaType.trim().split(",").forEach(e=>{const t=e&&e.split("/")[0];-1===i.indexOf(t)&&i.push(t)}),e.type="esriQuestionTypeFile",e.validation.allowFileType.type="custom",1===i.length){const n=i[0];switch(n){case"audio":e.type="esriQuestionTypeAudio",e.validation.allowFileType.type="audio";break;case"video":e.type="esriQuestionTypeVideo",e.validation.allowFileType.type="video";break;case"image":e.type="esriQuestionTypeImage",e.validation.allowFileType.type="image"}if(0!==["audio","video","image"].indexOf(n)&&t.accept){Object.keys(this.mimeTypeMapping).some(e=>r.indexOf(e)>-1&&!this.mimeTypeMapping[e].startsWith(n))&&(e.type="esriQuestionTypeFile",e.validation.allowFileType.type="custom")}}e.validation.allowFileType.exts.join(", ")===e.getDefaultAllowFileExtensions().join(", ")&&(e.validation.allowFileType.exts=["*"])}}toJson(e){e=new l.b(e),this.validation&&this.validation.setWhitelist(["inputCount","allowFileType","imageDimension","allowFileSize"]),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),delete t.fieldName,t}isSupportedFileExtension(e){return-1!==EsriQuestionTypeAttachmentModel.allSupportedFileExtensions.indexOf(e)||"*"===e}setAllowFileType(e,t){e&&-1!==EsriQuestionTypeAttachmentModel._supportFileTypes.indexOf(e)&&(this.validation.allowFileType.type=e,t&&this.setAllowFileExtensions(EsriQuestionTypeAttachmentModel._defaultSupportFileExtensionObj[e]))}getAllowFileType(){return this.validation.allowFileType.type}setAllowFileExtensions(e){if(e=e||[],!Array.isArray(e))throw new a.a(Object(u.a)("question02"));const t=e.filter(e=>!1===this.isSupportedFileExtension(e));if(t.length>0)throw new a.a(`${Object(u.a)("question03")}${t.join(", ")}`);this.validation.allowFileType.exts=Object(s.a)(e)}getAllowFileExtensions(){return Object(s.a)(this.validation.allowFileType.exts)}getAllAllowFileExtensions(){return EsriQuestionTypeAttachmentModel.allSupportedFileExtensions}getDefaultAllowFileExtensions(){const e=this.validation.allowFileType.type;return"custom"===e?Object(s.a)(this.getAllAllowFileExtensions()):Object(s.a)(EsriQuestionTypeAttachmentModel._defaultSupportFileExtensionObj[e])}getAllowFileExtensionStr(e){let t=this.getAllowFileExtensions();return t&&1===t.length&&"*"===t[0]&&(t=this.getDefaultAllowFileExtensions()),e&&["custom","image","audio","video"].indexOf(this.validation.allowFileType.type)>-1&&t.sort().join(", ")===this.getDefaultAllowFileExtensions().sort().join(", ")?"":t.map(e=>"."+e).join(", ")}upgrade(e){if(this._compareVersion(e,"3.1")<0){const e=Object.assign({},this.validation.limitFileCount);delete this.validation.limitFileCount,this.validation.inputCount=e}}_validateQuestionAttachmentModel(e,t){const r=this._validateQuestionModel(e,t);return this.validation&&(this.validation instanceof n.b?r.addValidateResult(this.validation.validate()):r.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`)),r.check(),this._setErrorsByValidateResult(r),r}}EsriQuestionTypeAttachmentModel.EsriQuestionType="esriQuestionTypeAttachment",EsriQuestionTypeAttachmentModel.allSupportedFileExtensions=["bmp","eps","ps","gif","jp2","jpg","jpeg","jpe","png","psd","sid","tif","tiff","wmf","wps","avi","mpg","mpeg","mov","wmv","aif","mid","rmi","mp2","mp3","mp4","mpa","mpv2","qt","ra","ram","wav","wma","doc","docx","dot","xls","xlsx","xlt","pdf","ppt","pptx","txt","zip","7z","gz","gtar","tar","vrml","gml","json","geojson","xml","mdb","csv","ecw","emf","gpkg","img","j2k","jpc","jpf","m4a","mpe","raw","tgz"],EsriQuestionTypeAttachmentModel.mimeTypeMapping={bmp:"image/bmp",eps:"application/postscript",ps:"application/postscript",gif:"image/gif",jp2:"image/jp2",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",png:"image/png",psd:"image/vnd.adobe.photoshop",sid:"image/x-mrsid-image",tif:"image/tiff",tiff:"image/tiff",wmf:"application/x-msmetafile",wps:"application/vnd.ms-works",avi:"video/x-msvideo",mpg:"video/mpeg",mpeg:"video/mpeg",mov:"video/quicktime",wmv:"video/x-ms-wmv",aif:"audio/x-aiff",mid:"audio/midi",rmi:"audio/midi",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/x-mpg",mpv2:"video/mpeg",qt:"video/quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",wav:"audio/x-wav",wma:"audio/x-ms-wma",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",txt:"text/plain",zip:"application/zip","7z":"application/x-7z-compressed",gz:"application/gzip",gtar:"application/x-gtar",tar:"application/x-tar",vrml:"model/vrml",gml:"application/gml+xml",json:"application/json",geojson:"application/vnd.geo+json",xml:"application/xml",mdb:"application/x-msaccess",csv:"text/csv",ecw:"image/ximagewebserverecw",emf:"image/emf",gpkg:"application/geopackage+sqlite3",img:"application/xerdas-hfa",j2k:"image/jp2",jpc:"application/octet-stream",jpf:"application/octet-stream",m4a:"audio/m4a",mpe:"video/mpeg",raw:"application/x-ogc-eir",tgz:"application/x-compressed"},EsriQuestionTypeAttachmentModel.maxAllowedSize=1024,EsriQuestionTypeAttachmentModel.defaultAllowedSize=10,EsriQuestionTypeAttachmentModel._supportFileTypes=["image","archive","document","custom","audio","video"],EsriQuestionTypeAttachmentModel._defaultSupportFileExtensionObj={archive:["zip","7z","tar"],document:["pdf","doc","docx","xls","xlsx","pptx","ppt","txt"],image:["bmp","gif","jp2","jpg","jpeg","jpe","png","tif","tiff"],audio:["aif","mid","rmi","mp2","mp3","ra","ram","wav","wma","m4a"],video:["avi","mpg","mpeg","mov","wmv","mp4","mpa","mpv2","qt","mpe"],custom:["*"]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return FormExpression}));var i=r(35);class FormExpression{constructor(e){this.type="xlsform",this.isValid=!0,this._whitelists=["expression","id","label","reference"],Object.assign(this,e||{})}toJson(){return Object.keys(this).reduce((e,t)=>(-1===this._whitelists.indexOf(t)||(e[t]=this[t]),e),{})}hasQuestionName(e){if(e){const t="${"+e+"}";return-1!==this.expression.indexOf(t)}return this.getQuestionNames().length>0}getQuestionNames(){return Object(i.a)(this.expression)}replaceQuestionName(e,t){e&&t&&e!==t&&(this.expression=Object(i.c)({expression:this.expression,oldName:e,newName:t}))}hasFunctionNames(e){return!!(e=Object.assign({names:null,isStartedWith:!0},e||{})).names&&e.names.some(t=>!0===e.isStartedWith?this.expression.startsWith(t+"("):-1!==this.expression.indexOf(t+"("))}}},function(e,t,r){"use strict";function replaceExpressionQuestionName(e){if(!(e=Object.assign({expression:null,oldName:null,newName:null},e||{})).expression)return;if(!e.oldName||!e.newName)throw new Error("missing oldName / newName args");if(e.oldName===e.newName)return e.expression;const t=new RegExp(`\\$\\{${e.oldName}\\}`,"g");return e.expression.replace(t,"${"+e.newName+"}")}function restoreExpressionQuestionName(e){return e.replace(/\$\{[\w]*\}/g,"${questionName}")}function getQuestionNamesFromExpression(e){if(!e)return[];const t=e.match(/\$\{(.*?)\}/g);return t&&0!==t.length?t.map(e=>e.replace(/^\$\{/,"").replace(/\}$/,"")):[]}function hasQuestionNamesInExpression(e){return getQuestionNamesFromExpression(e).length>0}r.d(t,"c",(function(){return replaceExpressionQuestionName})),r.d(t,"d",(function(){return restoreExpressionQuestionName})),r.d(t,"a",(function(){return getQuestionNamesFromExpression})),r.d(t,"b",(function(){return hasQuestionNamesInExpression}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return getArcGISGeometry})),r.d(t,"b",(function(){return isValidPaths})),r.d(t,"c",(function(){return isValidRings}));var i=r(7);function isGeoPoint(e){if(!e)return!1;if("string"!=typeof e)return null;let t=_split(e);return!(t.length<=1)&&!t.find(e=>isNaN(e))}function geoPointToArcGIS(e){if(!isGeoPoint(e))return null;if("string"!=typeof e)return null;let t=_split(e),r=new i.b({x:Number(t[1]),y:Number(t[0]),spatialReference:{wkid:4326}});return isNaN(t[2])||(r.z=Number(t[2])),isNaN(t[3])||(r.m=Number(t[3])),r}function _split(e){return e.split(" ").filter(e=>!!e)}function isGeoTrace(e){if(!e)return!1;if("string"!=typeof e)return null;let t=geo_trace_split(e);if(t.length<=1)return!1;if(t.find(e=>!isGeoPoint(e)))return!1;let r=geoPointToArcGIS(t[0]),i=geoPointToArcGIS(t[t.length-1]);return r.x!==i.x||r.y!==i.y}function geo_trace_split(e){return e.split(";").filter(e=>!!e)}function isGeoShape(e){if(!e)return!1;if("string"!=typeof e)return null;let t=geo_shape_split(e);if(t.length<=2)return!1;if(t.find(e=>!isGeoPoint(e)))return!1;let r=geoPointToArcGIS(t[0]),i=geoPointToArcGIS(t[t.length-1]);return r.x===i.x&&r.y===i.y}function geo_shape_split(e){return e.split(";").filter(e=>!!e)}function getXlsFormGeometryType(e){return e?"string"!=typeof e?null:isGeoPoint(e)?"geopoint":isGeoTrace(e)?"geotrace":isGeoShape(e)?"geoshape":void 0:null}function xlsFormGeometryToArcGIS(e){let t=getXlsFormGeometryType(e);return t?"string"!=typeof e?null:"geopoint"===t?geoPointToArcGIS(e):"geotrace"===t?function geoTraceToArcGIS(e){if(!isGeoTrace(e))return null;if("string"!=typeof e)return null;let t,r=geo_trace_split(e),n=!1,o=!1,s=r.map(e=>{t=geoPointToArcGIS(e);let r=[t.x,t.y];return t.z&&(n=!0,r.push(t.z)),t.m&&(o=!0,r.push(t.m)),r});return new i.d({paths:[s],hasZ:n,hasM:o,spatialReference:{wkid:4326}})}(e):"geoshape"===t?function geoShapeToArcGIS(e){if(!isGeoShape(e))return null;if("string"!=typeof e)return null;let t,r=geo_shape_split(e),n=!1,o=!1,s=r.map(e=>{t=geoPointToArcGIS(e);let r=[t.x,t.y];return t.z&&(n=!0,r.push(t.z)),t.m&&(o=!0,r.push(t.m)),r});return new i.c({rings:[s],hasZ:n,hasM:o,spatialReference:{wkid:4326}})}(e):void 0:null}function closeRing(e){return function pointsEqual(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(e[0],e[e.length-1])||e.push(e[0]),e}function ringIsClockwise(e){for(var t,r=0,i=0,n=e.length,o=e[i];i<n-1;i++)r+=((t=e[i+1])[0]-o[0])*(t[1]+o[1]),o=t;return r>=0}function orientRings(e){var t=[],r=e.slice(0),i=closeRing(r.shift().slice(0));if(i.length>=4){ringIsClockwise(i)||i.reverse(),t.push(i);for(var n=0;n<r.length;n++){var o=closeRing(r[n].slice(0));o.length>=4&&(ringIsClockwise(o)&&o.reverse(),t.push(o))}}return t}function shallowClone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function geojsonToArcGIS(e,t){t=t||"OBJECTID";var r,i={wkid:4326},n={};switch(e.type){case"Point":n.x=e.coordinates[0],n.y=e.coordinates[1],n.spatialReference=i;break;case"MultiPoint":n.points=e.coordinates.slice(0),n.spatialReference=i;break;case"LineString":n.paths=[e.coordinates.slice(0)],n.spatialReference=i;break;case"MultiLineString":n.paths=e.coordinates.slice(0),n.spatialReference=i;break;case"Polygon":n.rings=orientRings(e.coordinates.slice(0)),n.spatialReference=i;break;case"MultiPolygon":n.rings=function flattenMultiPolygonRings(e){for(var t=[],r=0;r<e.length;r++)for(var i=orientRings(e[r]),n=i.length-1;n>=0;n--){var o=i[n].slice(0);t.push(o)}return t}(e.coordinates.slice(0)),n.spatialReference=i;break;case"Feature":e.geometry&&(n.geometry=geojsonToArcGIS(e.geometry,t)),n.attributes=e.properties?shallowClone(e.properties):{},e.id&&(n.attributes[t]=e.id);break;case"FeatureCollection":for(n=[],r=0;r<e.features.length;r++)n.push(geojsonToArcGIS(e.features[r],t));break;case"GeometryCollection":for(n=[],r=0;r<e.geometries.length;r++)n.push(geojsonToArcGIS(e.geometries[r],t))}return n}function getArcGISGeometry(e){return e?function isXlsFormGeometry(e){return!!getXlsFormGeometryType(e)}(e)?xlsFormGeometryToArcGIS(e):(function isGeoJson(e){try{if(!e)throw new Error("GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new Error("missing or not supported GeoJSON object type");return!0}catch(e){return!1}}(e)&&(e=function geo_json_geojsonToArcGIS(e,t){if(t=Object.assign({onlyGeometry:!1},t||{}),!e)return null;let r=geojsonToArcGIS(e);if(!r||!r.geometry)throw new Error("cannot convert geojson to arcgis geometry");return!0===t.onlyGeometry?r.geometry:r}(e,{onlyGeometry:!0})),i.b.isEsriPoint(e)?new i.b(e):i.d.isEsriPolyline(e)?new i.d(e):i.c.isEsriPolygon(e)?new i.c(e):void 0):null}function isValidPaths(e){if(!e||!Array.isArray(e))return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!r||!Array.isArray(r))return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!t||!Array.isArray(t)||t.length<2||isNaN(t[0])||isNaN(t[1]))return!1}}return!0}function isValidRings(e){return isValidPaths(e)}},function(e,t,r){"use strict";var i=r(10);e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e,i){function isNodeJs(){return e.exports}function isNode(){return void 0!==i&&null!=i.versions&&null!=i.versions.node}r.d(t,"b",(function(){return isNodeJs})),r.d(t,"a",(function(){return isNode}))}).call(this,r(420)(e),r(73))},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeGeoPointModel}));var i=r(87),n=r(7),o=r(2),s=r(3),a=r(4),u=r(25);class EsriQuestionTypeGeoPointModel extends i.a{constructor(e){super(e),this.type=EsriQuestionTypeGeoPointModel.EsriQuestionType,this.geometryType="esriGeometryPoint",this.inputTools=[],this.displayFormats=["DD"],this.includeMap=!0,this.bindType="geopoint",this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","maps","defaultMap","search","defaultExtent","defaultLocation","deviceLocation","inputTools","displayFormats"],this._xform={type:"geopoint"},this._defaultinputTools=["pin","locate","search","input"],this._defaultDisplayFormats=["DD","DMS","UTM","MGRS"];const t={inputTools:["pin","search","locate"],defaultValue:new n.b};e=e||{},Object.assign(this,t),Object(o.k)(e.defaultValue)&&this.setDefaultValue(new n.b(e.defaultValue)),Object(o.k)(e.inputTools)&&(this.inputTools=e.inputTools)}toJson(e){const t=this._toJson(e);return t.defaultValue&&this.defaultValue&&Object(o.k)(this.defaultValue.x)&&Object(o.k)(this.defaultValue.y)?t.defaultValue=this.defaultValue.toJson?this.defaultValue.toJson():this.defaultValue:t.defaultValue=null,delete t.fieldName,t}setDefaultValue(e){this.defaultValue=new n.b(e)}upgrade(e){if(this._compareVersion(e,"3.9")<0&&this.inputModes&&(this.inputModes.indexOf("input")>-1?this.inputTools=["pin","locate","search","input"]:this.inputTools=["pin","locate","search"],delete this.inputModes),this._compareVersion(e,"3.14")<0&&(void 0!==this.isDeviceLocationRequired&&(this.isDeviceLocationRequired?this.deviceLocation={trigger:"interaction"}:this.deviceLocation={trigger:"locateButton"}),void 0!==this.isDeviceLocationRequired||this.deviceLocation||(this.deviceLocation={trigger:"locateButton"})),this._compareVersion(e,"3.14")<0){let e=null;this.maps=this.maps.map(t=>(t.isDefault&&(e=t),delete t.isDefault,t)),this.defaultMap=e?new u.a(e):new u.a(this.maps[0])}}validate(e){let t=this._validateGeometryModel(EsriQuestionTypeGeoPointModel.EsriQuestionType,e);return t.addValidateResult(Object(s.c)(this,{string:["shareId"]})),this.webmap&&t.addError(new a.a(`The value of 'webmap' in '${this.label}' (id = ${this.id}) has been deprecated in v2.6`)),this.inputTools&&(Array.isArray(this.inputTools)?this.inputTools.forEach(e=>{-1===this._defaultinputTools.indexOf(e)&&t.addError(new a.a(`The value of 'inputTools' in '${this.label}' (id = ${this.id}) is not supported. Only support: ${this._defaultinputTools.join(", ")}`))}):t.addError(new a.a(`The value of 'inputTools' in '${this.label}' (id = ${this.id}) should be an array`))),this.displayFormats&&(Array.isArray(this.displayFormats)?this.displayFormats.forEach(e=>{-1===this._defaultDisplayFormats.indexOf(e)&&t.addError(new a.a(`The value of 'displayFormats' in '${this.label}' (id = ${this.id}) is not supported. Only support: ${this._defaultDisplayFormats.join(", ")}`))}):t.addError(new a.a(`The value of 'displayFormats' in '${this.label}' (id = ${this.id}) should be an array`))),this.defaultValue&&this.defaultValue instanceof n.b&&t.addValidateResult(this.defaultValue.validate()),t.check(),this._setErrorsByValidateResult(t),t}isAddressAppearance(){return!1===this.includeMap&&(this.inputTools||[]).includes("search")}}EsriQuestionTypeGeoPointModel.EsriQuestionType="esriQuestionTypeGeoPoint"},function(e,t,r){var i=r(42);e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},function(e,t,r){var i=r(89),n=r(63),o=r(32),s=r(56),a=r(30),u=r(174),l=Object.getOwnPropertyDescriptor;t.f=r(21)?l:function getOwnPropertyDescriptor(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return n(!i.f.call(e,t),e[t])}},function(e,t,r){var i=r(1),n=r(20),o=r(10);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],s={};s[e]=t(r),i(i.S+i.F*o((function(){r(1)})),"Object",s)}},function(e,t,r){var i=r(41),n=r(88),o=r(24),s=r(18),a=r(190);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,h=6==e,d=5==e||h,f=t||a;return function(t,a,p){for(var m,g,y=o(t),b=n(y),v=i(a,p,3),E=s(b.length),w=0,T=r?f(t,E):u?f(t,0):void 0;E>w;w++)if((d||w in b)&&(g=v(m=b[w],w,y),e))if(r)T[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:T.push(m)}else if(c)return!1;return h?-1:l||c?c:T}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeChoiceModel}));var i=r(8),n=r(163),o=r(161),s=r(26),a=r(13),u=r(2),l=r(3),c=r(5);class EsriQuestionTypeChoiceModel extends i.a{constructor(e){super(e),this._defaultLayouts=[],this._exceptDefaultWhitelist=["choices","appearance","defaultValue","isCachedAnswer","choicesOrder"],this._isSupportRule=!1,this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"select1"};const t={fieldType:this._defaultField.type,choices:new n.a,choicesOrder:new o.a};e=e||{},Object.assign(this,t),Object(u.k)(e.choices)&&(this.choices=new n.a(e.choices)),Object(u.k)(e.choicesOrder)&&(this.choicesOrder=new o.a(e.choicesOrder)),Object(u.k)(e.appearance)&&(this.appearance=new a.a(e.appearance)),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){e=new c.b(e),this.choices&&this.choices.setWhitelist(["other","reference","search","valueField","labelField","referenceFilter"]),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.choices&&this.choices&&(t.choices=this.choices.toJson?this.choices.toJson(e):this.choices),t.choicesOrder&&this.choicesOrder&&(t.choicesOrder=this.choicesOrder.toJson?this.choicesOrder.toJson():this.choicesOrder),t.appearance&&this.appearance&&(t.appearance=this.appearance.toJson?this.appearance.toJson():this.appearance),t}upgrade(e){this._compareVersion(e,"2.7")<=0&&this.appearance&&"compact"===this.appearance.layout&&(this.appearance.layout="vertical")}validateChoiceItemCode(e,t,r){return this.choices.validateChoiceItemCode(e,t,r)}canSetRule(){return this._isSupportRule}validate(e){return this._validateQuestionChoiceModel(EsriQuestionTypeChoiceModel.EsriQuestionType,e)}getFieldDomain(e){e=e||{};return{type:"codedValue",name:"cvd_"+this.fieldName,codedValues:this.choices.getCodedValues({referenceChoiceModel:e.referenceChoiceModel})}}sanitizeLabel(e){let t=this._sanitizeLabel(e);if(this.choices){let e=this.choices;if(e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{e.isPublished||e.isNameModified||e.sanitizeLabel({isIgnoreSanitize:!0})}),e.other){let t=e.other;t.isPublished||t.isNameModified||t.setName(`${this.name}${s.a.choiceOtherSuffix}`)}}return t}_validateQuestionChoiceModel(e,t){t=new l.e(t);let r=this._validateQuestionModel(e,t);if(this.choices)if(this.choices instanceof n.a){this.type;r.addValidateResult(this.choices.validate({ignoreOnlyAllowNumberEnglishCheck:!0,ignore32LengthCheck:!1,ignoreDuplicatedCheck:!1,existedNames:t.existedNames,isRestoreToDefaultName:t.isRestoreToDefaultName}))}else r.addError(`The choices in '${this.label}' (id=${this.id}) is not instanceof EsriChoiceModel`);else r.addError(`The choices in '${this.label}' (id=${this.id}) is not existed`);return this.choicesOrder&&(this.choicesOrder instanceof o.a?r.addValidateResult(this.choicesOrder.validate()):r.addError(`The choicesOrder in '${this.label}' (id=${this.id}) is not instanceof EsriChoiceOrderModel`)),this.appearance&&(this.appearance instanceof a.a?this._defaultLayouts.length>0&&r.addValidateResult(this.appearance.validate({supportLayouts:this._defaultLayouts})):r.addError(`The appearance in '${this.label}' (id=${this.id}) is not instanceof EsriAppearanceModel`)),r.check(),this._setErrorsByValidateResult(r),r}}EsriQuestionTypeChoiceModel.EsriQuestionType="esriQuestionTypeChoiceModel"},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeGroupModel}));var i=r(8),n=r(33),o=r(117),s=r(2),a=r(13),u=r(5);let l=null;class EsriQuestionTypeGroupModel extends i.a{constructor(e,t){super(e),this.type=EsriQuestionTypeGroupModel.EsriQuestionType,this.isRequired=!1,this.isGroupInstance=!0,t=Object.assign({oldFormVersion:null,useMapQuestionType:!1},t||{});const r={questions:[],appearance:new a.a({layout:"expanded"})};e=e||{},Object.assign(this,r),Object(s.k)(e.questions)&&(this.questions=this._convertByQuestions(e.questions,t)),this._setParent(),Object(s.k)(e.isRequired)&&(this.isRequired=e.isRequired),Object(s.k)(e.appearance)&&(this.appearance=new a.a(e.appearance)),this.updateSubQuestionIndexes()}toJson(e){(e=new u.b(e)).whiteLists=["appearance"];const t=this._toJson(e);return this.questions&&(t.questions=this.questions.map(t=>t.toJson?t.toJson(e):t)),t.appearance&&this.appearance&&(t.appearance=this.appearance.toJson?this.appearance.toJson():this.appearance),delete t.isRequired,t}validate(e){return this._validateGroupModel(EsriQuestionTypeGroupModel.EsriQuestionType,e)}addQuestion(e,t){t=Object.assign({index:-1},t||{}),e&&("number"==typeof t.index&&t.index>-1?this.questions.splice(t.index,0,e):this.questions.push(e)),this.updateSubQuestionIndexes(),this._setParent([e])}removeQuestion(e){"number"==typeof e&&e>-1&&(this.questions.splice(e,1),this.updateSubQuestionIndexes())}moveQuestion(e,t){const r=this.questions;if(r&&r.length){if(t<r.length){const i=r.splice(e,1)[0];return r.splice(t,0,i),this.updateSubQuestionIndexes(),i}}}getQuestions(){return this.questions}getQuestionByIndexes(e){let t=this.questions,r=null;return e.forEach(e=>{r=t[e],r&&r.questions&&(t=r.questions)}),r}updateSubQuestionIndexes(){this.questions.forEach((e,t)=>{const r=this.indexes.slice(0);r.push(t),e.indexes=r})}hasRuleInQuestions(e){e=e||this.questions;let t,r=!1;return e.forEach(e=>{e instanceof EsriQuestionTypeGroupModel?r=e.hasRuleInQuestions(e.questions):(t=e._tempEditor.ruleID,t&&!r&&(r=t.to.length>0||t.from.length>0))}),r}getAttachmentQuestions(){return this.questions.filter(e=>e instanceof n.a||e instanceof o.a)}_setParent(e){if(!(e=e||this.questions))throw new Error("no subQuestions when setParent()");e.forEach(e=>e.parent=this)}_validateGroupModel(e,t){const r=this._validateQuestionModel(e,t);return this.questions&&Array.isArray(this.questions)?this.questions.forEach(e=>{r.addValidateResult(e.validate(t))}):r.addError(`The questions in '${this.label}' (id=${this.id}) is not existed or not an array`),r.check(),this._setErrorsByValidateResult(r),r}_convertByQuestions(e,t){if(!l&&(l||(l=r(172).convertByQuestions),l=l,!l))throw new Error("cannot find _convertByQuestions");return l(e,t)}}EsriQuestionTypeGroupModel.EsriQuestionType="esriQuestionTypeGroup"},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(222),n=r(39);let o;o=Object(n.b)()?i.fetch:window.fetch;const s=o},function(e,t,r){"use strict";var i;r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return getExpressionFunctionByExpression})),function(e){e.average="avg",e.concat="concat",e.date="date",e.dateTime="date-time",e.decimalDateTime="decimal-date-time",e.userInputText="userInputType",e.matchAddress="matchAddress",e.matchAccuracy="matchAccuracy",e.postal="postal",e.city="city",e.countryCode="countryCode",e.longitude="longitude",e.latitude="latitude",e.length="length",e.perimeter="perimeter",e.area="area",e.utcOffset="utcOffset",e.language="language",e.geometry="geometry"}(i||(i={}));const n=[{name:i.average,type:"math"},{name:i.concat,type:"string",bindTypes:["string"]},{name:i.date,type:"datetime",bindTypes:["date"]},{name:i.decimalDateTime,type:"datetime",bindTypes:["dateTime","date"],mappingName:"decimal_date_time"},{name:i.dateTime,type:"datetime",bindTypes:["dateTime"],mappingName:"date_time"},{name:i.userInputText,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"searchText")',bindTypes:["string"],i18nKey:"pulldataAddressPropSearchText"},{name:i.matchAddress,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'if(pulldata("@json",${questionName},"attributes.Addr_type")="POI",pulldata("@json",${questionName},"attributes.Place_addr"),pulldata("@json",${questionName},"address"))',bindTypes:["string"],i18nKey:"pulldataAddressPropAddress"},{name:i.matchAccuracy,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"attributes.Score")',bindTypes:["string","int","decimal"],i18nKey:"pulldataAddressPropScore"},{name:i.postal,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"attributes.Postal")',bindTypes:["string"],i18nKey:"pulldataAddressPropPostal"},{name:i.city,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"attributes.City")',bindTypes:["string"],i18nKey:"pulldataAddressPropCity"},{name:i.countryCode,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"attributes.Country")',bindTypes:["string"],i18nKey:"pulldataAddressPropCountry"},{name:i.longitude,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"location.x")',bindTypes:["string","decimal","int"],i18nKey:"pulldataAddressPropLong"},{name:i.latitude,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'pulldata("@json",${questionName},"location.y")',bindTypes:["string","decimal","int"],i18nKey:"pulldataAddressPropLat"},{name:i.geometry,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeAddress",value:'concat(number(pulldata("@json",${questionName},"location.y"))," ",number(pulldata("@json",${questionName},"location.x")))',bindTypes:["geopoint"],i18nKey:"pulldataAddressPropLocation"},{name:i.geometry,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'concat(number(pulldata("@geopoint",${questionName},"y"))," ",number(pulldata("@geopoint",${questionName},"x")))',bindTypes:["geopoint"],i18nKey:"pulldataAddressPropLocation"},{name:i.longitude,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'pulldata("@geopoint",${questionName},"x")',bindTypes:["string","decimal","int"],i18nKey:"pulldataAddressPropLong"},{name:i.latitude,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'pulldata("@geopoint",${questionName},"y")',bindTypes:["string","decimal","int"],i18nKey:"pulldataAddressPropLat"},{name:i.matchAddress,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'pulldata("@geopoint",${questionName},"reversegeocode.address.Match_addr")',bindTypes:["string"],i18nKey:"pulldataMapPropAddress"},{name:i.postal,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'pulldata("@geopoint",${questionName},"reversegeocode.address.Postal")',bindTypes:["string"],i18nKey:"pulldataMapPropPostal"},{name:i.city,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'pulldata("@geopoint",${questionName},"reversegeocode.address.City")',bindTypes:["string"],i18nKey:"pulldataMapPropCity"},{name:i.countryCode,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeGeoPoint",value:'pulldata("@geopoint",${questionName},"reversegeocode.address.CountryCode")',bindTypes:["string"],i18nKey:"pulldataMapPropCountry"},{name:i.length,source:"question",type:"dataExtraction",questionType:"esriQuestionTypePolyline",value:"distance(${questionName})",bindTypes:["string","decimal","int"],i18nKey:"pulldataPolylinePropLength"},{name:i.perimeter,source:"question",type:"dataExtraction",questionType:"esriQuestionTypePolygon",value:"distance(${questionName})",bindTypes:["string","decimal","int"],i18nKey:"pulldataPolygonPropPerimeter"},{name:i.area,source:"question",type:"dataExtraction",questionType:"esriQuestionTypePolygon",value:"area(${questionName})",bindTypes:["string","decimal","int"],i18nKey:"pulldataPolygonPropArea"},{name:i.longitude,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeImage",value:'pulldata("@exif",${questionName},"GpsLongitude")',bindTypes:["string","decimal","int"],i18nKey:"pulldataImagePropLong"},{name:i.latitude,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeImage",value:'pulldata("@exif",${questionName},"GpsLatitude")',bindTypes:["string","decimal","int"],i18nKey:"pulldataImagePropLat"},{name:i.geometry,source:"question",type:"dataExtraction",questionType:"esriQuestionTypeImage",value:'concat(number(pulldata("@exif",${questionName},"GpsLatitude"))," ",number(pulldata("@exif",${questionName},"GpsLongitude")))',bindTypes:["geopoint"],i18nKey:"pulldataImagePropLocation"},{name:i.utcOffset,type:"dataExtraction",source:"survey",bindTypes:["string","decimal","int"],value:'pulldata("@property","utcoffset")',i18nKey:"pulldataSurveyPropUTCOffset"},{name:i.language,type:"dataExtraction",source:"survey",bindTypes:["string"],value:'pulldata("@property","language")',i18nKey:"pulldataSurveyPropLanguage"}];function getExpressionFunctionByExpression(e){return n.find(t=>t.value===e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";if(r(21)){var i=r(65),n=r(9),o=r(10),s=r(1),a=r(113),u=r(148),l=r(41),c=r(84),h=r(63),d=r(31),f=r(85),p=r(43),m=r(18),g=r(201),y=r(67),b=r(56),v=r(30),E=r(90),w=r(12),T=r(24),_=r(140),x=r(68),S=r(70),O=r(69).f,C=r(142),I=r(64),A=r(15),k=r(46),R=r(103),M=r(91),j=r(144),N=r(82),P=r(106),L=r(83),D=r(143),U=r(192),Q=r(22),B=r(44),V=Q.f,q=B.f,G=n.RangeError,W=n.TypeError,H=n.Uint8Array,$=Array.prototype,J=u.ArrayBuffer,z=u.DataView,Y=k(0),X=k(2),K=k(3),Z=k(4),ee=k(5),te=k(6),re=R(!0),ie=R(!1),ne=j.values,oe=j.keys,se=j.entries,ae=$.lastIndexOf,ue=$.reduce,le=$.reduceRight,ce=$.join,he=$.sort,de=$.slice,fe=$.toString,pe=$.toLocaleString,me=A("iterator"),ge=A("toStringTag"),ye=I("typed_constructor"),be=I("def_constructor"),ve=a.CONSTR,Ee=a.TYPED,we=a.VIEW,Te=k(1,(function(e,t){return allocate(M(e,e[be]),t)})),_e=o((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),xe=!!H&&!!H.prototype.set&&o((function(){new H(1).set({})})),toOffset=function(e,t){var r=p(e);if(r<0||r%t)throw G("Wrong offset!");return r},validate=function(e){if(w(e)&&Ee in e)return e;throw W(e+" is not a typed array!")},allocate=function(e,t){if(!w(e)||!(ye in e))throw W("It is not a typed array constructor!");return new e(t)},speciesFromList=function(e,t){return fromList(M(e,e[be]),t)},fromList=function(e,t){for(var r=0,i=t.length,n=allocate(e,i);i>r;)n[r]=t[r++];return n},addGetter=function(e,t,r){V(e,t,{get:function(){return this._d[r]}})},Se=function from(e){var t,r,i,n,o,s,a=T(e),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,d=C(a);if(null!=d&&!_(d)){for(s=d.call(a),i=[],t=0;!(o=s.next()).done;t++)i.push(o.value);a=i}for(h&&u>2&&(c=l(c,arguments[2],2)),t=0,r=m(a.length),n=allocate(this,r);r>t;t++)n[t]=h?c(a[t],t):a[t];return n},Oe=function of(){for(var e=0,t=arguments.length,r=allocate(this,t);t>e;)r[e]=arguments[e++];return r},Ce=!!H&&o((function(){pe.call(new H(1))})),Ie=function toLocaleString(){return pe.apply(Ce?de.call(validate(this)):validate(this),arguments)},Ae={copyWithin:function copyWithin(e,t){return U.call(validate(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function every(e){return Z(validate(this),e,arguments.length>1?arguments[1]:void 0)},fill:function fill(e){return D.apply(validate(this),arguments)},filter:function filter(e){return speciesFromList(this,X(validate(this),e,arguments.length>1?arguments[1]:void 0))},find:function find(e){return ee(validate(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(e){return te(validate(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(e){Y(validate(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(e){return ie(validate(this),e,arguments.length>1?arguments[1]:void 0)},includes:function includes(e){return re(validate(this),e,arguments.length>1?arguments[1]:void 0)},join:function join(e){return ce.apply(validate(this),arguments)},lastIndexOf:function lastIndexOf(e){return ae.apply(validate(this),arguments)},map:function map(e){return Te(validate(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(e){return ue.apply(validate(this),arguments)},reduceRight:function reduceRight(e){return le.apply(validate(this),arguments)},reverse:function reverse(){for(var e,t=validate(this).length,r=Math.floor(t/2),i=0;i<r;)e=this[i],this[i++]=this[--t],this[t]=e;return this},some:function some(e){return K(validate(this),e,arguments.length>1?arguments[1]:void 0)},sort:function sort(e){return he.call(validate(this),e)},subarray:function subarray(e,t){var r=validate(this),i=r.length,n=y(e,i);return new(M(r,r[be]))(r.buffer,r.byteOffset+n*r.BYTES_PER_ELEMENT,m((void 0===t?i:y(t,i))-n))}},ke=function slice(e,t){return speciesFromList(this,de.call(validate(this),e,t))},Re=function set(e){validate(this);var t=toOffset(arguments[1],1),r=this.length,i=T(e),n=m(i.length),o=0;if(n+t>r)throw G("Wrong length!");for(;o<n;)this[t+o]=i[o++]},Me={entries:function entries(){return se.call(validate(this))},keys:function keys(){return oe.call(validate(this))},values:function values(){return ne.call(validate(this))}},isTAIndex=function(e,t){return w(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},je=function getOwnPropertyDescriptor(e,t){return isTAIndex(e,t=b(t,!0))?h(2,e[t]):q(e,t)},Ne=function defineProperty(e,t,r){return!(isTAIndex(e,t=b(t,!0))&&w(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?V(e,t,r):(e[t]=r.value,e)};ve||(B.f=je,Q.f=Ne),s(s.S+s.F*!ve,"Object",{getOwnPropertyDescriptor:je,defineProperty:Ne}),o((function(){fe.call({})}))&&(fe=pe=function toString(){return ce.call(this)});var Pe=f({},Ae);f(Pe,Me),d(Pe,me,Me.values),f(Pe,{slice:ke,set:Re,constructor:function(){},toString:fe,toLocaleString:Ie}),addGetter(Pe,"buffer","b"),addGetter(Pe,"byteOffset","o"),addGetter(Pe,"byteLength","l"),addGetter(Pe,"length","e"),V(Pe,ge,{get:function(){return this[Ee]}}),e.exports=function(e,t,r,u){var l=e+((u=!!u)?"Clamped":"")+"Array",h="get"+e,f="set"+e,p=n[l],y=p||{},b=p&&S(p),v=!p||!a.ABV,T={},_=p&&p.prototype,addElement=function(e,r){V(e,r,{get:function(){return function(e,r){var i=e._d;return i.v[h](r*t+i.o,_e)}(this,r)},set:function(e){return function(e,r,i){var n=e._d;u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),n.v[f](r*t+n.o,i,_e)}(this,r,e)},enumerable:!0})};v?(p=r((function(e,r,i,n){c(e,p,l,"_d");var o,s,a,u,h=0,f=0;if(w(r)){if(!(r instanceof J||"ArrayBuffer"==(u=E(r))||"SharedArrayBuffer"==u))return Ee in r?fromList(p,r):Se.call(p,r);o=r,f=toOffset(i,t);var y=r.byteLength;if(void 0===n){if(y%t)throw G("Wrong length!");if((s=y-f)<0)throw G("Wrong length!")}else if((s=m(n)*t)+f>y)throw G("Wrong length!");a=s/t}else a=g(r),o=new J(s=a*t);for(d(e,"_d",{b:o,o:f,l:s,e:a,v:new z(o)});h<a;)addElement(e,h++)})),_=p.prototype=x(Pe),d(_,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&P((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=r((function(e,r,i,n){var o;return c(e,p,l),w(r)?r instanceof J||"ArrayBuffer"==(o=E(r))||"SharedArrayBuffer"==o?void 0!==n?new y(r,toOffset(i,t),n):void 0!==i?new y(r,toOffset(i,t)):new y(r):Ee in r?fromList(p,r):Se.call(p,r):new y(g(r))})),Y(b!==Function.prototype?O(y).concat(O(b)):O(y),(function(e){e in p||d(p,e,y[e])})),p.prototype=_,i||(_.constructor=p));var C=_[me],I=!!C&&("values"==C.name||null==C.name),A=Me.values;d(p,ye,!0),d(_,Ee,l),d(_,we,!0),d(_,be,p),(u?new p(1)[ge]==l:ge in _)||V(_,ge,{get:function(){return l}}),T[l]=p,s(s.G+s.W+s.F*(p!=y),T),s(s.S,l,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*o((function(){y.of.call(p,1)})),l,{from:Se,of:Oe}),"BYTES_PER_ELEMENT"in _||d(_,"BYTES_PER_ELEMENT",t),s(s.P,l,Ae),L(l),s(s.P+s.F*xe,l,{set:Re}),s(s.P+s.F*!I,l,Me),i||_.toString==fe||(_.toString=fe),s(s.P+s.F*o((function(){new p(1).slice()})),l,{slice:ke}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){_.toLocaleString.call([1,2])}))),l,{toLocaleString:Ie}),N[l]=I?C:A,i||I||d(_,me,A)}}else e.exports=function(){}},function(e,t,r){"use strict";r.d(t,"a",(function(){return getArcgisRestApiOptions}));r(158),r(119);let i={};function getArcgisRestApiOptions(e){return e?i[e]:i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Theme_FormTheme}));var i=r(2),n=r(0),o=r(86);class CommonStyle_CommonStyle{constructor(e){this.cssStyleInfo={},this._whiteLists=["backgroundColor","backgroundImage","backgroundImageFit","backgroundOpacity","textColor"],this._backgroundImageUrlRegexp="^url((.*?))$";let t={backgroundColor:n.w,backgroundImageFit:"fill",backgroundOpacity:1,backgroundType:"color",textColor:n.r};Object.assign(this,t,e||{}),this._ensureDefaultColor(t),this.upgrade(),this.setCssStyle()}upgrade(){this.color&&(this.textColor=this.color,delete this.color)}setCssStyle(){this.cssStyleInfo={};let e=this.getCssBackground();e&&(this.cssStyleInfo.background=e),this.backgroundImageThumbnail&&(this.cssStyleInfo.backgroundThumbnail=this.getCssBackground({isThumbnail:!0})),this.textColor&&(this.cssStyleInfo.color=this.textColor)}getCssBackground(e){e=Object.assign({isThumbnail:!1},e||{});let t=[];if(this.backgroundColor&&(t[0]=this.backgroundColor),"image"===this.backgroundType){if(this.backgroundImage||this.backgroundImageThumbnail){let r=this.backgroundImage;this.backgroundImageThumbnail&&!0===e.isThumbnail&&(r=this.backgroundImageThumbnail);let i=this._addUrlOnBackgroundImagePath(r);-1===(t[0]||"").indexOf("-gradient(")&&(t[1]=i)}if(this.backgroundImageFit){let e=this.backgroundImageFit;const r={fill:"cover",fit:"contain",stretch:"100% 100%",repeat:"",repeatY:"100% auto",center:"auto"};t[3]="repeat"===e||"repeatY"===e?"repeat":"no-repeat","repeat"===e?t[2]="center":(e=r[e]?r[e]:r.fill,t[2]="center/"+e)}}return t.join(" ")}toJson(e){let t=this._whiteLists;return"color"===this.backgroundType&&(t=t.filter(e=>-1===e.indexOf("backgroundImage"))),Object.keys(this).reduce((e,r)=>{let i=this[r];return-1===t.indexOf(r)||(i||i>=0)&&(e[r]=i),e},{})}_ensureDefaultColor(e){e&&Object(o.a)(e)&&(Object.keys(e).forEach(t=>{this[t]=this[t]||e[t]}),this.backgroundImage&&(this.backgroundType="image"),"repeatVertical"===this.backgroundImageFit&&(this.backgroundImageFit="repeatY"))}_addUrlOnBackgroundImagePath(e){let t=""+e;return!1===this._hasUrlOnBackgroundImagePath(e)&&(t=`url(${e})`),t}_hasUrlOnBackgroundImagePath(e){return new RegExp(this._backgroundImageUrlRegexp).test(e)}_removeUrlOnBackgroundImagePath(e){let t=""+e,r=new RegExp(this._backgroundImageUrlRegexp).exec(e);return r.length>1&&(t=""+r[1].replace("(","").replace(")","")),t}}class Style_FormStyle extends CommonStyle_CommonStyle{constructor(e){super(e),this._whiteLists=["backgroundColor","backgroundImage","backgroundImageFit","backgroundOpacity","primaryColor","primaryTextColor","textColor","inputTextColor","inputBackgroundColor"],e=e||{};const t={primaryColor:n.x,primaryTextColor:n.I,inputTextColor:n.r,inputBackgroundColor:n.I,inputBackgroundOpacity:1,backgroundColor:n.I,textColor:n.r,backgroundImageFit:"repeat"};Object.assign(this,t,e),this._ensureDefaultColor(t),this.backgroundImage&&(this.backgroundImage=Object(i.b)(this.backgroundImage))}}class Style_HeaderStyle extends CommonStyle_CommonStyle{constructor(e){super(e),this._whiteLists=["backgroundColor","backgroundImage","backgroundImageFit","textColor"];let t={backgroundColor:n.x,textColor:n.I};Object.assign(this,t,e||{}),this._ensureDefaultColor(t)}}class Style_WebpageStyle extends CommonStyle_CommonStyle{constructor(e){super(e),this._whiteLists=["backgroundColor","backgroundImage","backgroundImageFit"];let t={backgroundImageFit:"fill"};Object.assign(this,t,e||{}),this._ensureDefaultColor(t),this.backgroundImage&&(this.backgroundImage=Object(i.b)(this.backgroundImage))}}var s=r(220);class Theme_FormTheme{constructor(e){this._whitelists=["id","name","header","form","webpage","isEnabled"],this._supportedFormStyles=["header","form","webpage"];let t={id:null,name:"theme-color1",isEnabled:!1,header:new Style_HeaderStyle({textColor:n.I}),form:new Style_FormStyle,webpage:new Style_WebpageStyle,_calculatedColor:{}};Object.assign(this,t),this.update(e)}setId(e){this.id=e}getId(){return this.id}update(e){if(e=e||{},Object.assign(this,e),Object(i.k)(e.header)&&"object"==typeof e.header&&(this.header=new Style_HeaderStyle(e.header)),Object(i.k)(e.form)&&"object"==typeof e.form){let t=e.form;e.primaryColor&&(t=Object.assign({primaryColor:e.primaryColor},e.form),delete this.primaryColor),this.form=new Style_FormStyle(t)}Object(i.k)(e.webpage)&&"object"==typeof e.webpage&&(this.webpage=new Style_WebpageStyle(e.webpage)),Object(i.k)(e.webPage)&&"object"==typeof e.webPage&&(this.webpage=new Style_WebpageStyle(e.webPage),delete this.webPage)}updateFromDisplayInfoStyle(e){e=e||{};let t=!1;Object.keys(e).forEach(r=>{let i=e[r];null!=i&&(-1!==["toolbarBackgroundColor","toolbarTextColor"].indexOf(r)?("toolbarBackgroundColor"===r&&i!==this.header.backgroundColor&&(t=!0),"toolbarTextColor"===r&&i!==this.header.textColor&&(t=!0)):i!==this.form[r]&&(t=!0))}),t&&this.update({name:"theme-custom",webpage:{backgroundImage:this.webpage.backgroundImage,backgroundColor:this.webpage.backgroundColor,backgroundType:e.backgroundImage?"image":"color"},form:{inputBackgroundColor:e.inputBackgroundColor||this.form.inputBackgroundColor,inputTextColor:e.inputTextColor||this.form.inputTextColor,textColor:e.textColor||this.form.textColor,backgroundOpacity:this.form.backgroundOpacity||1,primaryColor:e.toolbarBackgroundColor||this.form.primaryColor,primaryTextColor:e.toolbarTextColor||this.form.primaryTextColor,backgroundColor:e.backgroundColor||this.form.backgroundColor,backgroundImage:e.backgroundImage||this.form.backgroundImage},header:{backgroundColor:e.toolbarBackgroundColor||this.header.backgroundColor,textColor:e.toolbarTextColor||this.header.textColor}})}updateFromOrgSharedTheme(e){e=new s.a(e||{}),this.update({name:"theme-orgShared",header:{backgroundColor:e.getValue("button.background")||n.x,textColor:e.getValue("header.text")||n.a},form:{textColor:e.getValue("body.text")||n.a,primaryColor:e.getValue("button.background")||n.x,primaryTextColor:e.getValue("button.text")||n.a},webpage:{backgroundColor:e.getValue("body.background")||n.t}})}toJson(){let e=Object.keys(this).reduce((e,t)=>{if(-1===this._whitelists.indexOf(t))return e;let r=this[t];return r instanceof CommonStyle_CommonStyle&&(r=r.toJson()),e[t]=r,e},{});return e.name=e.name||"theme-color1",e}isCustomTheme(){return"theme-custom"===this.name}isImportTheme(){return"theme-import"===this.name}getCustomizedThemeName(){return"theme-custom"}setStyle(e,t){if(-1!==this._supportedFormStyles.indexOf(e)){let r,i=Object.assign(this[e]||{},t||{});"header"===e&&(r=new Style_HeaderStyle(i)),"form"===e&&(r=new Style_FormStyle(i)),"webpage"===e&&(r=new Style_WebpageStyle(i)),this[e]=r,this[e].setCssStyle()}}getStyle(e,t){if(-1!==this._supportedFormStyles.indexOf(e)){let r=this[e];return t&&r?r[t]:r}return null}setName(e){this.name=e}getName(){return this.name}resetStyle(e){(e=Object.assign({includeStyles:this._supportedFormStyles,excludeStyles:[]},e||{})).includeStyles.forEach(t=>{this[t]&&-1===e.excludeStyles.indexOf(t)&&(this[t]=null,this[t]=this.setStyle(t,null))})}setStyleFromOrgTheme(e){e=e||{},Object.keys(e).forEach(t=>{let r=null,i=e[t];"header"===t&&(r=t),r&&i&&"object"==typeof i&&Object.keys(i).length>0&&(this[r]=Object.keys(i).reduce((e,t)=>{let r=i[t];return r&&("background"===t&&(e.backgroundColor=r),"text"===t&&(e.textColor=r)),e},{}))})}setCssStyle(){["header","webpage","form"].forEach(e=>{this[e]&&this[e].setCssStyle&&this[e].setCssStyle()})}getCalculatedColor(e){if(!this._calculatedColor)throw new Error("calcualtedColor is null. Please run calculateRuntimeColor() first");return e&&this._calculatedColor?this._calculatedColor[e]:this._calculatedColor}setCalculatedColor(e,t){e&&(this._calculatedColor[e]=t)}}},function(e,t,r){var i=r(12);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var i=r(64)("meta"),n=r(12),o=r(30),s=r(22).f,a=0,u=Object.isExtensible||function(){return!0},l=!r(10)((function(){return u(Object.preventExtensions({}))})),setMeta=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},c=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!u(e))return"F";if(!t)return"E";setMeta(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!u(e))return!0;if(!t)return!1;setMeta(e)}return e[i].w},onFreeze:function(e){return l&&c.NEED&&u(e)&&!o(e,i)&&setMeta(e),e}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriSearchSourceModel}));var i=r(3),n=r(17);class EsriSearchSourceModel{constructor(e){this.whitelist=["type","url","itemId"];e=e||{},Object.assign(this,{},e)}setWhitelist(e){e=e||[],this.whitelist=this.whitelist.concat(e)}toJson(){return Object(n.b)(this,this.whitelist)}validate(){let e=new i.a;return e.addValidateResult(Object(i.c)(this,{string:["type","itemId","title","name","thumbnail","portalUrl"]})),e.check()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriChoiceItemStyleModel}));var i=r(17),n=r(3),o=r(26);class EsriChoiceItemStyleModel{constructor(e){this._whitelist=[];e=e||{},Object.assign(this,{},e)}setWhitelist(e){e=e||[],this._whitelist=this._whitelist.concat(e)}toJson(e){e=new o.b(e);let t=this._whitelist.concat(e.extraWhiteLists);return Object(i.b)(this,t)}validate(){let e=new n.a;return e.addValidateResult(Object(n.c)(this,{array:["gradientColor","gradientSize"],string:["mediaType","mediaUrl","backgroundColor","color"]})),e.check()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriChoiceItemModel}));var i=r(2),n=r(17),o=r(3),s=r(227),a=r(26),u=r(59);class EsriChoiceItemModel{constructor(e){this.isNameModified=!1,this._whitelist=["label","value","position"],this._defaultCodedValuePrefix=a.a.choiceItemCodedValuePrefix,this._replaceValueRegExp=null;e=e||{},Object.assign(this,{label:null,value:null,position:0},e),Object(i.k)(this.style)&&(this.style=new u.a(this.style))}setWhitelist(e){e=e||[],this._whitelist=this._whitelist.concat(e)}toJson(e){e=new a.b(e);const t=this._whitelist.concat(e.extraWhiteLists);e.extraWhiteLists&&e.extraWhiteLists.includes("isNameModified")&&this.isPublished&&this.setNameModified(!0);const r=Object(n.b)(this,t);return r.style&&this.style&&(r.style=this.style.toJson?this.style.toJson(e):this.style),r}validate(){const e=new o.a;return e.addValidateResult(Object(o.c)(this,{string:["label","type"],number:["position","groupIndex"],boolean:["isChecked","isPublished"]})),this.style&&(this.style instanceof u.a?e.addValidateResult(this.style.validate()):e.addError(new Error("the choice item style is not EsriChoiceItemStyleModel"))),Object(i.k)(this.value)&&(this.value=this._replaceValue(this.value)),e.check()}setReplaceValueRegExp(e){e&&(this._replaceValueRegExp=e)}sanitizeLabel(e){if(e=Object.assign({isUpdateValue:!0,isIgnoreSanitize:!0},e||{}),!0===this.isPublished)return this.value;if(!0===this.isNameModified)return this.value;let t;return t=!0===e.isIgnoreSanitize?this._replaceValue(this.label):Object(s.a)(this.label||"",{isAllowedStartWithNumber:!0}),t&&"_"!==t&&!t.match(/^\_[0-9]+$/)||(t=this.resetCodedValue()),!0===e.isUpdateValue&&(this.value=t),t}resetCodedValue(){return this.value=this.getDefaultCodedValue(),this.value}getDefaultCodedValue(){return this._defaultCodedValue||`${this._defaultCodedValuePrefix}${this._objectId}`}setDefaultCodedValue(e){this._defaultCodedValue=e||this.getDefaultCodedValue()}setObjectId(e){this._objectId=""+e}getObjectId(){return this._objectId}isDefaultValue(){let e=!1;const t=(""+this.value).toLowerCase();return(/^choice[0-9]+$/.exec(t)||/^choice\_[0-9]+$/.exec(t))&&(e=!0),e}setNameModified(e){!0!==e&&!1!==e||(this.isNameModified=e)}getObjectIdFromValue(){const e=this.value||"";let t=null;const r=(""+e).toLowerCase();if(e.match(/^choice[0-9]+$/)||e.match(/^choice\_[0-9]+$/)){let e=(r.split("choice")||r.split("choice_")||[])[1];e&&(e=e.replace(/\_/g,""),isNaN(parseInt(e,10))||(t=""+parseInt(e,10)))}return t}_replaceValue(e){return e=""+e||"",this._replaceValueRegExp&&(e=e.replace(this._replaceValueRegExp,"_")),e=e.replace(/_+/g,"_"),e=Object(s.b)(e)}}},function(e,t){"function"==typeof Object.create?e.exports=function inherits(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}}},,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},function(e,t){e.exports=!1},function(e,t,r){var i=r(176),n=r(127);e.exports=Object.keys||function keys(e){return i(e,n)}},function(e,t,r){var i=r(43),n=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):o(e,t)}},function(e,t,r){var i=r(11),n=r(177),o=r(127),s=r(126)("IE_PROTO"),Empty=function(){},createDict=function(){var e,t=r(124)("iframe"),i=o.length;for(t.style.display="none",r(128).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),createDict=e.F;i--;)delete createDict.prototype[o[i]];return createDict()};e.exports=Object.create||function create(e,t){var r;return null!==e?(Empty.prototype=i(e),r=new Empty,Empty.prototype=null,r[s]=e):r=createDict(),void 0===t?r:n(r,t)}},function(e,t,r){var i=r(176),n=r(127).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return i(e,n)}},function(e,t,r){var i=r(30),n=r(24),o=r(126)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){var i=r(15)("unscopables"),n=Array.prototype;null==n[i]&&r(31)(n,i,{}),e.exports=function(e){n[i][e]=!0}},function(e,t,r){var i=r(12);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){var r,i,n=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){i=defaultClearTimeout}}();var o,s=[],a=!1,u=-1;function cleanUpNextTick(){a&&o&&(a=!1,o.length?s=o.concat(s):u=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=s.length;t;){for(o=s,s=[];++u<t;)o&&o[u].run();u=-1,t=s.length}o=null,a=!1,function runClearTimeout(e){if(i===clearTimeout)return clearTimeout(e);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new Item(e,t)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){"use strict";function requiresFormData(e){return Object.keys(e).some((function(t){var r=e[t];if(!r)return!1;switch(r&&r.toParam&&(r=r.toParam()),r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function processParams(e){var t={};return Object.keys(e).forEach((function(r){var i=e[r];if(i&&i.toParam&&(i=i.toParam()),i||0===i||"boolean"==typeof i||"string"==typeof i){var n;switch(i.constructor.name){case"Array":n=i[0]&&i[0].constructor&&"Object"===i[0].constructor.name?JSON.stringify(i):i.join(",");break;case"Object":n=JSON.stringify(i);break;case"Date":n=i.valueOf();break;case"Function":n=null;break;case"Boolean":n=i+"";break;default:n=i}(n||0===n||"string"==typeof n)&&(t[r]=n)}})),t}r.d(t,"b",(function(){return requiresFormData})),r.d(t,"a",(function(){return processParams}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return EventPromise})),r.d(t,"b",(function(){return isSupportedEventListener}));var i,n=r(460);!function(e){e.requestCredential="arcgis:auth:requestCredential",e.credential="arcgis:auth:credential",e.error="arcgis:auth:error"}(i||(i={}));var o=r(459),s=r(461),a=r(462);class EventPromise{constructor(e){this.created=Date.now(),e=e||{},Object.assign(this,e)}}const u=[].concat(Object(n.a)(i),Object(n.a)(o.a),Object(n.a)(s.a),Object(n.a)(s.b),Object(n.a)(a.a));function isSupportedEventListener(e){return-1!==u.indexOf(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var i=function i(e,t,r,n,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=o};i.prototype=Object.create(Error.prototype),i.prototype.constructor=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypePolylineModel}));var i=r(87),n=r(7),o=r(36),s=r(3),a=r(4);class EsriQuestionTypePolylineModel extends i.a{constructor(e){super(e),this.type=EsriQuestionTypePolylineModel.EsriQuestionType,this.geometryType="esriGeometryPolyline",this.includeMap=!0,this.inputTools=[],this.bindType="geotrace",this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","maps","defaultMap","search","defaultExtent","defaultLocation","deviceLocation","inputTools"],this._xform={type:"polyline"},this._defaultinputTools=["vertex","freehand","shape"];e=e||{},Object.assign(this,{inputTools:["vertex"],defaultValue:null}),e.inputTools&&e.inputTools.length&&(this.inputTools=e.inputTools),e.defaultValue&&Array.isArray(e.defaultValue.paths)&&e.defaultValue.paths.length&&Object(o.b)(e.defaultValue.paths)&&this.setDefaultValue(new n.d(e.defaultValue))}toJson(e){const t=this._toJson(e);return delete t.fieldName,t}setDefaultValue(e){this.defaultValue=new n.d(e)}validate(e){let t=this._validateGeometryModel(EsriQuestionTypePolylineModel.EsriQuestionType,e);return t.addValidateResult(Object(s.c)(this,{string:["shareId"]})),this.webmap&&t.addError(new a.a(`The value of 'webmap' in '${this.label}' (id = ${this.id}) has been deprecated in v2.6`)),this.inputTools&&(Array.isArray(this.inputTools)?this.inputTools.forEach(e=>{-1===this._defaultinputTools.indexOf(e)&&t.addError(new a.a(`The value of 'inputTools' in '${this.label}' (id = ${this.id}) is not supported. Only support: ${this._defaultinputTools.join(", ")}`))}):t.addError(new a.a(`The value of 'inputTools' in '${this.label}' (id = ${this.id}) should be an array`))),this.defaultValue&&this.defaultValue instanceof n.d&&t.addValidateResult(this.defaultValue.validate()),t.check(),this._setErrorsByValidateResult(t),t}}EsriQuestionTypePolylineModel.EsriQuestionType="esriQuestionTypePolyline"},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypePolygonModel}));var i=r(87),n=r(7),o=r(36),s=r(3),a=r(4);class EsriQuestionTypePolygonModel extends i.a{constructor(e){super(e),this.type=EsriQuestionTypePolygonModel.EsriQuestionType,this.geometryType="esriGeometryPolygon",this.includeMap=!0,this.inputTools=[],this.bindType="geoshape",this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","maps","defaultMap","search","defaultExtent","defaultLocation","deviceLocation","inputTools","displayFormats"],this._xform={type:"polygon"},this._defaultinputTools=["vertex","freehand","shape"];e=e||{},Object.assign(this,{inputTools:["vertex"],defaultValue:null}),e.inputTools&&e.inputTools.length&&(this.inputTools=e.inputTools),e.defaultValue&&Array.isArray(e.defaultValue.rings)&&e.defaultValue.rings.length&&Object(o.c)(e.defaultValue.rings)&&this.setDefaultValue(new n.c(e.defaultValue))}toJson(e){const t=this._toJson(e);return delete t.fieldName,t}setDefaultValue(e){this.defaultValue=new n.c(e)}validate(e){let t=this._validateGeometryModel(EsriQuestionTypePolygonModel.EsriQuestionType,e);return t.addValidateResult(Object(s.c)(this,{string:["shareId"]})),this.webmap&&t.addError(new a.a(`The value of 'webmap' in '${this.label}' (id = ${this.id}) has been deprecated in v2.6`)),this.inputTools&&(Array.isArray(this.inputTools)?this.inputTools.forEach(e=>{-1===this._defaultinputTools.indexOf(e)&&t.addError(new a.a(`The value of 'inputTools' in '${this.label}' (id = ${this.id}) is not supported. Only support: ${this._defaultinputTools.join(", ")}`))}):t.addError(new a.a(`The value of 'inputTools' in '${this.label}' (id = ${this.id}) should be an array`))),this.defaultValue&&this.defaultValue instanceof n.c&&t.addValidateResult(this.defaultValue.validate()),t.check(),this._setErrorsByValidateResult(t),t}}EsriQuestionTypePolygonModel.EsriQuestionType="esriQuestionTypePolygon"},function(e,t,r){"use strict";var i=r(114),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=Duplex;var o=Object.create(r(93));o.inherits=r(61);var s=r(210),a=r(171);o.inherits(Duplex,s);for(var u=n(a.prototype),l=0;l<u.length;l++){var c=u[l];Duplex.prototype[c]||(Duplex.prototype[c]=a.prototype[c])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||i.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,r){var i=r(22).f,n=r(30),o=r(15)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,r){var i=r(1),n=r(52),o=r(10),s=r(130),a="["+s+"]",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),exporter=function(e,t,r){var n={},a=o((function(){return!!s[e]()||"​"!="​"[e]()})),u=n[e]=a?t(c):s[e];r&&(n[r]=u),i(i.P+i.F*a,"String",n)},c=exporter.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=exporter},function(e,t){e.exports={}},function(e,t,r){"use strict";var i=r(9),n=r(22),o=r(21),s=r(15)("species");e.exports=function(e){var t=i[e];o&&t&&!t[s]&&n.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var i=r(28);e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},function(e,t,r){"use strict";function isObject(e){return null!==e&&"object"==typeof e}r.d(t,"a",(function(){return isObject}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeGeometryModel}));var i=r(8),n=r(25),o=r(7),s=r(2),a=r(4),u=r(5),l=r(58);class EsriQuestionTypeGeometryModel extends i.a{constructor(e){super(e),this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","maps","defaultMap","search","defaultExtent","defaultLocation","deviceLocation"],this._defaultField={type:"esriFieldTypeGeometry"};const t={fieldType:this._defaultField.type,defaultValue:null,defaultExtent:new o.a,deviceLocation:{trigger:"locateButton"},maps:[],defaultMap:null,search:{sources:[]}};if(e=e||{},Object.assign(this,t),this.setName(this.name),this.fieldName=null,Object(s.k)(e.defaultExtent)&&this.setDefaultExtent(e.defaultExtent),Object(s.k)(e.defaultLocation)&&this.setDefaultLocation(e.defaultLocation),Object(s.k)(e.maps)&&this.setMaps(e.maps),Object(s.k)(e.defaultMap)&&(this.defaultMap=new n.a(e.defaultMap)),Object(s.k)(e.search)&&e.search.sources&&e.search.sources.length>0){const t=[];e.search.sources.forEach(e=>{t.push(new l.a(e))}),this.search.sources=t,Object(s.k)(e.search.maxSuggestions)&&(this.search.maxSuggestions=e.search.maxSuggestions),Object(s.k)(e.search.maxLocations)&&(this.search.maxLocations=e.search.maxLocations)}Object(s.k)(e.deviceLocation)&&(this.deviceLocation=e.deviceLocation),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){return this._toJson(e)}upgrade(e){if(this._compareVersion(e,"2.6")<0&&this.webmap&&(this.maps=[],this.addMap(new n.a(this.webmap)),this.webmap.extent&&(this.setDefaultExtent(this.webmap.extent),!this.webmap.defaultValue))){const e=this.webmap.extent;e.spatialReference&&e.spatialReference.wkid&&this.setDefaultValue(new o.b({x:(parseFloat(e.xmin)+parseFloat(e.xmax))/2,y:(parseFloat(e.ymin)+parseFloat(e.ymax))/2,spatialReference:{wkid:e.spatialReference.wkid}}))}if(this._compareVersion(e,"3.14")<0&&(void 0!==this.isDeviceLocationRequired&&(this.isDeviceLocationRequired?this.deviceLocation={trigger:"interaction"}:this.deviceLocation={trigger:"locateButton"}),void 0!==this.isDeviceLocationRequired||this.deviceLocation||(this.deviceLocation={trigger:"locateButton"})),this._compareVersion(e,"3.14")<0){let e=null;this.maps=this.maps.map(t=>(t.isDefault&&(e=t),delete t.isDefault,t)),this.defaultMap=e?new n.a(e):new n.a(this.maps[0])}}validate(e){return this._validateGeometryModel(EsriQuestionTypeGeometryModel.EsriQuestionType,e)}setDefaultExtent(e){e&&(this.defaultExtent=new o.a(e))}getDefaultExtent(){return this.defaultExtent}setDefaultLocation(e){Object(s.k)(e.center)&&(this.defaultLocation=this.defaultLocation||{},this.defaultLocation.center=new o.b(e.center)),Object(s.k)(e.level)&&(this.defaultLocation=this.defaultLocation||{},this.defaultLocation.level=e.level)}getDefaultLocation(){return this.defaultLocation}setMaps(e){e&&Array.isArray(e)&&(this.maps=e.map(e=>new n.a(e)))}getMap(e){return this.maps[e]}getMaps(){return this.maps||[]}getLinkedMaps(){return this.maps.filter(e=>"webmap"===e.type||"linkedItem"===e.type)}hasLinkedMap(){return this.getLinkedMaps().length>0}getDefaultMap(){return this.defaultMap?this.defaultMap:null}setDefaultMap(e){this.defaultMap=e}addMap(e){if(e&&e instanceof n.a){0===this.maps.filter(t=>e.itemId&&e.itemId&&e.itemId===t.itemId).length&&this.maps.push(e)}}removeMap(e){this.maps[e]&&this.maps.splice(e,1)}getDefaultValue(){return this.defaultValue}setDefaultValue(e){this.defaultValue=e}_toJson(e){(e=new u.b(e)).whiteLists=this._exceptDefaultWhitelist;const t=this.__toJson(e);if(t.maps&&this.maps&&(t.maps=this.maps.map(e=>e&&e.toJson?e.toJson():e)),t.defaultMap&&this.defaultMap&&(t.defaultMap=this.defaultMap.toJson()),t.search&&t.search.sources&&t.search.sources.length>0){const e=[];t.search.sources.forEach(t=>{e.push(t.toJson())}),t.search.sources=e}return t.search.maxSuggestions&&(t.search.maxSuggestions=this.search.maxSuggestions),t.search.maxLocations&&(t.search.maxLocations=this.search.maxLocations),t.defaultValue&&this.defaultValue&&(t.defaultValue=this.defaultValue.toJson?this.defaultValue.toJson():this.defaultValue),t.defaultExtent&&this.defaultExtent&&(t.defaultExtent=this.defaultExtent.toJson?this.defaultExtent.toJson():this.defaultExtent),t}_validateGeometryModel(e,t){const r=this._validateQuestionModel(e,t);return this.maps?Array.isArray(this.maps)?this.maps.forEach((e,t)=>{e instanceof n.a?r.addValidateResult(e.validate()):r.addError(new a.a(`The ${t}th of 'maps' in '${this.label}' (id = ${this.id}) is not EsriWebMapModel`))}):r.addError(new a.a(`The value of 'maps' in '${this.label}' (id = ${this.id}) should be an array`)):r.addError(`The maps in '${this.label}' (id = ${this.id}) is not existed`),this.defaultExtent?this.defaultExtent instanceof o.a?r.addValidateResult(this.defaultExtent.validate()):r.addError(new a.a(`The defaultExtent in '${this.label}' (id = ${this.id}) is not EsriExtentModel`)):r.addError(`The defaultExtent in '${this.label}' (id = ${this.id}) is not existed`),r.check(),this._setErrorsByValidateResult(r),r}}},function(e,t,r){var i=r(51);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var i=r(51),n=r(15)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?r:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){var i=r(11),n=r(42),o=r(15)("species");e.exports=function(e,t){var r,s=i(e).constructor;return void 0===s||null==(r=i(s)[o])?t:n(r)}},function(e,t,r){"use strict";(function(e){var i=r(424),n=r(425),o=r(207);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,r,i){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,r):new Uint8Array(t,r,i);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,r,i):"string"==typeof t?function fromString(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(t,r),n=(e=createBuffer(e,i)).write(t,r);n!==i&&(e=e.slice(0,n));return e}(e,t,r):function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var i=0;i<r;i+=1)e[i]=255&t[i];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function swap(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function bidirectionalIndexOf(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,i,n);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,i,n){var o,s=1,a=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function read(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){var l=-1;for(o=r;o<a;o++)if(read(e,o)===read(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var c=!0,h=0;h<u;h++)if(read(e,o+h)!==read(t,h)){c=!1;break}if(c)return o}return-1}function hexWrite(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function utf8Write(e,t,r,i){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,i)}function asciiWrite(e,t,r,i){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function latin1Write(e,t,r,i){return asciiWrite(e,t,r,i)}function base64Write(e,t,r,i){return blitBuffer(base64ToBytes(t),e,r,i)}function ucs2Write(e,t,r,i){return blitBuffer(function utf16leToBytes(e,t){for(var r,i,n,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(t,e.length-r),e,r,i)}function base64Slice(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var o,s,a,u,l=e[n],c=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[n+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[n+1],s=e[n+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[n+1],s=e[n+2],a=e[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),n+=h}return function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return r}(i)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return function alloc(e,t,r,i){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof i?createBuffer(e,t).fill(r,i):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=Buffer.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var s=e[r];if(!Buffer.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,r,i,n){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(i,n),l=e.slice(t,r),c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function latin1Slice(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function hexSlice(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=t;o<r;++o)n+=toHex(e[o]);return n}function utf16leSlice(e,t,r){for(var i=e.slice(t,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,i,n,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,i){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-r,2);n<o;++n)e[r+n]=(t&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function objectWriteUInt32(e,t,r,i){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-r,4);n<o;++n)e[r+n]=t>>>8*(i?n:3-n)&255}function checkIEEE754(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,i,o){return o||checkIEEE754(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function writeDouble(e,t,r,i,o){return o||checkIEEE754(e,0,r,8),n.write(e,t,r,i,52,8),r+8}Buffer.prototype.slice=function slice(e,t){var r,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var n=t-e;r=new Buffer(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+e]}return r},Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i},Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var i=t,n=1,o=this[e+--i];i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),n.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),n.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),n.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),n.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,i){(e=+e,t|=0,r|=0,i)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,i){(e=+e,t|=0,r|=0,i)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,i){if(e=+e,t|=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,i){if(e=+e,t|=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,i){if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n,o=i-r;if(this===e&&r<t&&t<i)for(n=o-1;n>=0;--n)e[n+t]=this[n+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function fill(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,i).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var i=e.length,n=null,o=[],s=0;s<i;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(e){return i.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(s,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}}).call(this,r(38))},function(e,t,r){function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)},t.isBoolean=function isBoolean(e){return"boolean"==typeof e},t.isNull=function isNull(e){return null===e},t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=function isNumber(e){return"number"==typeof e},t.isString=function isString(e){return"string"==typeof e},t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=function isUndefined(e){return void 0===e},t.isRegExp=function isRegExp(e){return"[object RegExp]"===objectToString(e)},t.isObject=function isObject(e){return"object"==typeof e&&null!==e},t.isDate=function isDate(e){return"[object Date]"===objectToString(e)},t.isError=function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error},t.isFunction=function isFunction(e){return"function"==typeof e},t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(92).Buffer.isBuffer},function(e,t,r){"use strict";r.d(t,"b",(function(){return sanitizeHtml})),r.d(t,"a",(function(){return isValidSanitizedHtml}));var i=Function.prototype,n=Object.prototype,o=i.toString,s=n.hasOwnProperty,a=o.call(Object),u=n.toString,l=function overArg(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);var c=function isPlainObject(e){if(!function isObjectLike(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=s.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&o.call(r)==a};function createCommonjsModule(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}function getDefaultWhiteList(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var h=/javascript\s*\:/gim;var d={whiteList:getDefaultWhiteList(),getDefaultWhiteList:getDefaultWhiteList,onAttr:function onAttr(e,t,r){},onIgnoreAttr:function onIgnoreAttr(e,t,r){},safeAttrValue:function safeAttrValue(e,t){return h.test(t)?"":t}},util_trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},util_trimRight=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var f=function parseStyle(e,t){";"!==(e=util_trimRight(e))[e.length-1]&&(e+=";");var r=e.length,i=!1,n=0,o=0,s="";function addNewAttr(){if(!i){var r=util_trim(e.slice(n,o)),a=r.indexOf(":");if(-1!==a){var u=util_trim(r.slice(0,a)),l=util_trim(r.slice(a+1));if(u){var c=t(n,s.length,u,l,r);c&&(s+=c+"; ")}}}n=o+1}for(;o<r;o++){var a=e[o];if("/"===a&&"*"===e[o+1]){var u=e.indexOf("*/",o+2);if(-1===u)break;n=(o=u+1)+1,i=!1}else"("===a?i=!0:")"===a?i=!1:";"===a?i||addNewAttr():"\n"===a&&addNewAttr()}return util_trim(s)};function isNull(e){return null==e}function FilterCSS(e){(e=function shallowCopyObject(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||d.whiteList,e.onAttr=e.onAttr||d.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||d.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||d.safeAttrValue,this.options=e}FilterCSS.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onAttr,n=t.onIgnoreAttr,o=t.safeAttrValue;return f(e,(function(e,t,s,a,u){var l=r[s],c=!1;if(!0===l?c=l:"function"==typeof l?c=l(a):l instanceof RegExp&&(c=l.test(a)),!0!==c&&(c=!1),a=o(s,a)){var h,d={position:t,sourcePosition:e,source:u,isWhite:c};return c?isNull(h=i(s,a,d))?s+":"+a:h:isNull(h=n(s,a,d))?void 0:h}}))};var p=FilterCSS,m=createCommonjsModule((function(e,t){for(var r in(t=e.exports=function filterCSS(e,t){return new p(t).process(e)}).FilterCSS=p,d)t[r]=d[r]})),util$1_indexOf=function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},util$1_forEach=function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},util$1_trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},util$1_spaceIndex=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},g=m.FilterCSS,y=m.getDefaultWhiteList;function getDefaultWhiteList$1(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var b=new g;function escapeHtml(e){return e.replace(v,"&lt;").replace(E,"&gt;")}var v=/</g,E=/>/g,w=/"/g,T=/&quot;/g,_=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,S=/&newline;?/gim,O=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,C=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,I=/u\s*r\s*l\s*\(.*/gi;function escapeQuote(e){return e.replace(w,"&quot;")}function unescapeQuote(e){return e.replace(T,'"')}function escapeHtmlEntities(e){return e.replace(_,(function replaceUnicode(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function escapeDangerHtml5Entities(e){return e.replace(x,":").replace(S," ")}function clearNonPrintableCharacter(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return util$1_trim(t)}function friendlyAttrValue(e){return e=clearNonPrintableCharacter(e=escapeDangerHtml5Entities(e=escapeHtmlEntities(e=unescapeQuote(e))))}function escapeAttrValue(e){return e=escapeHtml(e=escapeQuote(e))}var A=/<!--[\s\S]*?-->/g;var k={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:getDefaultWhiteList$1,onTag:function onTag(e,t,r){},onIgnoreTag:function onIgnoreTag(e,t,r){},onTagAttr:function onTagAttr(e,t,r){},onIgnoreTagAttr:function onIgnoreTagAttr(e,t,r){},safeAttrValue:function safeAttrValue$1(e,t,r,i){if(r=friendlyAttrValue(r),"href"===t||"src"===t){if("#"===(r=util$1_trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(O.lastIndex=0,O.test(r))return""}else if("style"===t){if(C.lastIndex=0,C.test(r))return"";if(I.lastIndex=0,I.test(r)&&(O.lastIndex=0,O.test(r)))return"";!1!==i&&(r=(i=i||b).process(r))}return r=escapeAttrValue(r)},escapeHtml:escapeHtml,escapeQuote:escapeQuote,unescapeQuote:unescapeQuote,escapeHtmlEntities:escapeHtmlEntities,escapeDangerHtml5Entities:escapeDangerHtml5Entities,clearNonPrintableCharacter:clearNonPrintableCharacter,friendlyAttrValue:friendlyAttrValue,escapeAttrValue:escapeAttrValue,onIgnoreTagStripAll:function onIgnoreTagStripAll(){return""},StripTagBody:function StripTagBody(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],n=!1;return{onIgnoreTag:function(o,s,a){if(function isRemoveTag(t){return!!r||-1!==util$1_indexOf(e,t)}(o)){if(a.isClosing){var u="[/removed]",l=a.position+u.length;return i.push([!1!==n?n:a.position,l]),n=!1,u}return n||(n=a.position),"[removed]"}return t(o,s,a)},remove:function(e){var t="",r=0;return util$1_forEach(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}},stripCommentTag:function stripCommentTag(e){return e.replace(A,"")},stripBlankChar:function stripBlankChar(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:b,getDefaultCSSWhiteList:y};function getTagName(e){var t=util$1_spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=util$1_trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function isClosing(e){return"</"===e.slice(0,2)}var R=/[^a-zA-Z0-9_:\.\-]/gim;function findNextEqual(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function findBeforeEqual(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function stripQuoteWrap(e){return function isQuoteWrapString(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var M={parseTag:function parseTag(e,t,r){var i="",n=0,o=!1,s=!1,a=0,u=e.length,l="",c="";e:for(a=0;a<u;a++){var h=e.charAt(a);if(!1===o){if("<"===h){o=a;continue}}else if(!1===s){if("<"===h){i+=r(e.slice(n,a)),o=a,n=a;continue}if(">"===h){i+=r(e.slice(n,o)),l=getTagName(c=e.slice(o,a+1)),i+=t(o,i.length,l,c,isClosing(c)),n=a+1,o=!1;continue}if('"'===h||"'"===h)for(var d=1,f=e.charAt(a-d);" "===f||"="===f;){if("="===f){s=h;continue e}f=e.charAt(a-++d)}}else if(h===s){s=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i},parseAttr:function parseAttr(e,t){var r=0,i=[],n=!1,o=e.length;function addAttr(e,r){if(!((e=(e=util$1_trim(e)).replace(R,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&i.push(n)}}for(var s=0;s<o;s++){var a,u=e.charAt(s);if(!1!==n||"="!==u)if(!1===n||s!==r||'"'!==u&&"'"!==u||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===n){if(-1===(a=findNextEqual(e,s))){addAttr(util$1_trim(e.slice(r,s))),n=!1,r=s+1;continue}s=a-1;continue}if(-1===(a=findBeforeEqual(e,s-1))){addAttr(n,stripQuoteWrap(util$1_trim(e.slice(r,s)))),n=!1,r=s+1;continue}}else;else{if(-1===(a=e.indexOf(u,s+1)))break;addAttr(n,util$1_trim(e.slice(r+1,a))),n=!1,r=(s=a)+1}else n=e.slice(r,s),r=s+1}return r<e.length&&(!1===n?addAttr(e.slice(r)):addAttr(n,stripQuoteWrap(util$1_trim(e.slice(r))))),util$1_trim(i.join(" "))}},j=m.FilterCSS,N=M.parseTag,P=M.parseAttr;function isNull$1(e){return null==e}function FilterXSS(e){(e=function shallowCopyObject$1(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=k.onIgnoreTagStripAll),e.whiteList=e.whiteList||k.whiteList,e.onTag=e.onTag||k.onTag,e.onTagAttr=e.onTagAttr||k.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||k.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||k.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||k.safeAttrValue,e.escapeHtml=e.escapeHtml||k.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new j(e.css))}FilterXSS.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,n=t.onIgnoreTag,o=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,u=t.escapeHtml,l=this.cssFilter;t.stripBlankChar&&(e=k.stripBlankChar(e)),t.allowCommentTag||(e=k.stripCommentTag(e));var c=!1;if(t.stripIgnoreTagBody){c=k.StripTagBody(t.stripIgnoreTagBody,n);n=c.onIgnoreTag}var h=N(e,(function(e,t,c,h,d){var f,p={sourcePosition:e,position:t,isClosing:d,isWhite:r.hasOwnProperty(c)};if(!isNull$1(f=i(c,h,p)))return f;if(p.isWhite){if(p.isClosing)return"</"+c+">";var m=function getAttrs(e){var t=util$1_spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=util$1_trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=util$1_trim(e.slice(0,-1))),{html:e,closing:r}}(h),g=r[c],y=P(m.html,(function(e,t){var r,i=-1!==util$1_indexOf(g,e);return isNull$1(r=o(c,e,t,i))?i?(t=a(c,e,t,l))?e+'="'+t+'"':e:isNull$1(r=s(c,e,t,i))?void 0:r:r}));h="<"+c;return y&&(h+=" "+y),m.closing&&(h+=" /"),h+=">"}return isNull$1(f=n(c,h,p))?u(h):f}),u);return c&&(h=c.remove(h)),h};var L=FilterXSS,D=createCommonjsModule((function(e,t){function filterXSS(e,t){return new L(t).process(e)}for(var r in(t=e.exports=filterXSS).filterXSS=filterXSS,t.FilterXSS=L,k)t[r]=k[r];for(var r in M)t[r]=M[r];(function isWorkerEnv(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope})()&&(self.filterXSS=e.exports)})),U=function(){function Sanitizer(e,t){var r,i=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,n){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?i.sanitizeUrl(r):D.safeAttrValue(e,t,r,n)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new D.FilterXSS(r)}return Sanitizer.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},Sanitizer.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?D.escapeAttrValue(e):""},Sanitizer.prototype.sanitizeHTMLAttribute=function(e,t,r,i){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,r,i):D.safeAttrValue(e,t,r,i)},Sanitizer.prototype.validate=function(e,t){void 0===t&&(t={});var r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}},Sanitizer.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},Sanitizer.prototype._iterateOverObject=function(e,t){var r=this;void 0===t&&(t={});try{var i=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var o=r.validate(n,t);return o.isValid?e.concat([n]):(i=!0,e.concat([o.sanitized]))}),[]);else{if(!c(e)){if(t.allowUndefined&&void 0===e)return;return null}n=Object.keys(e).reduce((function(n,o){var s=e[o],a=r.validate(s,t);return a.isValid?n[o]=s:(i=!0,n[o]=a.sanitized),n}),{})}return i?n:e}catch(e){return null}},Sanitizer.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},Sanitizer}(),Q=r(159);const B=new U({whiteList:{a:["title","href","target","style"],p:["title"],span:["class","data-value"],strong:["style"],s:[],blockquote:[]},safeAttrValue:(e,t,r,i)=>{if("img"===e&&"src"===t){if(-1!==r.indexOf("data:image/svg+xml;base64,"))return Object(Q.escapeAttrValue)(r);if(/^@survey\//.test(r))return r}return Object(Q.safeAttrValue)(e,t,r,i)}},!0);function sanitizeHtml(e){return e?B.sanitize(e):e}function isValidSanitizedHtml(e){const t=B.validate(e);if(t.isValid)return t;if(-1!==e.indexOf('alt=""')||-1!==e.indexOf("alt=''")){if((e=e.replace(/alt\=\"\"/g,"alt").replace(/alt\=\'\'/g,"alt"))===t.sanitized)return t.isValid=!0,t;if(B.validate(e).sanitized===t.sanitized)return t.isValid=!0,t}if(e.replace(/\'/g,'"')===t.sanitized)return t.isValid=!0,t;if(!t.isValid){const r=[";"],i=function _getDifferenceString(e,t){let r=0,i=0,n="";for(;i<t.length;)e[r]!=t[i]||r==e.length?n+=t[i]:r++,i++;return n}(e.replace(/\'/g,'"'),t.sanitized)||"";i[0]&&-1!==r.indexOf(i[0])&&(t.isValid=!0)}return t}},function(e,t,r){"use strict";r.d(t,"b",(function(){return getUserSession})),r.d(t,"a",(function(){return getCommonParamsFromUserSession}));r(162);let i;function getUserSession(){if(i)return i}function getCommonParamsFromUserSession(){let e=getUserSession();if(e)return{f:"json",token:e.token,portalUrl:e.portal.replace("/sharing/rest",""),username:e.username}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return encodeQueryString}));var i=r(74);function encodeQueryString(e){var t=Object(i.a)(e);return Object.keys(t).map((function(e){return function encodeParam(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}(e,t[e])})).join("&")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return NotificationsInfo}));var i=r(446);class NotificationsInfo{constructor(e){this.whiteLists=["webhooks","notifications"],Object.assign(this,e||{}),this.webhooks&&Array.isArray(this.webhooks)&&(this.webhooks=this.webhooks.map(e=>new i.a(e)))}toJson(){return Object.keys(this).reduce((e,t,r,i)=>{if(-1===this.whiteLists.indexOf(t))return e;const n=this[t];return"webhooks"===t&&n&&Array.isArray(n)&&(e[t]=n.map(e=>e.toJson())),e},{})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeSingleChoiceModel}));var i=r(47),n=r(13),o=r(2);class EsriQuestionTypeSingleChoiceModel extends i.a{constructor(e){super(e),this.type=EsriQuestionTypeSingleChoiceModel.EsriQuestionType,this._isSupportRule=!0,this._defaultLayouts=["vertical","horizontal","horizontal-compact"];const t={appearance:new n.a({layout:"vertical"})};e=e||{},Object.assign(this,t),Object(o.k)(e.appearance)&&(this.appearance=new n.a(e.appearance))}validate(e){return this._validateQuestionChoiceModel(EsriQuestionTypeSingleChoiceModel.EsriQuestionType,e)}}EsriQuestionTypeSingleChoiceModel.EsriQuestionType="esriQuestionTypeSingleChoice"},function(e,t,r){"use strict";r.d(t,"a",(function(){return OpenStatusInfo}));var i=r(2);class OpenStatusSchedule{constructor(e){this._whitelists=["start","end"];Object.assign(this,{start:null,end:null,startDate:null,endDate:null},e||{}),this.start&&(this.startDate=new Date(this.start)),this.end&&(this.endDate=new Date(this.end))}toJson(){return Object.keys(this).reduce((e,t)=>{const r=this[t];return-1!==this._whitelists.indexOf(t)&&(e[t]=r),e},{})}}class OpenStatusInfo{constructor(e){this._whitelists=["status","schedule","closedStatusContent"];const t={status:"open",schedule:new OpenStatusSchedule,closedStatusContent:""};if(e=e||{},Object.assign(this,t,e||{}),this.setStatus(this.status),this.closedStatusContent||(this.closedStatusContent=t.closedStatusContent),Object(i.k)(e.schedule)&&"object"==typeof e.schedule&&(this.schedule=new OpenStatusSchedule(e.schedule)),this.closedStatusContent)try{this.closedStatusContent=decodeURIComponent(this.closedStatusContent)}catch(e){}}setStatus(e){this.status=-1!==["open","closed","scheduled"].indexOf(e)?e:"open"}toJson(){return Object.keys(this).reduce((e,t)=>{if(-1===this._whitelists.indexOf(t))return e;let r=this[t];if("schedule"===t&&r instanceof OpenStatusSchedule&&(r=r.toJson()),"closedStatusContent"===t)try{r=encodeURIComponent(r)}catch(e){}return e[t]=r,e},{})}getDefaultClosedStatusContent(e){return`<p style="text-align: center;"><br></p><p style="text-align: center;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAABACAYAAABcIPRGAAAAAXNSR0IArs4c6QAAButJREFUaAXtWm1oHEUY3t27S6ukYBNFEosilVYs4scP6Q9D6qV/NJIo1fyQVrD5/mGjoEmUmMRatY2Ctv7It0IsFRKLbTEtYnIY64+CUhUpqCjSUltEcwqWau5yuz7PZCdutve1m9mgcAt7Mzsz7/M+7zvvzs7Mja4pvkZHR9ckk8lnAFtjWdYthNd1/QckxyKRyOv19fV/skzVpasCIs7w8HB0fn7+bWRvyoB7NhwO72xsbIxlqPdcbHiWyCBA8qlUagrVJH8SXq8xDKOcN/MsYx3bsC3ySi4lPcCwSSQS34ARyb/S0tLyAkibToYIJ2NgYOAllD2P+2xRUdHtKsIp7FTiN2/HvPA8yU9MTIRBdjfwHrcxx1DWzTqUV6Cswpbp8atTyqkKoVoCwuuv0fPxeHw3PN6Bu8y+O1jGOraxlTOsln0pMQAk15MJyH1hM5KedxIUZbINZMQI5WzgJ+8phIaGhu43TXMIytelU9bc3HwxXbmzjG36+/tZVIzUctbBuPN46ZtwnXCWZ8t76oFs5F1KxlzPfExXtqQZHUMdSwpzPCyOQhDW8YI1wAv1yG+CXHEmWbSpxgt5PFP9+Ph4EWMe9TKUxkpKSrrr6uoSmWQGBwerQf7DTPUovwS9Z8BtFLpHkBe9JwyAcBmED6JRNAvAYlVra+ui4YuFCjLukMoCGUOobWc4hm3PC/Kw6jyE2pF+ki6ePSjIojt3VToH0cngugXSfUijdDjSrWG8mI0ojJI8PvN3NDQ0xHOrWPkWtkPfGxkZ+QjTla9pBLmzB+pJB13yLMk74xd1ZStPVdPcPQ3ncnST71Ec72o7ng+B304acBtJIp1hKj9CzP9XLtuR/BiSUidDHGXkvInfATHaOGJejBzokQdRNuk0QnpGps46lXn3OyBHKBDeAT2d5AoOVFlsuBXb1mpu8u52K/ns4FLu1sseyPtyeyZvwQAbXtEDAeoKBLpgQCBu9QBa6AEPzgqkaaEHAnGrB9BCD3hwViBNCz0QiFs9gBZ6wIOzAmla6IFA3OoBtNADHpwVSNP/fQ94WlKqcuFM53V3pazUQ5ZlVli6doOu6WKti32GC9gw/FnXjZMhPXSkcu+vXzp0dmE34or/E1a0B6baSx6Zbl/7bdJMnjYtsxubm/dplrYBGwnFvEUeZaxjG7alDI3Aevxl7JTc4zBIZFekB2a6rr85mUwc0ixzM3dkuQuIzdWjyE8WGaEf51fpF8gmPGeVJ8zUetRVo64WRm3EjtXEVMfaU5FI0WOVTU1fCdaOn8ANiD13TWUyOXcY3i0F9Qu6ofdE7656R6+bSDl4yOz3yPA+YY0/2hY7Pf2EZVovYgdrMzA+B9a26Kt/iA04OOEcDLwx0BAieSulfUzyiPNjq0tDt1btjY9kIC+NECnbsC1lKEsMYhHTbshNLjMwAxg2pqkdRihEsPF6IHp128P3dvzm+U9uylAWHn+LWMQkNv4j+BQG9AVmwELML3i+avWup/XeXtP2nOeEstGr2p6SPSGwgYKXujsQA8TIgbhlzK8qDW1fDnlpLTGIRUy+E9SBLcdkIAbomrWHivnC+gkbSdqdEouYAtvWodwAfqTwQdrIoZKjjZvEcp/FCAZs6qAu5QbwC7vgIe1oPqONV4OIyW8I5ahLuQGcHhAcI8aS/xZYpuqS2NSl3gDMbUiUX1hVhN04EpvzKOVfYk7MEJ+anB5I5ZjXTKL8AfnsJQXm8aq+36uljMC+jEECupT3gFSiMoWnETVpLnhEeQ8AkxOzDZyYIeW8RlxOD8oyvymxOZGydOui8h7gfJ7EOKv0SzCXnMSmLvUGYDFCApwS5yLit15ic+Gj3ACupEgMQVuLKXHIL8lMcsQkNuupS7kBXAZidPgOc/V1nM9nIuK3XKwRgE0d1KXcABKzNL1LpFiMfLbv2jV+ybrliCUWOA4d6QwQyzv+O+4GyPd5a1/8fawbT8GU8rnZ1EGrtzednnzhRDtiEIuYxBY6UMNh9BLuYh5n4V/4mIS9i+7v4OEj++98AeDhp4sLcK5huQwEVs303wfeAAHfawKSj/21/00M0TUYHWaJLfkYIHyGD1C0hSlPVqFsH+6c59/Y3n1BrgfHYO6s3PPLT4ahbcOIkdRMc1fs8v4P/IQTZSgLfk8Si5jElnp1eL4J3h6E4kDOC3ENy2UgXox8FvWSl8bRZnFRL8JGmyV5uaiXDXVYxrNyPDIsDj0hzXhiSwp5Tf/dVuEqDd8IOAvezGdbZeF0JGJebKs4PC85AEfTGP9ezsxJ4VwpiJ5Dmx32AlzjMpCrNcQy9ntyX2I4xogmX9h0EsIAVtg9kdepxXRAWcq4mO/jApxrWLbzubWYVsU/M2Rl86hTwI0AAAAASUVORK5CYII="></p><p style="text-align: center;"><br></p><p style="text-align: center;"><strong style="font-size:16px;">${e}</strong></p>`}isClosed(e){if((e=Object.assign({serverTimeStamp:Date.now()},e||{})).serverTimeStamp=e.serverTimeStamp||Date.now(),"closed"===this.status)return!0;if("scheduled"===this.status){const t=this.schedule.startDate,r=this.schedule.endDate;if(t&&e.serverTimeStamp<t.getTime())return!0;if(r&&e.serverTimeStamp>=r.getTime())return!0}return!1}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return MultiSubmissionInfo}));class MultiSubmissionInfo{constructor(e){this._whitelists=["maxAllowed","showSubmitAnotherTip"];if(Object.assign(this,{maxAllowed:0,showSubmitAnotherTip:!1,preventSubmissionContent:""},e||{}),this.maxAllowed=this.maxAllowed>-1?this.maxAllowed:0,this.showSubmitAnotherTip=!0===this.showSubmitAnotherTip,this.preventSubmissionContent)try{this.preventSubmissionContent=decodeURIComponent(this.preventSubmissionContent)}catch(e){}}toJson(){return Object.keys(this).reduce((e,t,r)=>{if(-1===this._whitelists.indexOf(t))return e;let i=this[t];if("preventSubmissionContent"===t)try{i=encodeURIComponent(i)}catch(e){}return e[t]=i,e},{})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Settings_FormSettings}));var i=r(97),n=r(2),o=r(157),s=r(448),a=r(99),u=r(100);class DraftInfo{constructor(e){this._whitelists=["isEnabled"];Object.assign(this,{isEnabled:!1},e||{}),this.isEnabled=!0===this.isEnabled}toJson(){return Object.keys(this).reduce((e,t,r)=>{if(-1===this._whitelists.indexOf(t))return e;let i=this[t];return e[t]=i,e},{})}}class Settings_FormSettings{constructor(e){this._whitelists=["showQuestionName","thankYouScreenContent","recordStartEndTime","notificationsInfo","isVersionLocked","instanceName","openStatusInfo","multiSubmissionInfo","draftInfo"];const t={showQuestionNumber:!1,allowSubmitAnother:!1,thankYouScreenContent:"",openStatusInfo:new a.a,recordStartEndTime:{isEnabled:!0},notificationsInfo:new i.a,isVersionLocked:!0,multiSubmissionInfo:new u.a,draftInfo:new DraftInfo};e=e||{},Object.assign(this,t,e),Object(n.k)(e.notificationsInfo)&&"object"==typeof e.notificationsInfo&&(this.notificationsInfo=new i.a(e.notificationsInfo)),Object(n.k)(e.openStatusInfo)&&"object"==typeof e.openStatusInfo&&(this.openStatusInfo=new a.a(e.openStatusInfo)),Object(n.k)(e.multiSubmissionInfo)&&"object"==typeof e.multiSubmissionInfo&&(this.multiSubmissionInfo=new u.a(e.multiSubmissionInfo)),Object(n.k)(e.draftInfo)&&"object"==typeof e.draftInfo&&(this.draftInfo=new DraftInfo(e.draftInfo)),this.recordStartEndTime={isEnabled:!1,fieldInfos:(()=>{const e=[];return(o.a.getConfig("defaultFields")||[]).forEach(t=>{const r=s.a.getDefaultFieldByType(t);r&&e.push({fieldName:r.name,type:t})}),e})()},Object(n.k)(e.webformInfo)&&"object"==typeof e.webformInfo&&(this.isVersionLocked=!0===e.webformInfo.isVersionLocked,delete this.webformInfo),this.thankYouScreenContent&&this.setThankYouScreenConent(this.thankYouScreenContent),!0!==e.allowSubmitAnother&&!1!==e.allowSubmitAnother||(this.multiSubmissionInfo.showSubmitAnotherTip=e.allowSubmitAnother),delete this.allowSubmitAnother}setThankYouScreenConent(e){this.thankYouScreenContent=Object(n.b)(e)}toJson(){return Object.keys(this).reduce((e,t)=>{if(-1===this._whitelists.indexOf(t))return e;const r=this[t];return e[t]=r,r instanceof i.a&&(e[t]=r.toJson()),r instanceof a.a&&(e[t]=r.toJson()),r instanceof u.a&&(e[t]=r.toJson()),r instanceof DraftInfo&&(e[t]=r.toJson()),"thankYouScreenContent"===t&&(e[t]=encodeURIComponent(r)),e},{})}setVersionLocked(e){this.isVersionLocked=e}getVersionLocked(){return this.isVersionLocked}getWebhooks(){return this.notificationsInfo?this.notificationsInfo.webhooks:null}setOpenStatusInfo(e){this.openStatusInfo=e}getDefaultThankYouScreenContent(e,t){return`<p style="text-align: center;"><br></p><p style="text-align: center;"><img alt="${t}" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGw9IiMzMTg3MkUiIGN4PSIzMiIgY3k9IjMyIiByPSIzMiIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yMi42NjEgMzAuMjQ2bDUuMTgyIDQuOTg3TDQxLjU1MiAyMiA0NSAyNS40NjEgMjcuNzQ3IDQyIDE5IDMzLjQ5OHoiLz48L2c+PC9zdmc+"></p><p style="text-align: center;"><br></p><p style="text-align: center;"><strong style="font-size: 16px;">${e}</strong></p>`}mergeFromPublishedFormSettings(e){if(!e)throw new Error("missing publishedForm args");if(!(e instanceof Settings_FormSettings))throw new Error("publsihedForm is not a FormSettings instance");return this.isVersionLocked=!0===e.isVersionLocked||!1===e.isVersionLocked?!0===e.isVersionLocked:this.isVersionLocked,this.notificationsInfo=e.notificationsInfo?new i.a(e.notificationsInfo):this.notificationsInfo,this.multiSubmissionInfo=e.multiSubmissionInfo?new u.a(e.multiSubmissionInfo):this.multiSubmissionInfo,this.openStatusInfo=e.openStatusInfo?new a.a(e.openStatusInfo):this.openStatusInfo,this.draftInfo=e.draftInfo?new DraftInfo(e.draftInfo):this.draftInfo,this}}},function(e,t,r){var i=r(20),n=r(9),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:r(65)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var i=r(32),n=r(18),o=r(67);e.exports=function(e){return function(t,r,s){var a,u=i(t),l=n(u.length),c=o(s,l);if(e&&r!=r){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var i=r(51);e.exports=Array.isArray||function isArray(e){return"Array"==i(e)}},function(e,t,r){var i=r(15)("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:r=!0}},o[i]=function(){return s},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var i=r(11);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var i=r(90),n=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var o=r.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},function(e,t,r){"use strict";r(194);var i=r(28),n=r(31),o=r(10),s=r(52),a=r(15),u=r(145),l=a("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),h=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f?!o((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[d](""),!t})):void 0;if(!f||!p||"replace"===e&&!c||"split"===e&&!h){var m=/./[d],g=r(s,d,""[e],(function maybeCallNative(e,t,r,i,n){return t.exec===u?f&&!n?{done:!0,value:m.call(t,r,i)}:{done:!0,value:e.call(r,t,i)}:{done:!1}})),y=g[0],b=g[1];i(String.prototype,e,y),n(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},function(e,t,r){var i=r(41),n=r(189),o=r(140),s=r(11),a=r(18),u=r(142),l={},c={};(t=e.exports=function(e,t,r,h,d){var f,p,m,g,y=d?function(){return e}:u(e),b=i(r,h,t?2:1),v=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(f=a(e.length);f>v;v++)if((g=t?b(s(p=e[v])[0],p[1]):b(e[v]))===l||g===c)return g}else for(m=y.call(e);!(p=m.next()).done;)if((g=n(m,b,p.value,t))===l||g===c)return g}).BREAK=l,t.RETURN=c},function(e,t,r){var i=r(9).navigator;e.exports=i&&i.userAgent||""},function(e,t,r){"use strict";var i=r(9),n=r(1),o=r(28),s=r(85),a=r(57),u=r(110),l=r(84),c=r(12),h=r(10),d=r(106),f=r(80),p=r(131);e.exports=function(e,t,r,m,g,y){var b=i[e],v=b,E=g?"set":"add",w=v&&v.prototype,T={},fixMethod=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function has(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function get(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function add(e){return t.call(this,0===e?0:e),this}:function set(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof v&&(y||w.forEach&&!h((function(){(new v).entries().next()})))){var _=new v,x=_[E](y?{}:-0,1)!=_,S=h((function(){_.has(1)})),O=d((function(e){new v(e)})),C=!y&&h((function(){for(var e=new v,t=5;t--;)e[E](t,t);return!e.has(-0)}));O||((v=t((function(t,r){l(t,v,e);var i=p(new b,t,v);return null!=r&&u(r,g,i[E],i),i}))).prototype=w,w.constructor=v),(S||C)&&(fixMethod("delete"),fixMethod("has"),g&&fixMethod("get")),(C||x)&&fixMethod(E),y&&w.clear&&delete w.clear}else v=m.getConstructor(t,e,g,E),s(v.prototype,r),a.NEED=!0;return f(v,e),T[e]=v,n(n.G+n.W+n.F*(v!=b),T),y||m.setStrong(v,e,g),v}},function(e,t,r){for(var i,n=r(9),o=r(31),s=r(64),a=s("typed_array"),u=s("view"),l=!(!n.ArrayBuffer||!n.DataView),c=l,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=n[d[h++]])?(o(i.prototype,a,!0),o(i.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:a,VIEW:u}},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function nextTick(e,r,i,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function afterTickOne(){e.call(null,r)}));case 3:return t.nextTick((function afterTickTwo(){e.call(null,r,i)}));case 4:return t.nextTick((function afterTickThree(){e.call(null,r,i,n)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function afterTick(){e.apply(null,o)}))}}}:e.exports=t}).call(this,r(73))},function(e,t,r){var i=r(92),n=i.Buffer;function copyProps(e,t){for(var r in e)t[r]=e[r]}function SafeBuffer(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(copyProps(i,t),t.Buffer=SafeBuffer),copyProps(n,SafeBuffer),SafeBuffer.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},SafeBuffer.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Capabilities}));class Capabilities{static get(e,t){if(t=Object.assign({isArray:!1},t||{}),e="featureService"===e?"source":e,Capabilities.info&&Capabilities.info[e]){const r=Capabilities.info[e];return t.isArray?r:r.join(",")}}}Capabilities.info={source:["Create","Delete","Query","Update","Editing","Extract","Sync"],fieldworker:["Create","Editing","Sync"],stakeholder:["Query","Extract"]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeSignatureModel}));var i=r(8),n=r(2),o=r(3),s=r(5);class EsriQuestionTypeSignatureModel extends i.a{constructor(e){super(e),this.value=[],this.type=EsriQuestionTypeSignatureModel.EsriQuestionType,this.inlineDesc=null,this._xform={type:"image"},this._defaultField={type:"esriAttachment"},this._exceptDefaultWhitelist=["inlineDesc","isNeedPrintName"];const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),Object(n.k)(e.inlineDesc)&&(this.inlineDesc=e.inlineDesc),Object(n.k)(e.isNeedPrintName)&&(this.isNeedPrintName=e.isNeedPrintName),void 0!==e.fieldType&&(this.fieldType=e.fieldType)}toJson(e){(e=new s.b(e)).whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return this.isFieldType("esriAttachment")&&delete t.fieldType,t}validate(e){let t=this._validateQuestionModel(EsriQuestionTypeSignatureModel.EsriQuestionType,e);return t.addValidateResult(Object(o.c)(this,{string:["inlineDesc"],boolean:["isNeedPrintName"]})),t.check(),this._setErrorsByValidateResult(t),t}}EsriQuestionTypeSignatureModel.EsriQuestionType="esriQuestionTypeSignature"},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriChoiceOtherModel}));var i=r(17),n=r(3),o=r(26);class EsriChoiceOtherModel{constructor(e){this.isPublished=!1,this.isNameModified=!1,this._defaultField={type:"esriFieldTypeString",length:255},this._whitelist=["fieldName","isEnabled","label","value","fieldLength","name"];e=e||{},Object.assign(this,{isEnabled:!1,label:null,value:null},e),this.setName(this.name)}setWhitelist(e){e=e||[],this._whitelist=this._whitelist.concat(e)}toJson(e){e=new o.b(e);let t=this._whitelist.concat(e.extraWhiteLists);e.extraWhiteLists&&e.extraWhiteLists.includes("isNameModified")&&this.isPublished&&this.setNameModified(!0);return Object(i.b)(this,t)}setField(e){e=e||{},["fieldName","fieldType","fieldLength","fieldAlias"].forEach(t=>{e[t]&&("fieldType"===t&&"null"===e[t]&&(e[t]=null),this[t]=e[t])})}getField(e){const t={fieldName:this.fieldName,fieldType:this.fieldType||"esriFieldTypeString",fieldLength:this.fieldLength&&!isNaN(this.fieldLength)?this.fieldLength:255};return e?t[e]:t}setName(e){this.name=e||this.fieldName||this.id,this.fieldName=this.name}resetName(){this.setName(this.getDefaultName())}getDefaultName(){return this._defaultName||this.id}setDefaultName(e){this._defaultName=e}isDefaultName(){return this.getDefaultName()&&this.name===this.getDefaultName()}reset(){this.id=null,this.name=null,this.fieldName=null,this.fieldLength=null}validate(){let e=new n.a;return e.addValidateResult(Object(n.c)(this,{string:["name","fieldName","label","value","id","type"],number:["fieldLength"],boolean:["isEnabled","isPublished"]})),e.check()}setNameModified(e){!0!==e&&!1!==e||(this.isNameModified=e)}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return setDefaultRequestOptions})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return request}));var i=r(16),n=r(74),o=r(96);var s=r(76);var a="@esri/arcgis-rest-js",u={httpMethod:"POST",params:{f:"json"}};function setDefaultRequestOptions(e,t){e.authentication&&!t&&function warn(e){console&&console.warn&&console.warn.apply(console,[e])}("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."),u=e}var l=function(e){function ArcGISAuthError(t,r,i,n,o){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var s=e.call(this,t,r,i,n,o)||this;return s.name="ArcGISAuthError",s.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,s}return Object(i.b)(ArcGISAuthError,e),ArcGISAuthError.prototype.retry=function(e,t){var r=this;void 0===t&&(t=3);var n=0,retryRequest=function(o,s){e(r.url,r.options).then((function(e){var t=Object(i.a)(Object(i.a)({},r.options),{authentication:e});return n+=1,request(r.url,t)})).then((function(e){o(e)})).catch((function(e){"ArcGISAuthError"===e.name&&n<t?retryRequest(o,s):"ArcGISAuthError"===e.name&&n>=t?s(r):s(e)}))};return new Promise((function(e,t){retryRequest(e,t)}))},ArcGISAuthError}(s.a);function request(e,t){void 0===t&&(t={params:{f:"json"}});var r=Object(i.a)(Object(i.a)(Object(i.a)({httpMethod:"POST"},u),t),{params:Object(i.a)(Object(i.a)({},u.params),t.params),headers:Object(i.a)(Object(i.a)({},u.headers),t.headers)}),c=[],h=[];if(r.fetch||"undefined"==typeof fetch?(c.push("`fetch`"),h.push("`node-fetch`")):r.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(c.push("`Promise`"),h.push("`es6-promise`")),"undefined"==typeof FormData&&(c.push("`FormData`"),h.push("`isomorphic-form-data`")),!r.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+c.join(", ")+". We recommend installing the "+h.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var d=r.httpMethod,f=r.authentication,p=r.rawResponse,m=Object(i.a)({f:"json"},r.params),g=null,y={method:d,credentials:"same-origin"};return(f?f.getToken(e,{fetch:r.fetch}).catch((function(t){return t.url=e,t.options=r,g=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(m.token=t);var s={};if("GET"===y.method){m.token&&r.hideToken&&"undefined"==typeof window&&(s["X-Esri-Authorization"]="Bearer "+m.token,delete m.token);var u=""===Object(o.a)(m)?e:e+"?"+Object(o.a)(m);r.maxUrlLength&&u.length>r.maxUrlLength||m.token&&r.hideToken?(y.method="POST",t.length&&r.hideToken&&(m.token=t,delete s["X-Esri-Authorization"])):e=u}var l=new RegExp("/items/.+/updateResources").test(e);return"POST"===y.method&&(y.body=function encodeFormData(e,t){var r=Object(n.b)(e)||t,i=Object(n.a)(e);if(r){var s=new FormData;return Object.keys(i).forEach((function(e){if("undefined"!=typeof Blob&&i[e]instanceof Blob){var t=i.fileName||i[e].name||e;s.append(e,i[e],t)}else s.append(e,i[e])})),s}return Object(o.a)(e)}(m,l)),y.headers=Object(i.a)(Object(i.a)({},s),r.headers),"undefined"!=typeof window||y.headers.referer||(y.headers.referer=a),Object(n.b)(m)||l||(y.headers["Content-Type"]="application/x-www-form-urlencoded"),r.fetch(e,y)})).then((function(t){if(!t.ok){var i=t.status,n=t.statusText;throw new s.a(n,"HTTP "+i,t,e,r)}if(p)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==m.f&&"geojson"!==m.f||p)return t;var i=function checkForErrors(e,t,r,i,n){if(e.code>=400){var o=e.message,a=e.code;throw new s.a(o,a,e,t,i)}if(e.error){var u=e.error,c=(o=u.message,a=u.code,u.messageCode),h=c||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===c||400===a&&"Unable to generate token."===o)throw n||new l(o,h,e,t,i);throw new s.a(o,h,e,t,i)}if("failed"===e.status||"failure"===e.status){o=void 0,a="UNKNOWN_ERROR_CODE";try{o=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){o=e.statusMessage||e.message}throw new s.a(o,a,e,t,i)}return e}(t,e,0,r,g);if(g){var n=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];r.authentication.trustedServers[n]={token:[],expires:new Date(Date.now()+864e5)},g=null}return i}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return getConfig}));var i=r(157);function getConfig(e){return i.a.getConfig(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return getCodeMessage}));var i={};r.r(i),r.d(i,"codeAttachment",(function(){return n})),r.d(i,"codeCommon",(function(){return o})),r.d(i,"codeConfig",(function(){return s})),r.d(i,"codeCreate",(function(){return a})),r.d(i,"codeDelete",(function(){return u})),r.d(i,"codeDesigner",(function(){return l})),r.d(i,"codeFeatureReport",(function(){return c})),r.d(i,"codeFeatureService",(function(){return h})),r.d(i,"codePublish",(function(){return d})),r.d(i,"codeQuestion",(function(){return f})),r.d(i,"codeRepublish",(function(){return p})),r.d(i,"codeReviewSchema",(function(){return m})),r.d(i,"codeRouteGuard",(function(){return g})),r.d(i,"codeSave",(function(){return y})),r.d(i,"codeShare",(function(){return b})),r.d(i,"codeSignin",(function(){return v})),r.d(i,"codeSubmit",(function(){return E})),r.d(i,"codeSurvey",(function(){return w})),r.d(i,"codeUser",(function(){return T})),r.d(i,"codeWebform",(function(){return _})),r.d(i,"codeWebhook",(function(){return x})),r.d(i,"codeXform",(function(){return S}));const n={attachment01:"deleting attachments",attachment02:"checking any errors of deleted attachments"},o={common01:"missing required params",common02:"token is required",common03:"no survey obj",common04:"checking..."},s={config01:"cannot get config"},a={create01:"create survey folder",create02:"create item",create03:"create source feature service",create04:"add SuryeyPoint layer and Metadata table",create05:"udpate feature service to enable tracking info",create06:"update itme metadata (e.g. typekeywords)",create07:"try to create fieldworker view feature service",create08:"create fieldworker view feature service succesfully",create09:"the portal has not supported views feature service",create10:"add relationship between item and source (or fieldworker view) feature service",create11:"get files from media info folder or feature service resources and copy it into survey feature service item resource",create12:"saving form into metadata table",create13:"create survey successfully"},u={delete01:"no survey obj",delete02:"cannot find source fs item metadata from views",delete03:"cannot find source fs item metadata from search",delete04:"cannot find form item ownerFolder",delete05:"Delete failed since there are existed items in the folder",delete06:"Folder name is not matched to the form item title",delete07:"ensure survey has source feature service",delete08:"get the lastest owner folder id",delete09:"find stakeholder view fs since it will not search stakeholder neither in mySurveys or overview page.",delete10:"check any view fs and delete it",delete11:"delete source feature service and form item",delete12:"check if the folder name is survey123 create folder name",delete13:"delete successfully",delete14:"check any related custom printing items",delete15:"cannot get source fs item metadata",delete16:"cannot update source fs item typeKeywords",delete17:"delete survey partially successful"},l={designer01:"no model or required model parameters",designer02:"cannot get designer support question components",designer03:"cannot get question component",designer04:"cannot get question component type, such as esriQuestionSingleChoice",designer05:"We have not support this question type",designer06:"no survey-design.component and modalRepublishDeleteQuestion()",designer07:"cannot remove all added questions in surveyEditor.service",designer08:"cannot find question obj from added questions",designer09:"only delete choice item",designer10:"only remove related rules for a question"},c={customPrinting01:"missing survey or custom printing file",customPrinting02:"missing item title or tags",customPrinting03:"cannot find the custom printing item",customPrinting04:"the portal is not supported survey2data relation",customPrinting05:"cannot find target stakeholder / source (if portal not support view fs) to share the custom printing item",customPrinting06:"The print job was timeout (${timeoutMins} mins). It may be caused by the complexity of the template itself or the survey structure. If that is not the case, please try again later.",reportMerge001:'Missing required parameters: "${params}"',reportMerge002:"Invalid token",reportMerge003:'outputFileName value is invalid: "${name}"',reportMerge004:'outputFormat value is not supported: "${format}"',reportMerge005:"${method} method is not supported.",reportMerge006:"Cannot parse parameters: ${params}",reportMerge007:"uploadInfo.type value is not supported: ${uploadType}.",reportMerge008:"The maximum number of records allowed in one printing request is ${max}; there are currently ${currentValue} records selected.",reportMerge009:"There is no record in the query result.",reportMerge010:"upload destination is invalid. ${error}",reportMerge011:"Feature Report does not work with ArcGIS Enterprise.",reportMerge012:"The following privilege is required to perform this operation: generate feature report. Contact your organization administrator for assistance.",reportMerge013:"Generate reports failed: You choose to upload result files to ArcGIS Online but you do not have the privilege for creating new item.",reportMerge014:"Generate reports failed: You do not have enough credits to perform this operation. Contact your organization administrator for assistance.",reportMerge015:"Your ArcGIS Online subscription is not active. Contact your organization administrator for assistance.",reportMerge016:'${key} value is invalid: "${currentValue}"',reportMerge101:"Item specified by ${item} does not exist or is not accessible.",reportMerge102:"Layer specified by featureLayerUrl does not exist or is not accessible.",reportMerge103:"An error occurred when querying data from the feature layer. ",reportMerge104:"An error occurred when generating file name using `${expression}`. ",reportMerge105:"Failed to render `${placeholder}`. ",reportMerge106:"An error occurred when splitting the report template. ",reportMerge107:"",reportMerge201:"An error occurred when checking the report template. ",reportMerge202:"since `${fieldName}` cannot be found in the current parsing scope. ",reportMerge203:"since `${filter}` is not supported for the current field. ",reportMerge204:"An error occurred when processing the report template. ",reportMerge205:"An error occurred when assembling data. ",reportMerge206:"An error occurred when rendering by the report engine. ",reportMerge207:"Failed to render image for `${${questionName}}`. ",reportMerge208:"Failed to print map for `${${questionName}}`. ",reportMerge209:"Failed to upload intermediate/result files ${fileName} to ${destination}. ",reportMerge210:'The assignment operator "=" is not supported. If you want to decide if two values are equal, use the equality operator "==" instead. ',reportMerge211:"since ${failedReason}",reportMerge212:"since `${filter}` is invalid. ",reportMerge213:"since `${argument}` is not supported by `${filter}` for the current field. ",reportMerge214:"since `${formatArg}` is not a valid parameter for the `${filter}` method. ",reportMerge215:"since missing required parameter for the `${filter}` method. ",reportMerge216:"since printing a map/image or accessing attachment binary is not allowed when iterating records inside a summary section.",reportMerge221:"An error occurred when converting word document file. ",reportMerge231:"An error occurred when packaging result files. ",reportMerge241:"An error occurred when merging result files. ",reportMerge251:"An error occurred when uploading result files to ${destination}. ",reportMerge271:"The task failed because all reports failed to run ${processName}. ",reportMerge301:"Failed to check job status for ${jobId}. ",reportMerge302:"An error occurred when ${process} due to timeout. ",reportMerge303:"An error occurred when ${process}. The process exits with an uncaught exception. ",reportMerge501:"Internal server-side error. ",reportMerge601:"An error occurred when estimating credits. ",reportMerge602:"An error occurred while charging credits. Please try again later. ",reportMerge701:"An error occurred when generating field mapping json. "},h={featureService01:"no url",featureService02:"cannot get feature service metadata table url"},d={publish01:"missing params",publish02:"upgrade feature service before publish",publish03:"preapre zip file and save it into formItem first",publish04:"start to publish zip file on item",publish05:"get metadata table info",publish06:"add question to feature service (addToDefinition)",publish07:"update views definition",publish08:"update item metadata",publish09:"save form in metadata table",publish10:"delete all files in the source feature layer's resources",publish11:"delete all drafts and previews in metadata table",publish12:"publish successfully",publish13:"cannot get form item metadata",publish14:"create geometry feature layer and associate with view feature service"},f={question01:"fieldName has to be 1) unique; 2) alphanumeric (or underscore); 3) cannot start with number; 4) less than 32 characters",question02:"cannot set allow file extensions",question03:"cannot support these file extensions:"},p={republish01:"comparing form",republish02:"checking if there is any submit record",republish03:"updating definition",republish04:"publishing...",republish05:"removing republished draft typekeyword",republish06:"finished",republish07:"users didnot confirm to delete definition",republish08:"get feature service info",republish09:"check deleted questions"},m={reviewSchema01:"duplicate field / choice name",reviewSchema02:"Only letters, numbers and _ allowed",reviewSchema03:"length > 32",reviewSchema04:"should only lowercase for portal",reviewSchema05:"cannot be reserved names",reviewSchmea06:"no input name",reviewSchema07:"invalid field length",reviewSchema08:"field name cannot start with number",reviewSchema09:"duplicated field name",reviewSchema10:"duplicated choice name",reviewSchema11:"unknown modify schema error",reviewSchema12:"value > max",reviewSchema13:"the question name or item value is using default naming syntax. Suggest to change",reviewSchema14:"` ,;-/$.()` is not allowed"},g={routeGuard01:"[SurveyRouteGuardService] ignore open!=web"},y={save01:'cannot find save type ("form" / "formDraft" / "formPreview")',save02:"errors when parse form"},b={share01:"cannot access item meatdata without token",share02:"cannot get item related feature service without token",share03:"cannot access related feature service metadata without token",share04:"item is private",share05:"no item id with the related feature service",share06:"no stakeholder view feature service item id",share07:"only support sharing form, fieldworker, and stakeholder currently",share08:"cannot access item metadata",share09:"you are not the owner of the item",share10:"need stakeholder user role when view shared survey result",share11:"source feature service is not a hosted feature service",share12:"the user does not have shareItem privilege",share13:"the user is cocoowner and cannot share an item",share14:"the user does not have admin itemControl",share15:"the user does not have createItem or createFeatureService privilege",share16:"the portal is not supported creating feature service views"},v={signin01:"cannot get login component",signin02:"missing auth info",signin03:"no esri.id"},E={submit01:"cannot add feature",submit02:"cannot add attachment"},w={survey01:"no survey Id",survey02:"something wrong in initFeatureService",survey03:"there is no feature service url, including source or views",survey04:"the source item id is not matched to the views, including fieldworker or stakeholder views",survey05:"there is no source feature service url",survey06:"there is no viewe feature service",survey07:"not a valid survey",survey08:"cannot get source feature service info from formInfo file",survey09:"cannot get any feature service info (including source, fieldworker, or stakeholder views)",survey10:"cannot get survey item form metadata",survey11:"cannot get survey",survey12:"cannot get feature service item metadata",survey13:"the survey is created by survey123Hub and not support creating from existing feature service yet",survey14:"the survey does not have typeKeywords",survey15:"the survey has not published",survey16:"cannot find feature layer in source feature service. use 0 as hard-code"},T={user01:"user have not signed in",user02:"cannot update user info",user03:"need user role = owner / admin",user04:"need user role = owner / admin / stakeholder",user05:"need user role = owner / admin / fieldworker",user06:"user does not have survey123 app license",user07:"user do not have portal:user:createItem / portal:publisher:publishFeatures privilege",user08:"the token in the credential has been expired"},_={webform01:"cannot find .webform file",webform02:"cannot update webform",webform03:"need signin in embed mode",webform04:"public account cannot access survey123",webform05:"survey is closed",webform06:"multi-submission is not allowed",webform07:"need admin to access this survey",webform08:"the app is blocked by admin",webform09:"access denied"},x={webhook01:"cannot find survey id, webhook info",webhook02:"user cancel delete webhook",webhook03:"cannot redirect to webhook page. not supported type",webhook04:"cannot find matched webhook by webhook id",webhook05:"add webhook. do not need to check existing webhook",webhook06:"the current webhoook is not valid. please check again",webhook07:"upsert webhook failed"},S={xform01:"cannot get xform file content"},O=Object.keys(i).reduce((e,t)=>{const r=i[t];return r&&Object.keys(r).forEach(t=>{e[t]=r[t]}),e},{});function getCodeMessage(e){return e&&O[e]}},,,function(e,t,r){var i=r(12),n=r(9).document,o=i(n)&&i(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){t.f=r(15)},function(e,t,r){var i=r(102)("keys"),n=r(64);e.exports=function(e){return i[e]||(i[e]=n(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var i=r(9).document;e.exports=i&&i.documentElement},function(e,t,r){var i=r(12),n=r(11),check=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=r(41)(Function.call,r(44).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function setPrototypeOf(e,r){return check(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:check}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var i=r(12),n=r(129).set;e.exports=function(e,t,r){var o,s=t.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&i(o)&&n&&n(e,o),e}},function(e,t,r){"use strict";var i=r(43),n=r(52);e.exports=function repeat(e){var t=String(n(this)),r="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function sign(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function expm1(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var i=r(43),n=r(52);e.exports=function(e){return function(t,r){var o,s,a=String(n(t)),u=i(r),l=a.length;return u<0||u>=l?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var i=r(65),n=r(1),o=r(28),s=r(31),a=r(82),u=r(188),l=r(80),c=r(70),h=r(15)("iterator"),d=!([].keys&&"next"in[].keys()),returnThis=function(){return this};e.exports=function(e,t,r,f,p,m,g){u(r,t,f);var y,b,v,getMethod=function(e){if(!d&&e in _)return _[e];switch(e){case"keys":return function keys(){return new r(this,e)};case"values":return function values(){return new r(this,e)}}return function entries(){return new r(this,e)}},E=t+" Iterator",w="values"==p,T=!1,_=e.prototype,x=_[h]||_["@@iterator"]||p&&_[p],S=x||getMethod(p),O=p?w?getMethod("entries"):S:void 0,C="Array"==t&&_.entries||x;if(C&&(v=c(C.call(new e)))!==Object.prototype&&v.next&&(l(v,E,!0),i||"function"==typeof v[h]||s(v,h,returnThis)),w&&x&&"values"!==x.name&&(T=!0,S=function values(){return x.call(this)}),i&&!g||!d&&!T&&_[h]||s(_,h,S),a[t]=S,a[E]=returnThis,p)if(y={values:w?S:getMethod("values"),keys:m?S:getMethod("keys"),entries:O},g)for(b in y)b in _||o(_,b,y[b]);else n(n.P+n.F*(d||T),t,y);return y}},function(e,t,r){var i=r(138),n=r(52);e.exports=function(e,t,r){if(i(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(e))}},function(e,t,r){var i=r(12),n=r(51),o=r(15)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},function(e,t,r){var i=r(15)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var i=r(82),n=r(15)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[n]===e)}},function(e,t,r){"use strict";var i=r(22),n=r(63);e.exports=function(e,t,r){t in e?i.f(e,t,n(0,r)):e[t]=r}},function(e,t,r){var i=r(90),n=r(15)("iterator"),o=r(82);e.exports=r(20).getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||o[i(e)]}},function(e,t,r){"use strict";var i=r(24),n=r(67),o=r(18);e.exports=function fill(e){for(var t=i(this),r=o(t.length),s=arguments.length,a=n(s>1?arguments[1]:void 0,r),u=s>2?arguments[2]:void 0,l=void 0===u?r:n(u,r);l>a;)t[a++]=e;return t}},function(e,t,r){"use strict";var i=r(71),n=r(193),o=r(82),s=r(32);e.exports=r(136)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,r){"use strict";var i,n,o=r(107),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,l=(i=/a/,n=/b*/g,s.call(i,"a"),s.call(n,"a"),0!==i.lastIndex||0!==n.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function exec(e){var t,r,i,n,u=this;return c&&(r=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(t=u.lastIndex),i=s.call(u,e),l&&i&&(u.lastIndex=u.global?i.index+i[0].length:t),c&&i&&i.length>1&&a.call(i[0],r,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(i[n]=void 0)})),i}),e.exports=u},function(e,t,r){"use strict";var i=r(135)(!0);e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},function(e,t,r){var i,n,o,s=r(41),a=r(182),u=r(128),l=r(124),c=r(9),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,y={},run=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},listener=function(e){run.call(e.data)};d&&f||(d=function setImmediate(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++g]=function(){a("function"==typeof e?e:Function(e),t)},i(g),g},f=function clearImmediate(e){delete y[e]},"process"==r(51)(h)?i=function(e){h.nextTick(s(run,e,1))}:m&&m.now?i=function(e){m.now(s(run,e,1))}:p?(o=(n=new p).port2,n.port1.onmessage=listener,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",listener,!1)):i="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),run.call(e)}}:function(e){setTimeout(s(run,e,1),0)}),e.exports={set:d,clear:f}},function(e,t,r){"use strict";var i=r(9),n=r(21),o=r(65),s=r(113),a=r(31),u=r(85),l=r(10),c=r(84),h=r(43),d=r(18),f=r(201),p=r(69).f,m=r(22).f,g=r(143),y=r(80),b=i.ArrayBuffer,v=i.DataView,E=i.Math,w=i.RangeError,T=i.Infinity,_=b,x=E.abs,S=E.pow,O=E.floor,C=E.log,I=E.LN2,A=n?"_b":"buffer",k=n?"_l":"byteLength",R=n?"_o":"byteOffset";function packIEEE754(e,t,r){var i,n,o,s=new Array(r),a=8*r-t-1,u=(1<<a)-1,l=u>>1,c=23===t?S(2,-24)-S(2,-77):0,h=0,d=e<0||0===e&&1/e<0?1:0;for((e=x(e))!=e||e===T?(n=e!=e?1:0,i=u):(i=O(C(e)/I),e*(o=S(2,-i))<1&&(i--,o*=2),(e+=i+l>=1?c/o:c*S(2,1-l))*o>=2&&(i++,o/=2),i+l>=u?(n=0,i=u):i+l>=1?(n=(e*o-1)*S(2,t),i+=l):(n=e*S(2,l-1)*S(2,t),i=0));t>=8;s[h++]=255&n,n/=256,t-=8);for(i=i<<t|n,a+=t;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*d,s}function unpackIEEE754(e,t,r){var i,n=8*r-t-1,o=(1<<n)-1,s=o>>1,a=n-7,u=r-1,l=e[u--],c=127&l;for(l>>=7;a>0;c=256*c+e[u],u--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=t;a>0;i=256*i+e[u],u--,a-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:l?-T:T;i+=S(2,t),c-=s}return(l?-1:1)*i*S(2,c-t)}function unpackI32(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function packI8(e){return[255&e]}function packI16(e){return[255&e,e>>8&255]}function packI32(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function packF64(e){return packIEEE754(e,52,8)}function packF32(e){return packIEEE754(e,23,4)}function addGetter(e,t,r){m(e.prototype,t,{get:function(){return this[r]}})}function get(e,t,r,i){var n=f(+r);if(n+t>e[k])throw w("Wrong index!");var o=e[A]._b,s=n+e[R],a=o.slice(s,s+t);return i?a:a.reverse()}function set(e,t,r,i,n,o){var s=f(+r);if(s+t>e[k])throw w("Wrong index!");for(var a=e[A]._b,u=s+e[R],l=i(+n),c=0;c<t;c++)a[u+c]=l[o?c:t-c-1]}if(s.ABV){if(!l((function(){b(1)}))||!l((function(){new b(-1)}))||l((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var M,j=(b=function ArrayBuffer(e){return c(this,b),new _(f(e))}).prototype=_.prototype,N=p(_),P=0;N.length>P;)(M=N[P++])in b||a(b,M,_[M]);o||(j.constructor=b)}var L=new v(new b(2)),D=v.prototype.setInt8;L.setInt8(0,2147483648),L.setInt8(1,2147483649),!L.getInt8(0)&&L.getInt8(1)||u(v.prototype,{setInt8:function setInt8(e,t){D.call(this,e,t<<24>>24)},setUint8:function setUint8(e,t){D.call(this,e,t<<24>>24)}},!0)}else b=function ArrayBuffer(e){c(this,b,"ArrayBuffer");var t=f(e);this._b=g.call(new Array(t),0),this[k]=t},v=function DataView(e,t,r){c(this,v,"DataView"),c(e,b,"DataView");var i=e[k],n=h(t);if(n<0||n>i)throw w("Wrong offset!");if(n+(r=void 0===r?i-n:d(r))>i)throw w("Wrong length!");this[A]=e,this[R]=n,this[k]=r},n&&(addGetter(b,"byteLength","_l"),addGetter(v,"buffer","_b"),addGetter(v,"byteLength","_l"),addGetter(v,"byteOffset","_o")),u(v.prototype,{getInt8:function getInt8(e){return get(this,1,e)[0]<<24>>24},getUint8:function getUint8(e){return get(this,1,e)[0]},getInt16:function getInt16(e){var t=get(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function getUint16(e){var t=get(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function getInt32(e){return unpackI32(get(this,4,e,arguments[1]))},getUint32:function getUint32(e){return unpackI32(get(this,4,e,arguments[1]))>>>0},getFloat32:function getFloat32(e){return unpackIEEE754(get(this,4,e,arguments[1]),23,4)},getFloat64:function getFloat64(e){return unpackIEEE754(get(this,8,e,arguments[1]),52,8)},setInt8:function setInt8(e,t){set(this,1,e,packI8,t)},setUint8:function setUint8(e,t){set(this,1,e,packI8,t)},setInt16:function setInt16(e,t){set(this,2,e,packI16,t,arguments[2])},setUint16:function setUint16(e,t){set(this,2,e,packI16,t,arguments[2])},setInt32:function setInt32(e,t){set(this,4,e,packI32,t,arguments[2])},setUint32:function setUint32(e,t){set(this,4,e,packI32,t,arguments[2])},setFloat32:function setFloat32(e,t){set(this,4,e,packF32,t,arguments[2])},setFloat64:function setFloat64(e,t){set(this,8,e,packF64,t,arguments[2])}});y(b,"ArrayBuffer"),y(v,"DataView"),a(v.prototype,s.VIEW,!0),t.ArrayBuffer=b,t.DataView=v},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(206)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var i=r(217),n=r(442);for(var o in(t=e.exports=function filterCSS(e,t){return new n(t).process(e)}).FilterCSS=n,i)t[o]=i[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,r){"use strict";function getValueByJsonPath(e,t){if(e)return t?t.split(".").reduce((e,t)=>{if(!e)return e;const r=/(.*)\[(.*)\]/.exec(t);if(r){const i=e[r[1]];if(!Array.isArray(i))throw new Error(`${r[1]} in ${t} is not Array`);return i[r[2]]}return e[t]},e):e}function parseJsonPath(e,t){if(!e||!t)return;const r=getValueByJsonPath(e,t),i=t.split("."),n=i.pop();return{jsonPath:t,value:r,parent:getValueByJsonPath(e,i.join(".")),lastPath:n}}r.d(t,"a",(function(){return parseJsonPath}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return EditorTrackingInfo}));class EditorTrackingInfo{static get(e){if(e="featureService"===e?"source":e,this.info&&this.info[e])return this.info[e]}}EditorTrackingInfo.info={source:{enableEditorTracking:!0,enableOwnershipAccessControl:!0,allowOthersToUpdate:!0,allowOthersToDelete:!0,allowOthersToQuery:!0,allowAnonymousToUpdate:!1,allowAnonymousToDelete:!1},fieldworker:{enableEditorTracking:!0,enableOwnershipAccessControl:!0,allowOthersToUpdate:!1,allowOthersToDelete:!1,allowOthersToQuery:!1,allowAnonymousToUpdate:!1,allowAnonymousToDelete:!1},stakeholder:{enableEditorTracking:!0,enableOwnershipAccessControl:!0,allowOthersToUpdate:!1,allowOthersToDelete:!1,allowOthersToQuery:!0,allowAnonymousToUpdate:!1,allowAnonymousToDelete:!1}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeMapModel}));var i=r(8),n=r(40),o=r(77),s=r(78),a=r(5),u=r(2),l=r(7),c=r(25),h=r(58);class EsriQuestionTypeMapModel extends i.a{constructor(e){super(e),this.type=EsriQuestionTypeMapModel.EsriQuestionType,this.dismissSkipAnswerDialog=!1,this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","maps","defaultMap","search","defaultExtent","deviceLocation"],this._defaultField={type:"esriFieldTypeGeometry"};const t={fieldType:this._defaultField.type,defaultValue:null,defaultExtent:new l.a,deviceLocation:{trigger:"locateButton"},maps:[],defaultMap:null,search:{sources:[]},geometry:new n.a};if(e=e||{},Object.assign(this,t),this.setName(e.name||this.name),this.isNameModified=!0===e.isNameModified||e.geometry&&!0===e.geometry.isNameModified,this.fieldName=null,Object(u.k)(e.maps)&&this.setMaps(e.maps),Object(u.k)(e.search)&&e.search.sources&&e.search.sources.length>0){const t=[];e.search.sources.forEach(e=>{t.push(new h.a(e))}),this.search.sources=t,Object(u.k)(e.search.maxSuggestions)&&(this.search.maxSuggestions=e.search.maxSuggestions),Object(u.k)(e.search.maxLocations)&&(this.search.maxLocations=e.search.maxLocations)}if(Object(u.k)(e.deviceLocation)&&(this.deviceLocation=e.deviceLocation),Object(u.k)(e.defaultExtent)&&this.setDefaultExtent(e.defaultExtent),Object(u.k)(e.defaultValue)&&"esriQuestionTypeGeoPoint"===e.type&&this.setPointDefaultValue(e.defaultValue),Object(u.k)(e.maps)&&this.setMaps(e.maps),Object(u.k)(e.defaultMap)&&(this.defaultMap=new c.a(e.defaultMap)),void 0!==e.fieldType&&this.setFieldType(e.fieldType),e.geometry)switch(e.geometry.type){case"esriQuestionTypeGeoPoint":this.updateGeometry(new n.a(e.geometry));break;case"esriQuestionTypePolyline":this.updateGeometry(new o.a(e.geometry));break;case"esriQuestionTypePolygon":this.updateGeometry(new s.a(e.geometry))}this.geometry.parent=this}getMap(e){return this.maps[e]}setMaps(e){e&&Array.isArray(e)&&(this.maps=e.map(e=>new c.a(e)))}getDefaultMap(){return this.defaultMap?this.defaultMap:null}setDefaultMap(e){this.defaultMap=e}addMap(e){if(e&&e instanceof c.a){0===this.maps.filter(t=>e.itemId&&e.itemId&&e.itemId===t.itemId).length&&this.maps.push(e)}}removeMap(e){this.maps[e]&&this.maps.splice(e,1)}getSearchSource(e){return this.search.sources[e]||null}setSearchSources(e){e&&Array.isArray(e)&&(this.search.sources=e.map(e=>new h.a(e)))}addSearchSource(e){if(e&&e instanceof h.a){0===this.search.sources.filter(t=>e.itemId&&e.itemId===t.itemId).length&&this.search.sources.push(e)}}removeSource(e){var t;(null===(t=null==this?void 0:this.search)||void 0===t?void 0:t.sources[e])&&this.search.sources.splice(e,1)}setPointDefaultValue(e){if(e){const t=new l.b(e);this.defaultValue=Object(u.k)(t.x)&&Object(u.k)(t.x)?t:null}}setDefaultExtent(e){e&&(this.defaultExtent=new l.a(e))}getDefaultExtent(){return this.defaultExtent}toJson(e){return this._toJson(e)}validate(e){return this.geometry.validate(e)}getBindType(){return this.geometry.getBindType()}updateGeometry(e){this.geometry=e,this.geometry.parent=this}getGeometry(){return this.geometry}getGeometryQuestionType(){return this.geometry.type}getLinkedMaps(){return this.maps.filter(e=>"webmap"===e.type||"linkedItem"===e.type)}hasLinkedMap(){return this.getLinkedMaps().length>0}_toJson(e){(e=new a.b(e)).whiteLists=this._exceptDefaultWhitelist;const t=this.__toJson(e);if(t.maps&&this.maps&&(t.maps=this.maps.map(e=>e&&e.toJson?e.toJson():e)),t.defaultMap&&(t.defaultMap=this.defaultMap.toJson()),t.search&&t.search.sources&&t.search.sources.length>0){const e=[];t.search.sources.forEach(t=>{e.push(t.toJson())}),t.search.sources=e}t.search.maxSuggestions&&(t.search.maxSuggestions=this.search.maxSuggestions),t.search.maxLocations&&(t.search.maxLocations=this.search.maxLocations),t.defaultExtent&&this.defaultExtent&&(t.defaultExtent=this.defaultExtent.toJson?this.defaultExtent.toJson():this.defaultExtent),t.defaultValue&&this.defaultValue&&(t.defaultValue=this.defaultValue.toJson?this.defaultValue.toJson():this.defaultValue),delete t.type;const r=this.geometry.toJson(e);let i;switch(Object.assign(r,t),r.type){case"esriQuestionTypeGeoPoint":i=new n.a(r);break;case"esriQuestionTypePolyline":i=new o.a(r);break;case"esriQuestionTypePolygon":i=new s.a(r)}return i.toJson(e)}}EsriQuestionTypeMapModel.EsriQuestionType="esriQuestionTypeMap"},function(e,t,r){"use strict";r.d(t,"a",(function(){return Config}));const i=r(419);class Config{static getWebTierPortal(){return!0===Config._isWebTierPortal}static setWebTierPortal(e){Config._isWebTierPortal=e}static setReadyToRequest(e){Config._isReadyToRequest=e}static getReadyToRequest(){return Config._isReadyToRequest}static getVersion(){return Config.getConfig("formVersion")||""}static getConfig(e){return Config._configSettings&&null!==Config._configSettings&&"object"==typeof Config._configSettings?e?Config._configSettings[e]:Config._configSettings:null}static setConfig(e){Config._configSettings=Object.assign({},Config._configSettings||{},e||{})}static clearConfig(){Config._configSettings=null}}Config._isWebTierPortal=!1,Config._isReadyToRequest=!1,Config._configSettings=i&&i.default?i.default:i},function(e,t,r){"use strict";r.d(t,"a",(function(){return RequestOptions}));class RequestOptions{constructor(e){this._defaultWithoutCredentialUrls=["https://survey123dev.arcgis.com/api","https://survey123dev2.arcgis.com/api","https://survey123qa.arcgis.com/api","https://survey123qa-cf.arcgis.com/api","https://survey123.arcgis.com/api","https://survey123beta.arcgis.com/api"];this.setMetadata(Object.assign({},{includeCommonParams:!0,withoutCredentialUrls:[]},e||{}))}setMetadata(e){(e=e||{}).withoutCredentialUrls&&(e.withoutCredentialUrls=this._mergeWithoutCredentialUrls(e.withoutCredentialUrls)),Object.assign(this,e)}_mergeWithoutCredentialUrls(e){return e&&Array.isArray(e)&&e.length>0&&(e=(e=e.concat(this._defaultWithoutCredentialUrls)).filter((t,r)=>t&&e.indexOf(t)===r)),e}}},function(e,t,r){var i=r(216),n=r(219),o=r(444);function filterXSS(e,t){return new o(t).process(e)}for(var s in(t=e.exports=filterXSS).filterXSS=filterXSS,t.FilterXSS=o,i)t[s]=i[s];for(var s in n)t[s]=n[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),function isWorkerEnv(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=e.exports)},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeTextModel}));var i=r(8),n=r(3),o=r(2),s=r(5);class EsriQuestionTypeTextModel extends i.a{constructor(e){super(e),this.type=EsriQuestionTypeTextModel.EsriQuestionType,this.bindType="string",this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"text"},this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","validation","visibility"];const t={fieldType:this._defaultField.type,validation:new n.b({valueRange:{min:null,max:null,isEnabled:!1},inputMask:{isEnabled:!1,customFormat:""}})};e=e||{},Object.assign(this,t),Object(o.k)(e.validation)&&(this.validation=new n.b(Object.assign(Object.assign({},t.validation),e.validation))),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){e=new s.b(e),this.validation&&this.validation.setWhitelist(["valueRange","inputMask"]),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),t}validate(e){let t=this._validateQuestionModel(EsriQuestionTypeTextModel.EsriQuestionType,e);return this.validation?this.validation instanceof n.b?t.addValidateResult(this.validation.validate()):t.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`):t.addError(`The validation in '${this.label}' (id=${this.id}) is not existed`),!0===this.validation.valueRange.isEnabled&&!1===this.isPublished&&this.fieldLength<this.validation.valueRange.max&&t.addError(`Filed length < max. character count in '${this.label}' (id=${this.id})`),t.check(),this._setErrorsByValidateResult(t),t}}EsriQuestionTypeTextModel.EsriQuestionType="esriQuestionTypeText"},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriChoiceOrderModel}));var i=r(3);class EsriChoiceOrderModel{constructor(e){this._whitelists=["type"];Object.assign(this,{type:"default"},e||{}),this.type=this.type||"default"}toJson(){return Object.keys(this).reduce((e,t,r)=>{if(-1===this._whitelists.indexOf(t))return e;let i=this[t];return e[t]=i,e},{})}validate(){let e=new i.a;return e.addValidateResult(Object(i.c)(this,{string:["type"]})),e.check()}setType(e){this.type=e}getType(){return this.type}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(16);function cleanUrl(e){return"string"!=typeof e||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}var n=r(96),o=r(119);function decodeQueryString(e){return e.replace(/^#/,"").split("&").reduce((function(e,t){var r=function decodeParam(e){var t=e.split("="),r=t[0],i=t[1];return{key:decodeURIComponent(r),value:decodeURIComponent(i)}}(t),i=r.key,n=r.value;return e[i]=n,e}),{})}function generateToken(e,t){var r=t;return"undefined"!=typeof window&&window.location&&window.location.host?r.params.referer=window.location.host:r.params.referer=o.b,Object(o.c)(e,r)}function fetchToken(e,t){var r=t;return r.rawResponse=!1,Object(o.c)(e,r).then((function(e){var t={token:e.access_token,username:e.username,expires:new Date(Date.now()+(1e3*e.expires_in-1e3)),ssl:!0===e.ssl};return e.refresh_token&&(t.refreshToken=e.refresh_token),t}))}var s=/^https?:\/\/(\S+)\.arcgis\.com.+/;function isOnline(e){return s.test(e)}function getOnlineEnvironment(e){if(!s.test(e))return null;var t=e.match(s)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function isFederated(e,t){var r=cleanUrl(function normalizeOnlinePortalUrl(e){if(!s.test(e))return e;switch(getOnlineEnvironment(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),i=cleanUrl(e).replace(/https?:\/\//,"");return new RegExp(i,"i").test(r)}var a=function(){function UserSession(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this.username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?cleanUrl(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.refreshTokenTTL=e.refreshTokenTTL||1440,this.trustedServers={},e.server){var t=this.getServerRootUrl(e.server);this.trustedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}return UserSession.beginOAuth2=function(e,t){void 0===t&&(t=window);var r,s=Object(i.a)({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",duration:20160,popup:!0,state:e.clientId,locale:""},e),a=s.portal,u=s.provider,l=s.clientId,c=s.duration,h=s.redirectUri,d=s.popup,f=s.state,p=s.locale,m=s.params;if(r="arcgis"===u?a+"/oauth2/authorize?client_id="+l+"&response_type=token&expiration="+c+"&redirect_uri="+encodeURIComponent(h)+"&state="+f+"&locale="+p:a+"/oauth2/social/authorize?client_id="+l+"&socialLoginProviderName="+u+"&autoAccountCreateForSocial=true&response_type=token&expiration="+c+"&redirect_uri="+encodeURIComponent(h)+"&state="+f+"&locale="+p,m&&(r=r+"&"+Object(n.a)(m)),d){var g=function defer(){var e={promise:null,resolve:null,reject:null};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}();return t["__ESRI_REST_AUTH_HANDLER_"+l]=function(e,t){if(e){var r=JSON.parse(e);g.reject(new o.a(r.errorMessage,r.error))}else if(t){var i=JSON.parse(t);g.resolve(new UserSession({clientId:l,portal:a,ssl:i.ssl,token:i.token,tokenExpires:new Date(i.expires),username:i.username}))}},t.open(r,"oauth-window","height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes"),g.promise}t.location.href=r},UserSession.completeOAuth2=function(e,t){void 0===t&&(t=window);var r=Object(i.a)({portal:"https://www.arcgis.com/sharing/rest",popup:!0},e),n=r.portal,s=r.clientId,a=r.popup;function completeSignIn(e,r){try{var i=void 0,u="__ESRI_REST_AUTH_HANDLER_"+s;if(a&&(t.opener?t.opener.parent&&t.opener.parent[u]?i=t.opener.parent[u]:t.opener&&t.opener[u]&&(i=t.opener[u]):t!==t.parent&&t.parent&&t.parent[u]&&(i=t.parent[u]),i))return i(e?JSON.stringify(e):void 0,JSON.stringify(r)),void t.close()}catch(e){throw new o.a('Unable to complete authentication. It\'s possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".')}if(e)throw new o.a(e.errorMessage,e.error);return new UserSession({clientId:s,portal:n,ssl:r.ssl,token:r.token,tokenExpires:r.expires,username:r.username})}var u=decodeQueryString(t.location.hash);if(!u.access_token){var l=void 0,c="Unknown error";return u.error&&(l=u.error,c=u.error_description),completeSignIn({error:l,errorMessage:c})}var h=u.access_token,d=new Date(Date.now()+1e3*parseInt(u.expires_in,10)-6e4),f=u.username;return completeSignIn(void 0,{token:h,expires:d,ssl:"true"===u.ssl,username:f})},UserSession.authorize=function(e,t){var r=Object(i.a)({portal:"https://arcgis.com/sharing/rest",duration:20160},e),n=r.portal,o=r.clientId,s=r.duration,a=r.redirectUri;t.writeHead(301,{Location:n+"/oauth2/authorize?client_id="+o+"&duration="+s+"&response_type=code&redirect_uri="+encodeURIComponent(a)}),t.end()},UserSession.exchangeAuthorizationCode=function(e,t){var r=Object(i.a)({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:1440},e),n=r.portal,o=r.clientId,s=r.redirectUri,a=r.refreshTokenTTL;return fetchToken(n+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:o,redirect_uri:s,code:t}}).then((function(e){return new UserSession({clientId:o,portal:n,ssl:e.ssl,redirectUri:s,refreshToken:e.refreshToken,refreshTokenTTL:a,refreshTokenExpires:new Date(Date.now()+1e3*(a-1)),token:e.token,tokenExpires:e.expires,username:e.username})}))},UserSession.deserialize=function(e){var t=JSON.parse(e);return new UserSession({clientId:t.clientId,refreshToken:t.refreshToken,refreshTokenExpires:new Date(t.refreshTokenExpires),username:t.username,password:t.password,token:t.token,tokenExpires:new Date(t.tokenExpires),portal:t.portal,ssl:t.ssl,tokenDuration:t.tokenDuration,redirectUri:t.redirectUri,refreshTokenTTL:t.refreshTokenTTL})},UserSession.fromCredential=function(e){return new UserSession({portal:e.server.includes("sharing/rest")?e.server:e.server+"/sharing/rest",ssl:e.ssl,token:e.token,username:e.userId,tokenExpires:new Date(e.expires)})},Object.defineProperty(UserSession.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),Object.defineProperty(UserSession.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(UserSession.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!1,configurable:!0}),Object.defineProperty(UserSession.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!1,configurable:!0}),UserSession.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},UserSession.prototype.getUser=function(e){var t=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var r=this.portal+"/community/self",n=Object(i.a)(Object(i.a)({httpMethod:"GET",authentication:this},e),{rawResponse:!1});return this._pendingUserRequest=Object(o.c)(r,n).then((function(e){return t._user=e,t._pendingUserRequest=null,e})),this._pendingUserRequest},UserSession.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then((function(e){return e.username}))},UserSession.prototype.getToken=function(e,t){return function canUseOnlineToken(e,t){var r=isOnline(e),i=isOnline(t),n=getOnlineEnvironment(e),o=getOnlineEnvironment(t);return!(!r||!i||n!==o)}(this.portal,e)||new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t)},UserSession.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},UserSession.prototype.serialize=function(){return JSON.stringify(this)},UserSession.prototype.refreshSession=function(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new o.a("Unable to refresh token."))},UserSession.prototype.getServerRootUrl=function(e){var t=cleanUrl(e).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),r=(t[0],t[1]),i=t[2].split("/"),n=i[0],o=i.slice(1);return""+r+n.toLowerCase()+"/"+o.join("/")},UserSession.prototype.getTokenForServer=function(e,t){var r=this,i=this.getServerRootUrl(e),n=this.trustedServers[i];return n&&n.expires&&n.expires.getTime()>Date.now()?Promise.resolve(n.token):(this._pendingTokenRequests[i]||(this._pendingTokenRequests[i]=Object(o.c)(i+"/rest/info").then((function(n){if(n.owningSystemUrl){if(isFederated(n.owningSystemUrl,r.portal))return Object(o.c)(n.owningSystemUrl+"/sharing/rest/info",t);throw new o.a(e+" is not federated with "+r.portal+".","NOT_FEDERATED")}if(n.authInfo&&void 0!==r.trustedServers[i])return Promise.resolve({authInfo:n.authInfo});throw new o.a(e+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")})).then((function(e){return e.authInfo.tokenServicesUrl})).then((function(t){return r.token&&r.tokenExpires.getTime()>Date.now()?generateToken(t,{params:{token:r.token,serverUrl:e,expiration:r.tokenDuration,client:"referer"}}):generateToken(t,{params:{username:r.username,password:r.password,expiration:r.tokenDuration,client:"referer"}}).then((function(e){return r._token=e.token,r._tokenExpires=new Date(e.expires),e}))})).then((function(e){return r.trustedServers[i]={expires:new Date(e.expires),token:e.token},delete r._pendingTokenRequests[i],e.token}))),this._pendingTokenRequests[i])},UserSession.prototype.getFreshToken=function(e){var t=this;return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(e).then((function(e){return t._pendingTokenRequests[t.portal]=null,e.token}))),this._pendingTokenRequests[this.portal])},UserSession.prototype.refreshWithUsernameAndPassword=function(e){var t=this,r=Object(i.a)({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},e);return generateToken(this.portal+"/generateToken",r).then((function(e){return t._token=e.token,t._tokenExpires=new Date(e.expires),t}))},UserSession.prototype.refreshWithRefreshToken=function(e){var t=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(e);var r=Object(i.a)({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return fetchToken(this.portal+"/oauth2/token",r).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t}))},UserSession.prototype.refreshRefreshToken=function(e){var t=this,r=Object(i.a)({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return fetchToken(this.portal+"/oauth2/token",r).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t._refreshToken=e.refreshToken,t._refreshTokenExpires=new Date(Date.now()+60*(t.refreshTokenTTL-1)*1e3),t}))},UserSession}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return Choice_EsriChoiceModel}));var i=r(2),n=r(17),o=r(3),s=r(4),a=r(26),u=r(60),l=r(118),c=r(59);class ItemGroup_EsriChoiceItemGroupModel{constructor(e){this._whitelist=["id","itemIndexes"];e=e||{},Object.assign(this,{id:null,itemIndexes:[]},e),Object(i.k)(this.style)&&(this.style=new c.a(this.style))}setWhitelist(e){e=e||[],this._whitelist=this._whitelist.concat(e)}toJson(e){e=new a.b(e);let t=this._whitelist.concat(e.extraWhiteLists);const r=Object(n.b)(this,t);return r.style&&this.style&&(r.style=this.style.toJson?this.style.toJson(e):this.style),r}validate(){let e=new o.a;return e.addValidateResult(Object(o.c)(this,{array:["itemIndexes"],string:["id","label"]})),this.style&&(this.style instanceof c.a?e.addValidateResult(this.style.validate()):e.addError(new s.a("The choice item group style is not instanceof EsriChoiceItemStyleModel"))),e.check()}}var h=r(34);class ReferenceFilter_EsriChoiceReferenceFilter{constructor(e){this._whitelist=["key","value"];e=e||{},Object.assign(this,{key:"list_name"},e)}toJson(e){e=new a.b(e);let t=this._whitelist.concat(e.extraWhiteLists);return Object(n.b)(this,t)}}class Choice_EsriChoiceModel{constructor(e){this._choiceItemObjectIdCounter=0,this._whitelist=["items"],this._fieldCodedValues=[];const t={items:[],other:new l.a};e=e||{},Object.assign(this,t,e),Object(i.k)(this.items)&&(this.items=this.items.map(e=>{const t=new u.a(e);let r=!0;if(e.value){const i=this._getObjectIdFromValue(e.value);i&&parseInt(i,10)>-1&&(this.setChoiceItemObjectIdCounter(i),t.setObjectId(i),t.setDefaultCodedValue(e.value),r=!1)}return!0===r&&(t.setObjectId(this.generateChoiceItemObjectId()),t.setDefaultCodedValue()),t})),Object(i.k)(this.other)&&(this.other=new l.a(this.other)),Object(i.k)(this.itemGroups)&&(this.itemGroups=this.itemGroups.map(e=>new ItemGroup_EsriChoiceItemGroupModel(e))),Object(i.k)(this.search)&&(this.search=new h.a(this.search)),Object(i.k)(this.referenceFilter)&&(this.referenceFilter=new ReferenceFilter_EsriChoiceReferenceFilter(this.referenceFilter))}setWhitelist(e){e=e||[],this._whitelist=this._whitelist.concat(e)}toJson(e){e=new a.b(e);const t=this._whitelist.concat(e.extraWhiteLists),r=Object(n.b)(this,t);return r.items&&this.items&&(r.items=this.items.map(t=>t&&t.toJson?t.toJson(e):t)),r.other&&this.other&&(r.other=this.other.toJson?this.other.toJson(e):this.other),r.itemGroups&&this.itemGroups&&Array.isArray(this.itemGroups)&&this.itemGroups.length>0&&(r.itemGroups=this.itemGroups.map(t=>t&&t.toJson?t.toJson(e):r)),r}setReferenceFilter(e){"string"==typeof e?this.referenceFilter=new ReferenceFilter_EsriChoiceReferenceFilter({key:"list_name",value:e}):"object"==typeof e&&(this.referenceFilter=new ReferenceFilter_EsriChoiceReferenceFilter(e))}setChoiceItemReplaceValueRegExp(e){e&&(this._choiceItemReplaceValueRegExp=e,this.items.forEach(t=>t.setReplaceValueRegExp(e)))}addChoiceItem(e,t){let r=(t=Object.assign({insertAt:this.items.length},t||{})).insertAt>=0?t.insertAt:0;t.insertAt>this.items.length&&(r=this.items.length),this._choiceItemReplaceValueRegExp&&e.setReplaceValueRegExp(this._choiceItemReplaceValueRegExp),e&&e instanceof u.a&&this.items.splice(r,0,e);const i=t.objectId||this.generateChoiceItemObjectId();e.setObjectId(i),e.setDefaultCodedValue(),this.updateChoiceItemPosition()}removeChoiceItem(e){const t=this.items;if(t&&Array.isArray(t)){let r=-1;e instanceof u.a&&t.indexOf(e)>-1&&(r=t.indexOf(e)),"number"==typeof e&&e>-1&&(r=e),r>-1&&(t.splice(r,1),this.updateChoiceItemPosition())}}moveChoiceItem(e,t){const r=this.items;if(r&&Array.isArray(r)&&r[e]){const i=r.length;if(t>=i){let e=t-i;for(;1+e--;)r.push(void 0)}const n=r.splice(e,1)[0];return r.splice(t,0,n),this.updateChoiceItemPosition(),n}}clearChoiceItems(){this.items=[]}updateChoiceItemPosition(){const e=this.items;e&&e.length>0&&e.forEach((e,t)=>{e.position=t})}setSearch(e){e&&e instanceof h.a?this.search=e:e&&"object"==typeof e?this.search=new h.a(e):e&&"string"==typeof e&&(this.search=new h.a({expression:e}))}createChoiceItemsByLabels(e){if((e=Object.assign({labels:[],i18nChoicePrefix:"Choice "},e||{})).labels=e.labels||[],!e.labels||0===e.labels.length)return[];let t=e.labels.filter(e=>""!==e.trim());return t=t.length>0?t:[`${e.i18nChoicePrefix}${this.getChoiceItemObjectIdCounter()}`],t.map((e,t)=>{const r=new u.a({label:e,isChecked:!1});return this._choiceItemReplaceValueRegExp&&r.setReplaceValueRegExp(this._choiceItemReplaceValueRegExp),this.setChoiceItemObjectIdCounter(t),r.setObjectId(this.getChoiceItemObjectIdCounter()),r.sanitizeLabel({isIgnoreSanitize:!0}),r})}compareChoiceItems(e){if(!e||0===e.length)return{removedChoiceItems:[],addedChoiceItems:[]};return{addedChoiceItems:e.filter(e=>!this.items.find(t=>t.value===e.value)),removedChoiceItems:this.items.filter(t=>!e.find(e=>t.value===e.value))}}batchAddChoiceItems(e){if(!(e=Object.assign({isOverwrite:!0},e||{})).choiceItems&&!e.labels)return;const t=e.choiceItems||this.createChoiceItemsByLabels({labels:e.labels,i18nChoicePrefix:e.i18nChoicePrefix});return!0===e.isOverwrite?(this.clearChoiceItems(),void t.forEach(e=>this.addChoiceItem(e))):void 0}validate(e){e=Object.assign({ignoreOnlyAllowNumberEnglishCheck:!1,ignore32LengthCheck:!1,ignoreDuplicatedCheck:!1},e||{});const t=new o.a;if(t.addValidateResult(Object(o.c)(this,{array:["items","itemGroups"]})),this.items){let r;for(let i=this.items.length-1;i>=0;i--)if(r=this.items[i],r instanceof u.a){const n=r.validate();n.errors&&n.errors.length>0&&(n.errors=n.errors.map(e=>(e.choiceItemIndex=i,e))),t.addValidateResult(n);const o=this.validateChoiceItemCode(r.value,r,{ignore32LengthCheck:e.ignore32LengthCheck,ignoreOnlyAllowNumberEnglishCheck:e.ignoreOnlyAllowNumberEnglishCheck,ignoreDuplicatedCheck:e.ignoreDuplicatedCheck});if(!o.success&&o.error){const e=new s.a(o.error);e.choiceItemIndex=i,t.addError(e)}}else{const e=new s.a(`The ${i}th choice item is not instanceof EsriChoiceItemModel`);e.choiceItemIndex=i,t.addError(e)}}else t.addError(new s.a("The items is not existed"));if(this.other&&(this.other instanceof l.a?t.addValidateResult(this.other.validate()):t.addError(new s.a("The choie other is not instanceof EsriChoiceOtherModel")),!0===this.other.isEnabled)){const r=this.other;if(e.existedNames&&Array.isArray(e.existedNames)&&e.existedNames.length>0){e.existedNames.filter(e=>e.toLowerCase()===r.name.toLowerCase()).length>1&&(!0===e.isRestoreToDefaultName&&!1===r.isNameModified?r.resetName():t.addError(`The choice other name, ${r.name} is duplicated`))}if(e.featureServiceFieldNames&&Array.isArray(e.featureServiceFieldNames)&&e.featureServiceFieldNames.length>0){e.featureServiceFieldNames.filter(e=>e.toLowerCase()===r.name.toLowerCase()).length>1&&t.addError(`The choice other name, ${r.name}, is duplicated in feature service`)}}return this.itemGroups&&this.itemGroups.forEach((e,r)=>{e instanceof ItemGroup_EsriChoiceItemGroupModel?t.addValidateResult(e.validate()):t.addError(new s.a(`The ${r}th choice item group is not instanceof EsriChoiceItemGroupModel`))}),t.check()}getCodedValues(e){e=e||{};let t=[],r=this.items;const i=!(!this.reference||!e.referenceChoiceModel);i&&e.referenceChoiceModel.items&&(r=e.referenceChoiceModel.items),r&&(t=r.map(e=>({name:e.label,code:String(e.value)})));let n=this.other;return i&&e.referenceChoiceModel.other&&(n=e.referenceChoiceModel.other),n&&n.isEnabled&&t.push({name:n.label,code:String(n.value)}),t}validateChoiceItemCode(e,t,r){r=new o.d(r);try{if(!e){if(!0===r.ignoreOnlyAllowNumberEnglishCheck)throw new s.a({code:"reviewSchema14"});throw new s.a({code:"reviewSchema06"})}if(!r.ignore32LengthCheck&&e.length>32)throw new s.a({code:"reviewSchema03"});if(!r.ignoreOnlyAllowNumberEnglishCheck&&!/^[a-zA-Z0-9_]*$/.test(e))throw new s.a({code:"reviewSchema02"});if(!0===r.ignoreOnlyAllowNumberEnglishCheck&&this._choiceItemReplaceValueRegExp&&this._choiceItemReplaceValueRegExp.test(e))throw new s.a({code:"reviewSchema14"});if(!r.ignoreDuplicatedCheck){const i=this.items.find(r=>r!==t&&r.value.toLowerCase()===e.toLowerCase());if(i){if(!0!==r.isRestoreToDefaultName)throw new s.a({code:"reviewSchema10",message:""+i.label,details:[""+i.label]});t.resetCodedValue()}}return{success:!0}}catch(e){return{success:!1,error:e}}}addChoiceItemObjectIdCounter(){this._choiceItemObjectIdCounter++}getChoiceItemObjectIdCounter(){return this._choiceItemObjectIdCounter}generateChoiceItemObjectId(){return this.addChoiceItemObjectIdCounter(),""+this.getChoiceItemObjectIdCounter()}setChoiceItemObjectIdCounter(e){if(e&&parseInt(""+e,10)>-1){const t=parseInt(""+e,10);t>=this._choiceItemObjectIdCounter&&(this._choiceItemObjectIdCounter=t)}}setFieldCodedValues(e){if(e=e||[],!Array.isArray(e))throw new Error("values is not an array");this._fieldCodedValues=e,this._updateChoiceItemObjectIdCounter()}getFieldCodedValues(){return this._fieldCodedValues||[]}_updateChoiceItemObjectIdCounter(){this._getBlacklistCodedValues().forEach(e=>{const t=this._getObjectIdFromValue(e);t&&this.setChoiceItemObjectIdCounter(t)})}_getBlacklistCodedValues(){const e=this.getFieldCodedValues()||[],t=this.items.map(e=>e.value)||[];let r=e.concat(t);return r=r.filter((e,t)=>r.indexOf(e)===t),r}_getObjectIdFromValue(e){const t=e||"";let r=null;const i=(""+t).toLowerCase();if(/^choice[0-9]+$/.exec(t)||/^choice\_[0-9]+$/.exec(t)){let e=(i.split("choice")||i.split("choice_")||[])[1];e&&(e=e.replace(/\_/g,""),isNaN(parseInt(e,10))||(r=""+parseInt(e,10)))}return r}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Form_Form}));var i=r(172),n=r(48),o=r(221),s=r(225),a=r(224),u=r(87),l=r(156),c=r(33),h=r(117),d=r(226),f=r(47);class Trigger{}class Condition_Condition extends Trigger{constructor(e){super(),this.source="",this.operator="is",this.value=null,this.sourcePosition=-1,this.valuePosition=-1,this.whitelist=["source","operator","value","sourcePosition","valuePosition"],Object.assign(this,e||{})}toJson(){return Object.keys(this).reduce((e,t)=>(-1===this.whitelist.indexOf(t)||(e[t]=this[t]),e),{})}}class ConditionSet_ConditionSet extends Trigger{constructor(e){super(),this.logicRelationship="or",this.conditions=[],this.whitelist=["logicRelationship","conditions"],e=e||{},Object.assign(this,e),e.conditions&&Array.isArray(e.conditions)&&(this.conditions=e.conditions.map(e=>e.conditions?new ConditionSet_ConditionSet(e):new Condition_Condition(e)))}toJson(){return Object.keys(this).reduce((e,t)=>{if(-1===this.whitelist.indexOf(t))return e;let r=this[t];return e[t]=r,"conditions"===t&&r&&Array.isArray(r)&&(e[t]=r.map(e=>e instanceof ConditionSet_ConditionSet||e instanceof Condition_Condition?e.toJson():e)),e},{})}}class Rule_Rule{constructor(e){this.type="esriRuleTypeRelevant",this.target="",this.trigger=new ConditionSet_ConditionSet,this.targetPosition=-1,this.whitelist=["type","target","trigger","targetPosition"],e=e||{},Object.assign(this,e),e.trigger&&(this.trigger=new ConditionSet_ConditionSet(e.trigger))}findCondition(e){let t;return e&&this.trigger&&this.trigger.conditions&&this.trigger.conditions instanceof Array&&this.trigger.conditions.forEach(r=>{if(r.source&&r.source===e)return t=r,!1}),t}toJson(){return Object.keys(this).reduce((e,t)=>{if(-1===this.whitelist.indexOf(t))return e;const r=this[t];return e[t]=r,"trigger"===t&&r&&(e[t]=r instanceof ConditionSet_ConditionSet?r.toJson():r),e},{})}}var p=r(60);var m=r(157),g=r(2),y=r(14),b=r(154),v=r(448),E=r(4),w=r(101),T=r(465),_=r(55),x=r(0);const S={name:"theme-color1",header:{textColor:x.I,backgroundColor:x.x},form:{primaryColor:x.x,primaryTextColor:x.I,textColor:x.r,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.w}},O={name:"theme-color2",header:{textColor:x.I,backgroundColor:x.A},form:{primaryColor:x.A,primaryTextColor:x.I,textColor:x.u,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.y}},C={name:"theme-color3",header:{textColor:x.I,backgroundColor:x.l},form:{primaryColor:x.l,primaryTextColor:x.I,textColor:x.u,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.c}},I={name:"theme-color4",header:{textColor:x.I,backgroundColor:x.J},form:{primaryColor:x.J,primaryTextColor:x.u,textColor:x.u,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.K}},A={name:"theme-color5",header:{textColor:x.I,backgroundColor:x.m},form:{primaryColor:x.m,primaryTextColor:x.I,textColor:x.u,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.n}},k={name:"theme-color6",header:{textColor:x.I,backgroundColor:x.G},form:{primaryColor:x.G,primaryTextColor:x.I,textColor:x.u,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.E}},R={name:"theme-color7",header:{textColor:x.I,backgroundColor:x.F},form:{primaryColor:x.F,primaryTextColor:x.I,textColor:x.r,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.H}},M={name:"theme-color8",header:{textColor:x.I,backgroundColor:x.b},form:{primaryColor:x.b,primaryTextColor:x.I,textColor:x.r,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.h}},j={name:"theme-color9",header:{textColor:x.I,backgroundColor:x.o},form:{primaryColor:x.o,primaryTextColor:x.I,textColor:x.r,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.s}},N={name:"theme-color10",header:{textColor:x.I,backgroundColor:x.u},form:{primaryColor:x.u,primaryTextColor:x.I,textColor:x.r,backgroundColor:x.I,inputTextColor:x.r,inputBackgroundColor:x.I},webpage:{backgroundColor:x.p}},P={name:"theme-image1",header:{textColor:x.I,backgroundColor:x.j},form:{primaryColor:x.j,primaryTextColor:x.u,textColor:x.u,backgroundColor:x.i,inputTextColor:x.u,inputBackgroundColor:x.I},webpage:{backgroundColor:x.I,backgroundImage:"assets/img/theme/Image01.jpg",backgroundImageThumbnail:"assets/img/theme/Image01_thumbnail.jpg",backgroundImageFit:"fill"}},L={name:"theme-image6",header:{textColor:x.I,backgroundColor:x.z},form:{primaryColor:x.z,primaryTextColor:x.u,textColor:x.I,backgroundColor:x.d,inputTextColor:x.I,inputBackgroundColor:x.g},webpage:{backgroundColor:x.I,backgroundImage:"assets/img/theme/Image06.jpg",backgroundImageThumbnail:"assets/img/theme/Image06_thumbnail.jpg",backgroundImageFit:"fill"}},D={name:"theme-image7",header:{textColor:x.I,backgroundColor:x.D},form:{primaryColor:x.D,primaryTextColor:x.I,textColor:x.I,backgroundColor:x.B,inputTextColor:x.I,inputBackgroundColor:x.C},webpage:{backgroundColor:x.I,backgroundImage:"assets/img/theme/Image07.jpg",backgroundImageThumbnail:"assets/img/theme/Image07_thumbnail.jpg",backgroundImageFit:"fill"}},U={name:"theme-image8",header:{textColor:x.I,backgroundColor:x.k},form:{primaryColor:x.k,primaryTextColor:x.u,textColor:x.I,backgroundColor:x.e,inputTextColor:x.I,inputBackgroundColor:x.f},webpage:{backgroundColor:x.I,backgroundImage:"assets/img/theme/Image08.jpg",backgroundImageThumbnail:"assets/img/theme/Image08_thumbnail.jpg",backgroundImageFit:"fill"}},Q={name:"theme-image9",header:{textColor:x.I,backgroundColor:x.q},form:{primaryColor:x.q,primaryTextColor:x.u,textColor:x.I,backgroundColor:x.p,inputTextColor:x.I,inputBackgroundColor:x.v},webpage:{backgroundColor:x.I,backgroundImage:"assets/img/theme/Image09.jpg",backgroundImageThumbnail:"assets/img/theme/Image09_thumbnail.jpg",backgroundImageFit:"fill"}},B=(x.I,x.u,x.a,x.I,x.r,x.I,x.r,x.I,x.t,[S,R,M,j,N,O,C,I,A,k,P,L,D,U,Q]),V=B.map(e=>e.name);function getDefaultThemeJson(e){return e=e||"theme-color1",B.find(t=>t.name===e)}var q=r(464),G=r(35);class Form_Form{constructor(e){this.isUpdatedWebMap=!1,this.isUpdatedChoiceReference=!1,this._whitelists=["layerName","portalUrl","header","subHeader","questions","rule","rules","submit","footer","themes","settings","version","extensions"],this._objectIdCounter={question:0,page:0,group:0,rule:-1},this._eventInfo={};let t=!0;(e=Object.assign({formJSON:null,isViewer:!1,isUpgrade:!0,useMapQuestionType:!1},e||{})).formJSON&&"object"==typeof e.formJSON&&(this._originalFormJson=Object.assign({},e.formJSON),e.formJSON.version||(t=!1),e.formJSON.layerName=e.formJSON.layerName||"surveyPoint"),e.formJSON=e.formJSON||{},Object.assign(this,{layerName:v.a.getDefaultLayerName(),isCreatedByExistingFeatureService:!1,portalUrl:m.a.getConfig("portalUrl"),header:new q.b,subHeader:new q.c,questions:[],rules:[],rule:{},version:m.a.getConfig("formVersion"),themes:[new _.a],footer:new q.a,submit:new T.a,settings:new w.a},e.formJSON),"number"==typeof this.version&&(this.version=""+this.version),t||(this.version="0.0"),this.originalVersion=this.version;const parseQuestions=e=>(e.description&&(e.description=Object(g.b)(e.description)),"esriQuestionTypeGroup"===e.type||"esriQuestionTypePage"===e.type?(e.questions=e.questions||[],e.questions.map(e=>parseQuestions(e))):this.replaceQuestionNameById(e));this.questions.length>0&&(this.questions=Object(i.convertByQuestions)(this.questions,{oldFormVersion:!0===e.isUpgrade?this.version:null,useMapQuestionType:e.useMapQuestionType}),this.questions.map(e=>parseQuestions(e)));const r=function convertRulesToRuleObj(e){if(!(e=Object.assign({rules:null,questions:null,isViewer:!1,rule:{}},e||{})).questions||!e.rules)throw new Error("missing rules / questions args");const t=e.questions,r=e.rules;let i;const n=e.rule||{};let o;const s=[];let a=0;return r&&r.length>0&&r.forEach(r=>{"esriRuleTypeRelevant"===r.type&&r.trigger&&r.trigger.conditions&&r.trigger.conditions instanceof Array&&(r.trigger.conditions.forEach(u=>{i="rule_"+a,o={id:i,trigger:u.source,target:r.target,operation:"=",type:"relevant"},t[r.targetPosition]&&t[r.targetPosition].id===r.target&&(o.targetModel=t[r.targetPosition],o.targetInstance=t[r.targetPosition],t[u.sourcePosition]&&t[u.sourcePosition].id===u.source&&(o.triggerModel=t[u.sourcePosition],(u.valuePosition>=0&&o.triggerModel.choices.items[u.valuePosition]||"__other"===u.valuePosition&&o.triggerModel.choices.other)&&(o.triggerModel._tempEditor.ruleID.to.push(i),o.conditionModel="__other"===u.valuePosition?o.triggerModel.choices.other:o.triggerModel.choices.items[u.valuePosition],o.condition=o.conditionModel.value,-1===o.triggerModel._tempEditor.addedRuleItems.indexOf(o.condition)&&o.triggerModel._tempEditor.addedRuleItems.push(o.condition),o.targetModel._tempEditor.ruleID.from.push(i),e.isViewer&&o.conditionModel&&(o.targetModel._tempRuntime.isVisible=!1,o.conditionModel instanceof p.a&&o.conditionModel.isChecked&&(o.targetModel._tempRuntime.isVisible=!0,-1===s.indexOf(o.targetModel)&&s.push(o.targetModel))),n[i]=o,a++)))}),e.isViewer&&s.length>0&&s.forEach(e=>{e._tempRuntime.isVisible=!0}))}),{rule:n,rulesCount:a}}({questions:this.getAllQuestions({isExpandQuestionsInSingleChoiceGrid:!1,isExpandQuestionsInAddress:!1}),rules:this.rules,rule:this.rule,isViewer:e.isViewer});if(this.rule=r.rule,this._objectIdCounter.rule=r.rulesCount>0?r.rulesCount-1:this._objectIdCounter.rule,this.settings=new w.a(this.settings||{}),this.submit=new T.a(this.submit||{}),this.upgradeThemes(),!0===e.isUpgrade){this.upgrade()&&(this.footer.isVisible=!1!==this.footer.isVisible,this.header.isVisible=!1!==this.header.isVisible,this.subHeader.isVisible=!1!==this.subHeader.isVisible,this.upgradeFormVersion())}this.header=new q.b(this.header),this.subHeader=new q.c(this.subHeader),this.footer=new q.a(this.footer),e.formJSON&&delete e.formJSON.isPublished,this.updateQuestionPosition(),(e.i18nSubHeaderContent||e.i18nFooterContent||e.i18nSubmitButtonText||e.i18nThankYouScreen||e.i18nThankYouScreenImageAlt||e.i18nClosedStatusContent)&&this.setI18nString({i18nSubHeaderContent:e.i18nSubHeaderContent,i18nFooterContent:e.i18nFooterContent,i18nSubmitButtonText:e.i18nSubmitButtonText,i18nThankYouScreen:e.i18nThankYouScreen,i18nThankYouScreenImageAlt:e.i18nThankYouScreenImageAlt,i18nClosedStatusContent:e.i18nClosedStatusContent}),this._initEvents()}setLayerName(e){this.layerName=e}getLayerName(){return this.layerName}upgrade(){return Object(y.a)(this.version,"2.3")<0&&(this.description||(this.subHeader.isVisible=!1),this.setContentHtml("header",this.title),this.setContentHtml("subHeader",this.description),delete this.title,delete this.description,this.version="2.3"),Object(y.a)(this.version,"2.8")<0&&(this.settings&&this.settings.thankYouScreenContent&&(this.settings.thankYouScreenContent=this.settings.getDefaultThankYouScreenContent(this.settings.thankYouScreenContent),this.setContentHtml("thankYouScreen",this.settings.thankYouScreenContent)),this.version="2.8"),!0}upgradeThemes(){if(this.theme){let e=this.theme;e.name=e.name||"theme-color1";const t=getDefaultThemeJson(e.name);e=new _.a(t||e||{}),this.setTheme(e)}this.themes&&Array.isArray(this.themes)&&(this.themes=this.themes.map(e=>new _.a(e||{})),1===this.themes.length&&(this.themes[0].isEnabled=!0)),delete this.theme}getConfig(e){return m.a.getConfig(e)}upgradeFormVersion(e){e=Object.assign({},e||{}),this.getConfig()&&(this.version=this.getConfig("formVersion").toString()||"")}isDefaultTheme(e){return function isDefaultTheme(e){return e&&e.name&&-1!==V.indexOf(e.name)}(e)}getTheme(e){return e=e||{},this.themes.find(t=>!0===e.isEnabled||!1===e.isEnabled?t.isEnabled===e.isEnabled:t.name===e.name)}getThemes(e){return e=e||{},this.themes.filter(t=>!0!==e.isEnabled&&!1!==e.isEnabled&&!e.name||(!0===e.isEnabled||!1===e.isEnabled?t.isEnabled===e.isEnabled:t.name===e.name))}getActiveTheme(){return this.getTheme({isEnabled:!0})}getCustomTheme(){return this.getTheme({name:"theme-custom"})}getImportTheme(){return this.getTheme({name:"theme-import"})}setTheme(e,t){t=Object.assign({isEnabled:!0},t||{});const r=this.isDefaultTheme(e);if(!(e instanceof _.a))throw new Error("theme is not an instance of FormTheme");let i=-1;if(r){if(this.getThemes().filter(e=>this.isDefaultTheme(e)).length>1)throw new Error("there are two more default themes in form.themes");i=this.getThemes().findIndex(e=>this.isDefaultTheme(e))}else i=this.getThemes().findIndex(t=>t.name===e.name);!0===t.isEnabled&&this.getThemes().forEach(e=>{e.isEnabled=!1}),e.isEnabled=!0===t.isEnabled,i>-1?this.themes[i]=e:this.themes.push(e)}getContentHtml(e,t){return t=Object.assign({},t||{}),"thankYouScreen"===e?this.settings.thankYouScreenContent:e&&this[e]&&this[e].content?this[e].content:void 0}setContentHtml(e,t,r){r=Object.assign({},r||{}),"header"===e&&this.header.setContent(t),"subHeader"===e&&this.subHeader.setContent(t),"footer"===e&&this.footer.setContent(t),"thankYouScreen"===e&&t&&this.settings.setThankYouScreenConent(t)}toJson(e){if(!0===(e=Object.assign({encodeContentHtml:!0,isKeepNameModified:!1,isOriginalFormJson:!1},e||{})).isOriginalFormJson&&this._originalFormJson)return this._originalFormJson;delete this.title,delete this.description;const t=this._whitelists;return Object.keys(this).reduce((r,i)=>{if(-1===t.indexOf(i))return r;const n=this[i];return"questions"===i&&Array.isArray(n)&&n.length>0?(r[i]=n.map(t=>{let r=null;!0===e.isKeepNameModified&&(r={extraWhiteLists:["isNameModified"]});let i=t.toJson?t.toJson(r):t;return i=this._replaceNestedQuestionIdByName(i),i}),r):"rule"===i?(null!==n&&"object"==typeof n&&(Object.keys(n).length>0||0===Object.keys(n).length&&r.rules.length>0)&&(r.rules=function convertRuleObjToRules(e){const t={};let r,i;e=e||{},Object.keys(e).forEach(n=>{n&&e[n]&&(r=e[n],t[r.target]||(t[r.target]=new Rule_Rule({type:"esriRuleTypeRelevant",target:r.targetModel.id,targetPosition:r.targetModel.position,trigger:new ConditionSet_ConditionSet})),i=new Condition_Condition({source:r.triggerModel.id,sourcePosition:r.triggerModel.position,operator:"is",value:r.conditionModel.value,valuePosition:r.conditionModel.position}),t[r.target].trigger.conditions.push(i))});const n=[];for(const e in t)e&&n.push(t[e].toJson());return n}(n)),r):"themes"===i?(r[i]=this.toThemesJson(),r):-1!==["header","subHeader","footer"].indexOf(i)?(r[i]=n.toJson?n.toJson({encodeContentHtml:e.encodeContentHtml}):n,r):"settings"===i?(r[i]=n instanceof w.a?n.toJson():n,r):"submit"===i?(r[i]=n instanceof T.a?n.toJson():n,r):(r[i]=n,r)},{})}toThemesJson(){return(this.getThemes()||[]).reduce((e,t)=>{let r=!0;return this.isDefaultTheme(t)&&!1===t.isEnabled&&(r=!1),!0===r&&e.push(t instanceof _.a?t.toJson():t||{name:""}),e},[])}addQuestion(e,t){if(t=Object.assign({index:-1,indexes:[]},t||{}),e){let r=this.questions;if(t.indexes&&Array.isArray(t.indexes)&&t.indexes.length>0){t.index=t.indexes.slice(-1)[0];const e=this.getParentGroupQuestionModel(t.indexes);e&&e instanceof n.a&&(r=e.questions)}"number"==typeof t.index&&t.index>-1?r.splice(t.index,0,e):r.push(e),this.updateQuestionPosition()}}removeQuestion(e){let t=this.questions;if(e.length>1){const r=this.getParentGroupQuestionModel(e);r&&r instanceof n.a&&(t=r.questions)}const r=e.slice(-1)[0];let i=[];if("number"==typeof r&&r>-1&&(i=t.splice(r,1)),i&&Array.isArray(i)&&i.length>0){const e=this.getAllQuestions();i.forEach(t=>{const r=t.getQuestionComponent();r&&r.ref&&r.ref.destroy(),e.forEach(e=>{const r=e.hasCalculation()&&e.getCalculation();r&&r.hasQuestionName(t.name)&&e.setCalculation({isValid:!1})})})}this.updateQuestionPosition()}moveQuestion(e,t){const r=this.getQuestionByIndexes(e);let i=this.questions;if(!r)throw new E.a("cannot find question model at "+e);if(e.length>1){const t=this.getParentGroupQuestionModel(e);t&&t instanceof n.a&&(i=t.questions)}let o=this.questions;if(t.length>1){const e=this.getParentGroupQuestionModel(t);e&&e instanceof n.a&&(o=e.questions)}const s=t.slice(-1)[0],a=o.length;if(s>a){let e=s-a;for(;1+e--;)o.push(void 0)}const u=e.slice(-1)[0],l=o.splice(s,0,i.splice(u,1)[0]);return this.updateQuestionPosition(),l[0]}getQuestions(){return this.questions||[]}getParentGroupQuestionModel(e){return this.getQuestionByIndexes(e.slice(0,-1))}getAllQuestions(e){e=Object.assign({isExpandQuestionsInSingleChoiceGrid:!0,isExpandQuestionsInAddress:!0,isIncludeSubQuestionsInRepeat:!0},e||{});const addNestedQuestions=t=>{let r=[];return t.forEach(t=>{if(r.push(t),t instanceof n.a&&t.questions&&Array.isArray(t.questions)){let i=!0;t instanceof o.a&&!0!==e.isExpandQuestionsInSingleChoiceGrid&&(i=!1),t instanceof s.a&&!0!==e.isIncludeSubQuestionsInRepeat&&(i=!1),t instanceof a.a&&!0!==e.isExpandQuestionsInAddress&&(i=!1),i&&(r=r.concat(addNestedQuestions(t.questions)))}}),r};return addNestedQuestions(this.questions)}getQuestion(e){return"number"==typeof e&&this.questions[e]?this.questions[e]:null}getQuestionById(e,t){let r=null;return t=t||this.getAllQuestions(),e&&t&&t.some(t=>{if(t.id.toLowerCase()===e.toLowerCase())return r=t,!0}),r}getQuestionByName(e,t){let r;return t=t||this.getAllQuestions(),e&&t&&t.some(t=>{if(t.name.toLowerCase()===e.toLowerCase())return r=t,!0}),r}getQuestionNames(){const fxGetName=e=>e.map(e=>{const t={label:e.label,type:e.type,name:e.name};return e.questions&&(t.questions=fxGetName(e.questions)),t});return fxGetName(this.questions)}getQuestionByIndexes(e){let t=this.questions,r=null;return e.forEach(e=>{r=t[e],r&&r.questions&&(t=r.questions)}),r}getGeoQuestions(e){return(e=Object.assign({blacklists:[]},e||{})).blacklists=e.blacklists||[],this.getAllQuestions().reduce((t,r)=>{let i=null;if(r instanceof u.a&&(i=r),r instanceof l.a&&(i=r.geometry),i){e.blacklists.find(e=>e.parent&&e.parent instanceof l.a&&i.parent&&i.parent instanceof l.a?e.parent.id===i.parent.id:e.id===i.id)||t.push(i)}return t},[])}getGeometrySourceQuestion(){return this.getGeoQuestions().find(e=>e.parent&&e.parent instanceof l.a?"esriFieldTypeGeometry"===e.parent.fieldType:"esriFieldTypeGeometry"===e.fieldType)}getQuestionsByBindTypes(e){if(!(e=e||[])||!Array.isArray(e)||0===e.length)return null;return this.getAllQuestions().filter(t=>{const r=t.getBindType();return r&&e.includes(r)})}hasGeoQuestion(){return this.getGeoQuestions().length>0}getAttachmentQuestions(e){e=Object.assign({isIncludeSubQuestionsInRepeat:!0},e||{});return this.getAllQuestions({isIncludeSubQuestionsInRepeat:e.isIncludeSubQuestionsInRepeat}).filter(e=>e instanceof c.a||e instanceof h.a)}hasAttachmentQuestion(e){return this.getAttachmentQuestions(e).length>0}getPageIndexes(){return this.questions.filter(e=>e instanceof d.a).map(e=>e.indexes.join("-"))}hasPageQuestion(){return this.getPageIndexes().length>0}replaceQuestionIdByName(e){return"esriQuestionTypeSingleChoiceGrid"===e.type&&e.questions.forEach(e=>{if(e.choices&&e.choices.reference){let t=e.choices.reference.split(/^\#\/questions\/(.+?)\/choices$/g)[1];t&&(t=t.replace(/\'+/g,"").replace(/\"+/g,""),e.choices.reference=e.choices.reference.replace(t,this.getQuestionNameById(t)))}return e}),e}replaceQuestionNameById(e){return"esriQuestionTypeSingleChoiceGrid"===e.type&&e.questions.forEach(e=>{if(e.choices&&e.choices.reference){let t=e.choices.reference.split(/^\#\/questions\/(.+?)\/choices$/g)[1];t&&(t=t.replace(/\'+/g,"").replace(/\"+/g,""),e.choices.reference=e.choices.reference.replace(t,this.getQuestionIdByName(t)))}return e}),e}getQuestionIdByName(e,t){let r,i="";return r=t||this.getAllQuestions(),r.forEach(t=>{if(t.name===e&&(i=t.id),t.questions&&t.questions.length>0){const r=this.getQuestionIdByName(e,t.questions);i=r||i}}),i}getQuestionNameById(e,t){let r,i="";return r=t||this.getAllQuestions(),r.forEach(t=>{if(t.id===e&&(i=t.name),t.questions&&t.questions.length>0){const r=this.getQuestionNameById(e,t.questions);i=r||i}}),i}setQuestionsFieldLength(e){const t=e.reduce((e,t)=>(e[t.name]=t,e),{});this.getAllQuestions().forEach(e=>{e.fieldName&&t[e.fieldName]&&t[e.fieldName].length&&e.setField({fieldLength:t[e.fieldName].length})})}setQuestionsMaxCharaters(){this.questions.forEach(e=>{if(e.validation&&e.validation.valueRange){const t=e.validation.valueRange,r=t.max||null;r||0===r||(t.max=e.getField("fieldLength"),t.isEnabled=!0)}})}updateQuestionPosition(e){return((e=Object.assign({questions:null,indexes:[],count:-1},e||{})).questions&&Array.isArray(e.questions)?e.questions:this.questions||[]).forEach((t,r)=>{if(e.count++,t.position=e.count,e.indexes.length>0){const i=e.indexes.slice(0);i.push(r),t.indexes=i}else t.indexes=[r];if(e.parentGroupQuestionModel&&e.parentGroupQuestionModel instanceof d.a&&(t.isInPage=!0),t instanceof n.a){const r=this.updateQuestionPosition({questions:t.questions,indexes:t.indexes,count:parseInt(""+e.count,10),parentGroupQuestionModel:t});t instanceof o.a||t instanceof a.a||(e.count=r)}t instanceof f.a&&this.updateQuestionChoiceItemPosition(t)}),e.count}updateQuestionChoiceItemPosition(e){e&&e instanceof f.a&&e.choices.updateChoiceItemPosition()}getErrors(){let e=[];return this.questions.forEach(t=>{e=e.concat(t.getErrors()||[])}),e}getReferenceChoiceModel(e){let t=null;if(e&&!0===/^\#\/questions\/(.*)\/choices/.test(e)){const r=/^\#\/questions\/(.*)\/choices/.exec(e)[1],i=this.getQuestionById(r);i&&i.choices&&(t=i.choices)}return t}getWebhooks(){return this.settings.notificationsInfo.webhooks}setWebhooks(e){e&&Array.isArray(e)&&(this.settings.notificationsInfo.webhooks=e)}getInstanceName(){return this.settings.instanceName}setInstanceName(e){this.settings.instanceName=e}getTotalPageCount(){return this.questions.filter(e=>e instanceof d.a).length}hasDefaultName(e){e=Object.assign({onlyCheckUnpublished:!0,isIgnorePageGroupQuestions:!0},e||{});let t=!1;for(const r of this.getAllQuestions()){if(!0===t)break;if((!(!0===e.isIgnorePageGroupQuestions&&r instanceof n.a)||r instanceof o.a)&&(!r.isDefaultName()||r.isNameModified||e.onlyCheckUnpublished&&r.isPublished||(t=!0),!1===t&&r instanceof f.a)){for(const i of r.choices.items){if(!0===t)break;!i.isDefaultValue()||i.isNameModified||e.onlyCheckUnpublished&&i.isPublished||(t=!0)}if(!0===t)break;const i=r.choices.other;!i||!i.isEnabled||e.onlyCheckUnpublished&&i.isPublished||i.isDefaultName()&&!i.isNameModified&&(t=!0)}}return t}setI18nString(e){return e=Object.assign({},e||{}),this.subHeader.content||this.setContentHtml("subHeader",e.i18nSubHeaderContent?`<p>${e.i18nSubHeaderContent}</p>`:""),this.footer.content||this.setContentHtml("footer",e.i18nFooterContent?`<a href='https://www.esri.com/products/survey123' target='_blank'>${e.i18nFooterContent}</a>`:""),this.submit.buttonText=this.submit.buttonText||(e.i18nSubmitButtonText?e.i18nSubmitButtonText:""),this.settings.thankYouScreenContent=this.settings.thankYouScreenContent||(e.i18nThankYouScreen?this.settings.getDefaultThankYouScreenContent(e.i18nThankYouScreen,e.i18nThankYouScreenImageAlt):""),this.settings.openStatusInfo.closedStatusContent=this.settings.openStatusInfo.closedStatusContent||(e.i18nClosedStatusContent?this.settings.openStatusInfo.getDefaultClosedStatusContent(e.i18nClosedStatusContent):""),this}getNamesByAllQuestions(){const e=[];return this.getAllQuestions().forEach(t=>{e.push(t.name),t instanceof f.a&&t.choices&&t.choices.other&&!0===t.choices.other.isEnabled&&e.push(t.choices.other.name)}),e}getObjectIdCounter(e){return(e=e||"question")in this._objectIdCounter?this._objectIdCounter[e]:null}addObjectIdCounter(e){(e=e||"question")in this._objectIdCounter&&this._objectIdCounter[e]++}generateObjectId(e){return e=e||"question",this.addObjectIdCounter(e),this.getObjectIdCounter(e)}setObjectIdCounter(e,t){t=t||"question",e>-1&&t in this._objectIdCounter&&(this._objectIdCounter[t]=Math.max(this._objectIdCounter[t],e))}isClosed(e){return this.settings.openStatusInfo.isClosed(e)}mergeFromPublishedForm(e){if(!e)throw new Error("missing publishedForm args");if(!(e instanceof Form_Form))throw new Error("publsihedForm is not a Form instance");return e.settings&&e.settings instanceof w.a&&this.settings.mergeFromPublishedFormSettings(e.settings),this}getExtensions(){return this.extensions}getExtensionByEvent(e){return(this.extensions||[]).find(t=>t.event===e)}setExtensions(e){e.forEach(e=>{this.setExtension(e)})}setExtension(e){const t=this.extensions.findIndex(t=>t.jsFileUrl===e.jsFileUrl&&t.functionName===e.functionName);t>-1?this.extensions[t]=e:this.extensions.push(e)}getLinkedMaps(){const e=[];return this.getAllQuestions().forEach(t=>{t instanceof l.a&&t.hasLinkedMap()&&!t.useOrgDefaultMaps&&e.push({name:t.name,type:t.type,linkedMaps:t.getLinkedMaps()})}),e}setSharingInfo(e){this._sharing=e}getSharingInfo(){return this._sharing}setCalculation(e,t){e&&t&&e.setCalculation(t)}getCalculation(e,t){return t=Object.assign({},t||{}),e.getCalculation(t.key)}getCalculations(){return this.getAllQuestions().filter(e=>e.hasCalculation()).map(e=>e.getCalculation())}on(e,t){e&&t&&(this._eventInfo[e]||(this._eventInfo[e]=[]),this._eventInfo[e].push(t))}off(e,t){if(!e||!t)return;if(!this._eventInfo[e])return;const r=this._eventInfo[e].indexOf(t);r>-1&&this._eventInfo[e].splice(r,1)}getEvents(){return Object.keys(this._eventInfo)}trigger(e,t){return Promise.resolve(!0).then(()=>{if(!e)throw new Error("skip");if(!this._eventInfo[e])throw new Error("skip")}).then(()=>{t&&0!==t.length||(t=[]),Array.isArray(t)||(t=[t]);const r=this._eventInfo[e].map(e=>Promise.resolve(!0).then(()=>e.apply(this,t)));return Promise.all(r)}).catch(e=>{if("skip"===(e=e||{}).message)return null;throw e})}_replaceNestedQuestionIdByName(e){return e.questions&&Array.isArray(e.questions)&&e.questions.forEach(e=>{this._replaceNestedQuestionIdByName(e)}),this.replaceQuestionIdByName(e)}_initEvents(){this.on("questionNameChanged",e=>this._onQuestionNameChanged(e)),this.on("geometrySourceChanged",e=>this._onGeomentrySourceChanged(e))}_onGeomentrySourceChanged(e){return Promise.resolve(!0).then(()=>{if(!(e=e||{}).isEnabled||!e.geometryQuestion)throw new Error("skip");const t=this.getGeoQuestions({blacklists:e.geometryQuestion?[e.geometryQuestion]:[]});if(t.length>0){const r=!0===e.isEnabled?null:"esriFieldTypeGeometry",i=[];t.forEach(t=>{t.setFieldType(r),t.parent&&t.parent instanceof l.a&&t.parent.setFieldType(r),!0===e.isEnabled&&t.parent instanceof a.a&&i.push(t.parent)}),i.length>0&&i.forEach(e=>e.removeRelatedQuestion({type:"geometry"}))}return{changedQuesions:t}}).catch(e=>{if("skip"===(e=e||{}).message)return{changedQuesions:[]};throw e})}_onQuestionNameChanged(e){const t=Array.isArray(e)?e:e&&[e];return Promise.resolve(!0).then(()=>{if(!t||0===t.length)throw new Error("skip")}).then(()=>{const e=[];return this.getAllQuestions().forEach(t=>{const r=[],i=t.getCalculation("expression");i&&Object(G.b)(i)&&r.push("calculation.expression"),t.description&&Object(G.b)(t.description)&&r.push("description"),t.label&&Object(G.b)(t.label)&&r.push("label"),t.defaultValue&&"string"==typeof t.defaultValue&&Object(G.b)(t.defaultValue)&&r.push("defaultValue"),t instanceof f.a&&(t.choices.items.forEach((e,t)=>{e.label&&Object(G.b)(e.label)&&r.push(`choices.items[${t}].label`)}),t.choices.other.label&&Object(G.b)(t.choices.other.label)&&r.push("choice.other.label")),r.length>0&&e.push({question:t,paths:r})}),e.forEach(e=>{const r=e.question;e.paths.forEach(e=>{t.forEach(t=>{if(t.oldName&&t.newName&&t.oldName!==t.newName){const i=Object(b.a)(r,e),n=i.parent,o=i.value,s=i.lastPath;n&&s&&(n[s]=Object(G.c)({expression:o,oldName:t.oldName,newName:t.newName}))}})})}),["header.content","subHeader.content","footer.content","settings.thankYouScreenContent","settings.openStatusInfo.closedStatusContent","settings.multiSubmissionInfo.preventSubmissionContent"].forEach(e=>{const r=Object(b.a)(this,e),i=r.parent,n=r.lastPath,o=r.value;parent&&n&&t.forEach(e=>{i[n]=Object(G.c)({expression:o,oldName:e.oldName,newName:e.newName})})}),{changedQuesions:e.map(e=>e.question)}}).catch(e=>{if("skip"===(e=e||{}).message)return{changedQuesions:[]};throw e})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return SearchSurveyOptions}));class SearchSurveyOptions{constructor(e){this._searchParamsWhitelists=["sortField","sortOrder","q","start","num"];Object.assign(this,{num:100,sortField:"title",sortOrder:"asc",start:1,q:null,searchSurveyType:"owned",searchString:null,owner:null,portalId:null,updateGroupIds:null,isToJson:!1,isPublished:!1,isSearchAll:!1},e||{})}toSearchParams(){return Object.keys(this).reduce((e,t)=>{if(-1===this._searchParamsWhitelists.indexOf(t))return e;let r=this[t];return r&&(e[t]=r),e},{})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return getPortalInfo})),r.d(t,"b",(function(){return getRestApiVersion})),r.d(t,"c",(function(){return isSupport}));var i=r(14),n=r(23),o=r(120),s=r(167),a=r(19);const u={};let l=!0;function getPortalInfo(e,t){return Promise.resolve(!0).then(()=>{if(!e)throw new Error("missing portalUrl args")}).then(()=>u&&u[e]?u[e]:((t=Object(n.b)(t)).portalUrl=e,Object(s.c)(t).then(t=>(!0===l&&(u[e]=t),t))))}function getRestApiVersion(e){return e?"10.8.1"===e?"8.2":"10.8.0"===e?"7.3":"10.7.2"===e?"7.2":"10.7.1"===e||"10.7.0"===e?"7.1":"10.6.1"===e?"6.1":"10.6.0"===e?"5.3":"10.5.2"===e?"5.2":"10.5.1"===e?"5.1":"10.5.0"===e?"4.4":"10.4.0"===e?"3.10":void 0:null}function isSupport(e,t,r){let n;return Promise.resolve().then(()=>{if(r)return r;return getPortalInfo(Object(a.r)("portalUrl",t)||Object(o.a)("portalUrl"),t)}).then(e=>(n=e.isPortal,r?r.currentVersion:Object(a.l)(null,t))).then(t=>(t=t||"0.0","design-republish"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.5.1"))>=0:"featureService-view"===e?!n&&Object(i.a)(t,getRestApiVersion("10.5.0"))>=0||n&&Object(i.a)(t,getRestApiVersion("10.6.0"))>=0:"featureService-propagateVisibleFields"===e?!n&&Object(i.a)(t,getRestApiVersion("10.7.0"))>=0||n&&Object(i.a)(t,getRestApiVersion("10.7.0"))>=0:"featureService-disabledSyncCapabilities"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.7.0"))>=0:"relation-survey2service"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.5.1"))>=0:"relation-survey2data"===e||"custom-printing"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.5.0"))>=0:"export-xls"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.5.2"))>=0:"export-kml"===e?!n:"account-switcher"===e?!n&&Object(i.a)(t,getRestApiVersion("10.5.2"))>=0:"attachment-query"===e?!n&&Object(i.a)(t,getRestApiVersion("10.5.0"))>=0:"attachment-attachmentDefinitionExpression"===e?!n&&Object(i.a)(t,getRestApiVersion("10.7.0"))>=0:"account-userTypeLicense"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.7.0"))>=0:"account-switcher"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.5.2"))>=0:"featureReport-privilege"===e?!n&&Object(i.a)(t,"7.2")>=0:"itemResource-featureService"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.5.0"))>=0:"user-resource"===e?!n||n&&Object(i.a)(t,getRestApiVersion("10.7.0"))>=0:void 0))}},function(e,t,r){"use strict";r.d(t,"c",(function(){return getPortalSelf})),r.d(t,"a",(function(){return addPortalResource})),r.d(t,"b",(function(){return getPortalResource}));var i=r(19),n=r(27);function getPortalSelf(e){let t=Object(i.r)("portalUrl",e),r=Object(i.k)(t)+"/self";return Object(n.a)(r,null,null,e)}function addPortalResource(e,t){if(!(e=Object.assign({},e||{})).portalId)throw new Error("missing portalId args");let r=Object(i.r)("portalUrl",t),o=Object(i.k)(r,e.portalId)+"/addresource";return Object(n.b)(o,e.params,null,t)}function getPortalResource(e,t){if(!(e=Object.assign({key:null,portalId:null},e||{})).portalId||!e.key)throw new Error("missing portalId  or key args");let r=Object(i.r)("portalUrl",t),o=`${Object(i.k)(r,e.portalId)}/resources/${e.key}`;return Object(n.a)(o,null,null,t)}},function(e,t,r){(t=e.exports=r(210)).Stream=t,t.Readable=t,t.Writable=r(171),t.Duplex=r(79),t.Transform=r(214),t.PassThrough=r(432)},,function(e,t,r){"use strict";var i,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function ReflectApply(e,t,r){return Function.prototype.apply.call(e,t,r)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function once(e,t){return new Promise((function(r,i){function errorListener(r){e.removeListener(t,resolver),i(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}(e,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var a=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,i){var n,o,s;if(checkListener(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=_getMaxListeners(e))>0&&s.length>n&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(a)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=onceWrapper.bind(i);return n.listener=r,i.wrapFn=n,n}function _listeners(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):arrayClone(n,n.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function eventTargetAgnosticAddListener(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function wrapListener(n){i.once&&e.removeEventListener(t,wrapListener),r(n)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=n[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=arrayClone(u,l);for(r=0;r<l;++r)o(c[r],this,t)}return!0},EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function once(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function removeListener(e,t){var r,i,n,o,s;if(checkListener(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?i(this._events):[]}},function(e,t,r){"use strict";(function(t,i,n){var o=r(114);function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function onCorkedFinish(e,t,r){var i=e.entry;e.entry=null;for(;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=Writable;var s,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick;Writable.WritableState=WritableState;var u=Object.create(r(93));u.inherits=r(61);var l={deprecate:r(431)},c=r(211),h=r(115).Buffer,d=n.Uint8Array||function(){};var f,p=r(212);function nop(){}function WritableState(e,t){s=s||r(79),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function onwriteError(e,t,r,i,n){--t.pendingcb,r?(o.nextTick(n,i),o.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(n(i),e._writableState.errorEmitted=!0,e.emit("error",i),finishMaybe(e,t))}(e,r,i,t,n);else{var s=needFinish(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?a(afterWrite,e,r,s,n):afterWrite(e,r,s,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(s=s||r(79),!(f.call(Writable,this)||this instanceof s))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function doWrite(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function afterWrite(e,t,r,i){r||function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)n[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;n.allBuffers=a,doWrite(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback;if(doWrite(e,t,!1,t.objectMode?1:u.length,u,l,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)}))}function finishMaybe(e,t){var r=needFinish(t);return r&&(!function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(Writable,c),WritableState.prototype.getBuffer=function getBuffer(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})):f=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1,s=!i.objectMode&&function _isUint8Array(e){return h.isBuffer(e)||e instanceof d}(e);return s&&!h.isBuffer(e)&&(e=function _uint8ArrayToBuffer(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function validChunk(e,t,r,i){var n=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(i,s),n=!1),n}(this,i,e,r))&&(i.pendingcb++,n=function writeOrBuffer(e,t,r,i,n,o){if(!r){var s=function decodeChunk(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,i,n,o);return u}(this,i,s,e,t,r)),n},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=p.destroy,Writable.prototype._undestroy=p.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(73),r(429).setImmediate,r(38))},function(e,t,r){"use strict";r.r(t),r.d(t,"SupportedEsriQuestionModels",(function(){return O})),r.d(t,"SupportedEsriQuestionModelObj",(function(){return C})),r.d(t,"isSupportedQuestionType",(function(){return isSupportedQuestionType})),r.d(t,"getEsriQuestionModelClass",(function(){return getEsriQuestionModelClass})),r.d(t,"findQuestionByField",(function(){return findQuestionByField})),r.d(t,"findQuestionByGeometryType",(function(){return findQuestionByGeometryType})),r.d(t,"convertByQuestions",(function(){return convertByQuestions})),r.d(t,"convertByQuestion",(function(){return convertByQuestion})),r.d(t,"findGeometryQuestions",(function(){return findGeometryQuestions})),r.d(t,"findQuestionByName",(function(){return findQuestionByName}));var i=r(8),n=r(14),o=r(48),s=r(225),a=r(226),u=r(221),l=r(160),c=r(3),h=r(2),d=r(5);class TextArea_EsriQuestionTypeTextAreaModel extends i.a{constructor(e){super(e),this.type=TextArea_EsriQuestionTypeTextAreaModel.EsriQuestionType,this.bindType="string",this._defaultField={type:"esriFieldTypeString",length:1e3},this._xform={type:"textarea"},this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","validation"];const t={fieldType:this._defaultField.type,validation:new c.b({valueRange:{min:null,max:null,isEnabled:!1}})};e=e||{},Object.assign(this,t),Object(h.k)(e.validation)&&(this.validation=new c.b(e.validation)),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){e=new d.b(e),this.validation&&this.validation.setWhitelist(["valueRange"]),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),t}validate(e){let t=this._validateQuestionModel(TextArea_EsriQuestionTypeTextAreaModel.EsriQuestionType,e);return this.validation?this.validation instanceof c.b?t.addValidateResult(this.validation.validate()):t.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`):t.addError(`The validation in '${this.label}' (id=${this.id}) is not existed`),!0===this.validation.valueRange.isEnabled&&!1===this.isPublished&&this.fieldLength<this.validation.valueRange.max&&t.addError(`Filed length < max. character count in '${this.label}' (id=${this.id})`),t.check(),this._setErrorsByValidateResult(t),t}}TextArea_EsriQuestionTypeTextAreaModel.EsriQuestionType="esriQuestionTypeTextArea";class Number_EsriQuestionTypeNumberModel extends i.a{constructor(e){super(e),this.type=Number_EsriQuestionTypeNumberModel.EsriQuestionType,this.bindType="decimal",this._defaultField={type:"esriFieldTypeDouble",length:255},this._xform={type:"number"},this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer","validation"];const t={fieldType:this._defaultField.type,validation:new c.b({valueRange:{min:null,max:null,isEnabled:!1},isInteger:!1})};e=e||{},Object.assign(this,t),Object(h.k)(e.validation)&&(this.validation=new c.b(e.validation)),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){e=new d.b(e),this.validation&&this.validation.setWhitelist(["valueRange","isInteger"]),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),t}validate(e){let t=this._validateQuestionModel(Number_EsriQuestionTypeNumberModel.EsriQuestionType,e);return this.validation?this.validation instanceof c.b?t.addValidateResult(this.validation.validate()):t.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`):t.addError(`The validation in '${this.label}' (id=${this.id}) is not existed`),t.check(),this._setErrorsByValidateResult(t),t}}Number_EsriQuestionTypeNumberModel.EsriQuestionType="esriQuestionTypeNumber";var f=r(13);class Date_EsriQuestionTypeDateModel extends i.a{constructor(e){super(e),this.type=Date_EsriQuestionTypeDateModel.EsriQuestionType,this.bindType="date",this._defaultField={type:"esriFieldTypeDate",length:255},this._xform={type:"date"},this._defaultLayouts=["day-month-year","year","month-year","week-number"],this._exceptDefaultWhitelist=["defaultValue","appearance","isCachedAnswer","validation"];const t={fieldType:this._defaultField.type,validation:new c.b({valueRange:{isEnabled:!1,min:null,max:null}}),appearance:new f.a({layout:"day-month-year"})};e=e||{},Object.assign(this,t),Object(h.k)(e.validation)&&(this.validation=new c.b(e.validation)),Object(h.k)(e.appearance)&&(this.appearance=new f.a(e.appearance)),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){e=new d.b(e),this.validation&&this.validation.setWhitelist(["valueRange"]),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),t.appearance&&this.appearance&&(t.appearance=this.appearance.toJson?this.appearance.toJson():this.appearance),t}upgrade(e){this._compareVersion(e,"2.7")<=0&&(this.appearance&&!this.appearance.layout?this.appearance.layout="day-month-year":this.appearance||(this.appearance=new f.a("day-month-year")))}validate(e){return this._validateQuestionDateModel(Date_EsriQuestionTypeDateModel.EsriQuestionType,e)}_validateQuestionDateModel(e,t){let r=this._validateQuestionModel(e,t);return this.validation?this.validation instanceof c.b?r.addValidateResult(this.validation.validate()):r.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`):r.addError(`The validation in '${this.label}' (id=${this.id}) is not existed`),this.appearance?this.appearance instanceof f.a?r.addValidateResult(this.appearance.validate({supportLayouts:this._defaultLayouts})):r.addError(`The appearance in '${this.label}' (id=${this.id}) is not instanceof EsriAppearanceModel`):r.addError(`The appearance in '${this.label}' (id=${this.id}) is not existed`),r.check(),this._setErrorsByValidateResult(r),r}}Date_EsriQuestionTypeDateModel.EsriQuestionType="esriQuestionTypeDate";class Datetime_EsriQuestionTypeDateTimeModel extends Date_EsriQuestionTypeDateModel{constructor(){super(...arguments),this.type=Datetime_EsriQuestionTypeDateTimeModel.EsriQuestionType,this.bindType="dateTime",this._whiteList=["defaultValue","isCachedAnswer","validation"]}validate(e){return this._validateQuestionDateModel(Datetime_EsriQuestionTypeDateTimeModel.EsriQuestionType,e)}toJson(e){e=new d.b(e),this.validation&&this.validation.setWhitelist(["valueRange"]),e.whiteLists=this._whiteList;const t=this._toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),t}}Datetime_EsriQuestionTypeDateTimeModel.EsriQuestionType="esriQuestionTypeDateTime";class Time_EsriQuestionTypeTimeModel extends i.a{constructor(e){super(e),this.type=Time_EsriQuestionTypeTimeModel.EsriQuestionType,this.bindType="time",this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"time"},this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer"];const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){(e=new d.b(e)).whiteLists=this._exceptDefaultWhitelist;return this._toJson(e)}upgrade(e){"Invalid date"===this.defaultValue&&(this.defaultValue=null)}validate(e){return this._validateQuestionModel(Time_EsriQuestionTypeTimeModel.EsriQuestionType,e)}}Time_EsriQuestionTypeTimeModel.EsriQuestionType="esriQuestionTypeTime";var p=r(98),m=r(47);class MultiChoice_EsriQuestionTypeMultiChoiceModel extends m.a{constructor(e){super(e),this.type=MultiChoice_EsriQuestionTypeMultiChoiceModel.EsriQuestionType,this._defaultLayouts=["vertical","horizontal","horizontal-compact"],this._exceptDefaultWhitelist=["choices","appearance","defaultValue","isCachedAnswer","validation","choicesOrder"],this._defaultField={type:"esriFieldTypeString",length:1e3},this._xform={type:"select"};const t={fieldType:this._defaultField.type,appearance:new f.a({layout:"vertical"}),validation:new c.b({inputCount:{min:null,max:null,isEnabled:!1}})};if(e=e||{},Object.assign(this,t),Object(h.k)(e.appearance)&&(this.appearance=new f.a(e.appearance)),Object(h.k)(e.validation)&&(this.validation=new c.b(e.validation),this.validation.inputCount=this.validation.inputCount||t.validation.inputCount),void 0!==e.fieldType&&this.setFieldType(e.fieldType),this.choices){const e=/[\,\ ]/g;this.choices.setChoiceItemReplaceValueRegExp(e)}}toJson(e){e=new d.b(e),this.validation&&this.validation.setWhitelist(["inputCount"]);const t=super.toJson(e);return t.validation&&this.validation&&(t.validation=this.validation.toJson?this.validation.toJson():this.validation),t}validate(e){const t=this._validateQuestionChoiceModel(MultiChoice_EsriQuestionTypeMultiChoiceModel.EsriQuestionType,e);return this.validation?this.validation instanceof c.b?t.addValidateResult(this.validation.validate()):t.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`):t.addError(`The validation in '${this.label}' (id=${this.id}) is not existed`),t.check(),this._setErrorsByValidateResult(t),t}}MultiChoice_EsriQuestionTypeMultiChoiceModel.EsriQuestionType="esriQuestionTypeMultiChoice";class Dropdown_EsriQuestionTypeDropdownModel extends m.a{constructor(e){super(e),this.type=Dropdown_EsriQuestionTypeDropdownModel.EsriQuestionType,this._isSupportRule=!0,this._defaultLayouts=["minimal","autocomplete"];const t={appearance:new f.a({layout:"minimal"})};e=e||{},Object.assign(this,t),Object(h.k)(e.appearance)&&(this.appearance=new f.a(e.appearance))}validate(e){return this._validateQuestionChoiceModel(Dropdown_EsriQuestionTypeDropdownModel.EsriQuestionType,e)}}Dropdown_EsriQuestionTypeDropdownModel.EsriQuestionType="esriQuestionTypeDropdown";var g=r(59);class Rating_EsriQuestionTypeRatingModel extends m.a{constructor(e){super(e),this.type=Rating_EsriQuestionTypeRatingModel.EsriQuestionType,this._exceptDefaultWhitelist=["choices","defaultValue","isCachedAnswer","choicesOrder"],this._isSupportRule=!0;e=e||{},Object.assign(this,{})}toJson(e){e=new d.b(e),this.choices&&this.choices.items&&Array.isArray(this.choices.items)&&this.choices.items.length>0&&this.choices.items.forEach(e=>{e.setWhitelist(["style"]),e.style&&e.style.setWhitelist(["mediaType","mediaUrl"])}),e.whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.choices&&this.choices&&(t.choices=this.choices.toJson?this.choices.toJson(e):this.choices),t}upgrade(e){this._compareVersion(e,"2.4")<0&&this.choices.items.forEach(e=>{e.style=new g.a,e.style.mediaType="image",this.choices.itemGroups&&this.choices.itemGroups[e.groupIndex]&&this.choices.itemGroups[e.groupIndex].style&&(e.style.mediaUrl=this.choices.itemGroups[e.groupIndex].style.imageUrl)})}validate(e){return this._validateQuestionChoiceModel(Rating_EsriQuestionTypeRatingModel.EsriQuestionType,e)}}Rating_EsriQuestionTypeRatingModel.EsriQuestionType="esriQuestionTypeRating";class Likert_EsriQuestionTypeLikertModel extends m.a{constructor(e){super(e),this.type=Likert_EsriQuestionTypeLikertModel.EsriQuestionType,this._exceptDefaultWhitelist=["choices","defaultValue","isCachedAnswer","choicesOrder"],this._isSupportRule=!0;e=e||{},Object.assign(this,{})}toJson(e){(e=new d.b(e)).whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return t.choices&&this.choices&&(t.choices=this.choices.toJson?this.choices.toJson(e):this.choices),t}validate(e){return this._validateQuestionChoiceModel(Likert_EsriQuestionTypeLikertModel.EsriQuestionType,e)}}Likert_EsriQuestionTypeLikertModel.EsriQuestionType="esriQuestionTypeLikert";class Website_EsriQuestionTypeWebSiteModel extends i.a{constructor(e){super(e),this.type=Website_EsriQuestionTypeWebSiteModel.EsriQuestionType,this.bindType="string",this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"website"},this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer"];const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){(e=new d.b(e)).whiteLists=this._exceptDefaultWhitelist;return this._toJson(e)}upgrade(e){this._compareVersion(e,"2.0")<0&&delete this.validation}validate(e){return this._validateQuestionModel(Website_EsriQuestionTypeWebSiteModel.EsriQuestionType,e)}}Website_EsriQuestionTypeWebSiteModel.EsriQuestionType="esriQuestionTypeWebSite";class Email_EsriQuestionTypeEmailModel extends i.a{constructor(e){super(e),this.type=Email_EsriQuestionTypeEmailModel.EsriQuestionType,this.bindType="string",this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"email"},this._exceptDefaultWhitelist=["defaultValue","isCachedAnswer"];const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){(e=new d.b(e)).whiteLists=this._exceptDefaultWhitelist;return this._toJson(e)}upgrade(e){this._compareVersion(e,"2.0")<0&&delete this.validation}validate(e){return this._validateQuestionModel(Email_EsriQuestionTypeEmailModel.EsriQuestionType,e)}}Email_EsriQuestionTypeEmailModel.EsriQuestionType="esriQuestionTypeEmail";var y=r(117),b=r(156),v=r(224),E=r(40),w=r(77),T=r(78),_=r(34);class Note_EsriQuestionTypeNoteModel extends i.a{constructor(e){super(e),this.type=Note_EsriQuestionTypeNoteModel.EsriQuestionType,this.isRequired=!1,this.readOnly=new _.a({expression:"true()"}),this._xform={type:"note"};e=e||{},Object.assign(this,{}),Object(h.k)(e.isRequired)&&(this.isRequired=e.isRequired),this.setName(this.name),this.fieldName=null}toJson(e){e=new d.b(e);const t=this._toJson(e);return delete t.fieldName,delete t.isRequired,t}validate(e){let t=this._validateQuestionModel(Note_EsriQuestionTypeNoteModel.EsriQuestionType,e);return t.check(),this._setErrorsByValidateResult(t),t}}Note_EsriQuestionTypeNoteModel.EsriQuestionType="esriQuestionTypeNote";var x=r(33);class Image_EsriQuestionTypeImageModel extends x.a{constructor(e){super(e,{attachmentFileType:"image"}),this.value=[],this.type=Image_EsriQuestionTypeImageModel.EsriQuestionType,this.inputTools=[],this.bindType="image",this._exceptDefaultWhitelist=["validation","inputTools"],this.inputTools=e&&e.inputTools&&e.inputTools.length?e.inputTools:["browse","camera"]}validate(e){return this._validateQuestionAttachmentModel(Image_EsriQuestionTypeImageModel.EsriQuestionType,e)}}Image_EsriQuestionTypeImageModel.EsriQuestionType="esriQuestionTypeImage";class Audio_EsriQuestionTypeAudioModel extends x.a{constructor(e){super(e,{attachmentFileType:"audio"}),this.type=Audio_EsriQuestionTypeAudioModel.EsriQuestionType}validate(e){return this._validateQuestionAttachmentModel(Audio_EsriQuestionTypeAudioModel.EsriQuestionType,e)}}Audio_EsriQuestionTypeAudioModel.EsriQuestionType="esriQuestionTypeAudio";class Video_EsriQuestionTypeVideoModel extends x.a{constructor(e){super(e,{attachmentFileType:"video"}),this.type=Video_EsriQuestionTypeVideoModel.EsriQuestionType}validate(e){return this._validateQuestionAttachmentModel(Video_EsriQuestionTypeVideoModel.EsriQuestionType,e)}}Video_EsriQuestionTypeVideoModel.EsriQuestionType="esriQuestionTypeVideo";class File_EsriQuestionTypeFileModel extends x.a{constructor(e,t){super(e,{attachmentFileType:"document"}),this.value=[],this.type=File_EsriQuestionTypeFileModel.EsriQuestionType,t=Object.assign({fileType:File_EsriQuestionTypeFileModel.defaultFileType},t||{});let r=e&&e.validation&&e.validation.allowFileType?e.validation.allowFileType.type:t.fileType;this.setAllowFileType(r,!e)}validate(e){return this._validateQuestionAttachmentModel(File_EsriQuestionTypeFileModel.EsriQuestionType,e)}}File_EsriQuestionTypeFileModel.defaultFileType="document",File_EsriQuestionTypeFileModel.EsriQuestionType="esriQuestionTypeFile";class Ranking_EsriQuestionTypeRankingModel extends MultiChoice_EsriQuestionTypeMultiChoiceModel{constructor(e){super(e),this.type=Ranking_EsriQuestionTypeRankingModel.EsriQuestionType,this._exceptDefaultWhitelist=["choices","appearance","defaultValue","isCachedAnswer","validation","choicesOrder"]}validate(e){const t=this._validateQuestionChoiceModel(Ranking_EsriQuestionTypeRankingModel.EsriQuestionType,e);return this.validation?this.validation instanceof c.b?t.addValidateResult(this.validation.validate()):t.addError(`The validation in '${this.label}' (id=${this.id}) is not instanceof EsriValidationModel`):t.addError(`The validation in '${this.label}' (id=${this.id}) is not existed`),t.check(),this._setErrorsByValidateResult(t),t}toJson(e){e=new d.b(e);const t=super.toJson(e);"appearance"in t&&delete t.appearance;const r=t.choices;return r&&r.other&&delete r.other,t}}Ranking_EsriQuestionTypeRankingModel.EsriQuestionType="esriQuestionTypeRanking";let S=null;class Metadata_EsriQuestionTypeMetadataModel extends i.a{constructor(e,t){super(e),this.type=Metadata_EsriQuestionTypeMetadataModel.EsriQuestionType,this._defaultField={type:"esriFieldTypeString",length:255},this.bindType="string";const r={fieldType:this._defaultField.type};e=e||{},Object.assign(this,r),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){e=new d.b(e);return this._toJson(e)}validate(e){return this._validateQuestionModel(Metadata_EsriQuestionTypeMetadataModel.EsriQuestionType,e)}_convertByQuestions(e,t){if(!S&&(S||(S=r(172).convertByQuestions),S=S,!S))throw new Error("cannot find _convertByQuestions");return S(e,t)}}Metadata_EsriQuestionTypeMetadataModel.EsriQuestionType="esriQuestionTypeMetadata";class MetadataStart_EsriQuestionTypeMetadataStartModel extends Metadata_EsriQuestionTypeMetadataModel{constructor(e){super(e),this._defaultField={type:"esriFieldTypeDate",length:255},this._xform={type:"date"},this.type=MetadataStart_EsriQuestionTypeMetadataStartModel.EsriQuestionType;const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}validate(e){return this._validateQuestionModel(MetadataStart_EsriQuestionTypeMetadataStartModel.EsriQuestionType,e)}}MetadataStart_EsriQuestionTypeMetadataStartModel.EsriQuestionType="esriQuestionTypeMetadataStart";class MetadataEnd_EsriQuestionTypeMetadataEndModel extends Metadata_EsriQuestionTypeMetadataModel{constructor(e){super(e),this._defaultField={type:"esriFieldTypeDate",length:255},this._xform={type:"date"},this.type=MetadataEnd_EsriQuestionTypeMetadataEndModel.EsriQuestionType;const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}validate(e){return this._validateQuestionModel(MetadataEnd_EsriQuestionTypeMetadataEndModel.EsriQuestionType,e)}}MetadataEnd_EsriQuestionTypeMetadataEndModel.EsriQuestionType="esriQuestionTypeMetadataEnd";class MetadataDeviceId_EsriQuestionTypeMetadataDeviceidModel extends Metadata_EsriQuestionTypeMetadataModel{constructor(e){super(e),this._xform={type:"text"},this.type=MetadataDeviceId_EsriQuestionTypeMetadataDeviceidModel.EsriQuestionType,this.setName(this.name)}validate(e){return this._validateQuestionModel(MetadataDeviceId_EsriQuestionTypeMetadataDeviceidModel.EsriQuestionType,e)}}MetadataDeviceId_EsriQuestionTypeMetadataDeviceidModel.EsriQuestionType="esriQuestionTypeMetadataDeviceid";class MetadataUsername_EsriQuestionTypeMetadataUsernameModel extends Metadata_EsriQuestionTypeMetadataModel{constructor(e){super(e),this._xform={type:"text"},this.type=MetadataUsername_EsriQuestionTypeMetadataUsernameModel.EsriQuestionType,this.setName(this.name)}validate(e){return this._validateQuestionModel(MetadataUsername_EsriQuestionTypeMetadataUsernameModel.EsriQuestionType,e)}}MetadataUsername_EsriQuestionTypeMetadataUsernameModel.EsriQuestionType="esriQuestionTypeMetadataUsername";class MetadataEmail_EsriQuestionTypeMetadataEmailModel extends Metadata_EsriQuestionTypeMetadataModel{constructor(e){super(e),this._xform={type:"text"},this.type=MetadataEmail_EsriQuestionTypeMetadataEmailModel.EsriQuestionType,this.setName(this.name)}validate(e){return this._validateQuestionModel(MetadataEmail_EsriQuestionTypeMetadataEmailModel.EsriQuestionType,e)}}MetadataEmail_EsriQuestionTypeMetadataEmailModel.EsriQuestionType="esriQuestionTypeMetadataEmail";class Barcode_EsriQuestionTypeBarcodeModel extends i.a{constructor(e){super(e),this.bindType="barcode",this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"text"},this.type=Barcode_EsriQuestionTypeBarcodeModel.EsriQuestionType;const t={fieldType:this._defaultField.type};e=e||{},Object.assign(this,t),this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}validate(e){return this._validateQuestionModel(Barcode_EsriQuestionTypeBarcodeModel.EsriQuestionType,e)}}Barcode_EsriQuestionTypeBarcodeModel.EsriQuestionType="esriQuestionTypeBarcode";const O=[l.a,TextArea_EsriQuestionTypeTextAreaModel,Email_EsriQuestionTypeEmailModel,Website_EsriQuestionTypeWebSiteModel,p.a,MultiChoice_EsriQuestionTypeMultiChoiceModel,Dropdown_EsriQuestionTypeDropdownModel,Rating_EsriQuestionTypeRatingModel,Likert_EsriQuestionTypeLikertModel,Number_EsriQuestionTypeNumberModel,Date_EsriQuestionTypeDateModel,Datetime_EsriQuestionTypeDateTimeModel,Time_EsriQuestionTypeTimeModel,b.a,v.a,E.a,w.a,T.a,Note_EsriQuestionTypeNoteModel,y.a,x.a,Image_EsriQuestionTypeImageModel,Audio_EsriQuestionTypeAudioModel,Video_EsriQuestionTypeVideoModel,File_EsriQuestionTypeFileModel,o.a,s.a,a.a,u.a,Ranking_EsriQuestionTypeRankingModel,MetadataStart_EsriQuestionTypeMetadataStartModel,MetadataEnd_EsriQuestionTypeMetadataEndModel,MetadataUsername_EsriQuestionTypeMetadataUsernameModel,MetadataEmail_EsriQuestionTypeMetadataEmailModel,MetadataDeviceId_EsriQuestionTypeMetadataDeviceidModel,Barcode_EsriQuestionTypeBarcodeModel],C=O.reduce((e,t)=>(e[t.EsriQuestionType]=t,e),{});function isSupportedQuestionType(e){return!(!e||!C[e])}function getEsriQuestionModelClass(e){return C[e]}function findQuestionByField(e){let t;return e&&e.type&&("esriFieldTypeString"===e.type&&(t=l.a.EsriQuestionType,e.domain&&e.domain.type&&"codedValue"===e.domain.type&&(t=p.a.EsriQuestionType)),"esriFieldTypeDate"===e.type&&(t=Datetime_EsriQuestionTypeDateTimeModel.EsriQuestionType),"esriFieldTypeDouble"===e.type&&(t=Number_EsriQuestionTypeNumberModel.EsriQuestionType),"esriFieldTypeInteger"!==e.type&&"esriFieldTypeSmallInteger"!==e.type||(t=Number_EsriQuestionTypeNumberModel.EsriQuestionType)),t}function findQuestionByGeometryType(e){return"esriGeometryPoint"===e?E.a.EsriQuestionType:"esriGeometryPolyline"===e?w.a.EsriQuestionType:"esriGeometryPolygon"===e?T.a.EsriQuestionType:void 0}function convertByQuestions(e,t){return t=Object.assign({useMapQuestionType:!1},t||{}),e&&Array.isArray(e)&&e.length>0&&(e=e.map(e=>convertByQuestion(e,t))),e}function convertByQuestion(e,t){t=Object.assign({useMapQuestionType:!1},t||{}),"esriQuestionTypeRating"===e.type&&e.appearance&&"likert"===e.appearance.type&&(e.type="esriQuestionTypeLikert"),"esriQuestionTypeAttachment"===e.type&&(e.type="esriQuestionTypeImage");const r=e.type;let o=null;if(t&&t.oldFormVersion&&((!0===e.isHidden||!1===e.isHidden)&&Object(n.a)(t.oldFormVersion,"3.11")<0&&(e.isVisible=!e.isHidden,delete e.isHidden),(!0===e.isVisible||!1===e.isVisible)&&Object(n.a)(t.oldFormVersion,"3.13")<0&&(e.visibility={expression:e.isVisible?"true()":"false()"},delete e.isVisible)),"esriQuestionTypeSingleChoiceGrid"===e.type&&Object(n.a)(t.oldFormVersion,"3.13")<0&&(e.questions||[]).forEach(e=>{if(e.choices&&e.choices.reference){const t=e.choices.reference;if(!0===/^search\((.*)\)/.test(t)){const r=/^search\((.*)\)/.exec(t)[1].split(",").map(e=>e.replace(/\'/g,""));if("@survey"===r[0]&&"choices"===r[1]){const t=r[2];e.choices.reference=`#/questions/${t}/choices`}}}}),e.type&&getEsriQuestionModelClass(r)){o=new(getEsriQuestionModelClass(r))(e,t)}else o=new i.a(e);if(t&&t.oldFormVersion&&o.upgrade(t.oldFormVersion),t.useMapQuestionType&&(o instanceof T.a||o instanceof w.a||o instanceof E.a)){const e=o.toJson();e.geometry=o;o=new b.a(e)}return t.expressionType&&o.setCalculation({type:t.expressionType}),o}function findGeometryQuestions(e,t){e=e||[];let r=[];for(let i=0;i<e.length;i++){const n=e[i],o=n.type.replace("esriQuestionType","");if("Repeat"!==o)if(n.questions){const e=findGeometryQuestions(n.questions,t);if(e&&e.length&&!t)return e;r=r.concat(e)}else{const e=Object(h.i)(n);if(["GeoPoint","Polyline","Polygon"].indexOf(o)>=0){const i=n;if(!t&&!e)return[i];t&&r.push(i)}}}return r}function findQuestionByName(e,t,r){let i;return t.find(t=>{if("esriQuestionTypeRepeat"===t.type&&r)return!1;if(t.questions){const n=findQuestionByName(e,t.questions,r);if(n)return i=n,!0}else if(t.name===e)return i=t,!0}),i}},,function(e,t,r){e.exports=!r(21)&&!r(10)((function(){return 7!=Object.defineProperty(r(124)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var i=r(9),n=r(20),o=r(65),s=r(125),a=r(22).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,r){var i=r(30),n=r(32),o=r(103)(!1),s=r(126)("IE_PROTO");e.exports=function(e,t){var r,a=n(e),u=0,l=[];for(r in a)r!=s&&i(a,r)&&l.push(r);for(;t.length>u;)i(a,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var i=r(22),n=r(11),o=r(66);e.exports=r(21)?Object.defineProperties:function defineProperties(e,t){n(e);for(var r,s=o(t),a=s.length,u=0;a>u;)i.f(e,r=s[u++],t[r]);return e}},function(e,t,r){var i=r(32),n=r(69).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function getOwnPropertyNames(e){return s&&"[object Window]"==o.call(e)?function(e){try{return n(e)}catch(e){return s.slice()}}(e):n(i(e))}},function(e,t,r){"use strict";var i=r(21),n=r(66),o=r(104),s=r(89),a=r(24),u=r(88),l=Object.assign;e.exports=!l||r(10)((function(){var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=i}))?function assign(e,t){for(var r=a(e),l=arguments.length,c=1,h=o.f,d=s.f;l>c;)for(var f,p=u(arguments[c++]),m=h?n(p).concat(h(p)):n(p),g=m.length,y=0;g>y;)f=m[y++],i&&!d.call(p,f)||(r[f]=p[f]);return r}:l},function(e,t){e.exports=Object.is||function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var i=r(42),n=r(12),o=r(182),s=[].slice,a={},construct=function(e,t,r){if(!(t in a)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";a[t]=Function("F,a","return new F("+i.join(",")+")")}return a[t](e,r)};e.exports=Function.bind||function bind(e){var t=i(this),r=s.call(arguments,1),bound=function(){var i=r.concat(s.call(arguments));return this instanceof bound?construct(t,i.length,i):o(t,i,e)};return n(t.prototype)&&(bound.prototype=t.prototype),bound}},function(e,t){e.exports=function(e,t,r){var i=void 0===r;switch(t.length){case 0:return i?e():e.call(r);case 1:return i?e(t[0]):e.call(r,t[0]);case 2:return i?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var i=r(9).parseInt,n=r(81).trim,o=r(130),s=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function parseInt(e,t){var r=n(String(e),3);return i(r,t>>>0||(s.test(r)?16:10))}:i},function(e,t,r){var i=r(9).parseFloat,n=r(81).trim;e.exports=1/i(r(130)+"-0")!=-1/0?function parseFloat(e){var t=n(String(e),3),r=i(t);return 0===r&&"-"==t.charAt(0)?-0:r}:i},function(e,t,r){var i=r(51);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,t,r){var i=r(12),n=Math.floor;e.exports=function isInteger(e){return!i(e)&&isFinite(e)&&n(e)===e}},function(e,t){e.exports=Math.log1p||function log1p(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){"use strict";var i=r(68),n=r(63),o=r(80),s={};r(31)(s,r(15)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=i(s,{next:n(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var i=r(11);e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,r){var i=r(326);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,r){var i=r(42),n=r(24),o=r(88),s=r(18);e.exports=function(e,t,r,a,u){i(t);var l=n(e),c=o(l),h=s(l.length),d=u?h-1:0,f=u?-1:1;if(r<2)for(;;){if(d in c){a=c[d],d+=f;break}if(d+=f,u?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:h>d;d+=f)d in c&&(a=t(a,c[d],d,l));return a}},function(e,t,r){"use strict";var i=r(24),n=r(67),o=r(18);e.exports=[].copyWithin||function copyWithin(e,t){var r=i(this),s=o(r.length),a=n(e,s),u=n(t,s),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?s:n(l,s))-u,s-a),h=1;for(u<a&&a<u+c&&(h=-1,u+=c-1,a+=c-1);c-- >0;)u in r?r[a]=r[u]:delete r[a],a+=h,u+=h;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var i=r(145);r(1)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(e,t,r){r(21)&&"g"!=/./g.flags&&r(22).f(RegExp.prototype,"flags",{configurable:!0,get:r(107)})},function(e,t,r){"use strict";var i,n,o,s,a=r(65),u=r(9),l=r(41),c=r(90),h=r(1),d=r(12),f=r(42),p=r(84),m=r(110),g=r(91),y=r(147).set,b=r(346)(),v=r(197),E=r(347),w=r(111),T=r(198),_=u.TypeError,x=u.process,S=x&&x.versions,O=S&&S.v8||"",C=u.Promise,I="process"==c(x),empty=function(){},A=n=v.f,k=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(15)("species")]=function(e){e(empty,empty)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(empty)instanceof t&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},notify=function(e,t){if(!e._n){e._n=!0;var r=e._c;b((function(){for(var i=e._v,n=1==e._s,o=0,run=function(t){var r,o,s,a=n?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{a?(n||(2==e._h&&onHandleUnhandled(e),e._h=1),!0===a?r=i:(c&&c.enter(),r=a(i),c&&(c.exit(),s=!0)),r===t.promise?l(_("Promise-chain cycle")):(o=isThenable(r))?o.call(r,u,l):u(r)):l(i)}catch(e){c&&!s&&c.exit(),l(e)}};r.length>o;)run(r[o++]);e._c=[],e._n=!1,t&&!e._h&&onUnhandled(e)}))}},onUnhandled=function(e){y.call(u,(function(){var t,r,i,n=e._v,o=isUnhandled(e);if(o&&(t=E((function(){I?x.emit("unhandledRejection",n,e):(r=u.onunhandledrejection)?r({promise:e,reason:n}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",n)})),e._h=I||isUnhandled(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},isUnhandled=function(e){return 1!==e._h&&0===(e._a||e._c).length},onHandleUnhandled=function(e){y.call(u,(function(){var t;I?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},$reject=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),notify(t,!0))},$resolve=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw _("Promise can't be resolved itself");(t=isThenable(e))?b((function(){var i={_w:r,_d:!1};try{t.call(e,l($resolve,i,1),l($reject,i,1))}catch(e){$reject.call(i,e)}})):(r._v=e,r._s=1,notify(r,!1))}catch(e){$reject.call({_w:r,_d:!1},e)}}};k||(C=function Promise(e){p(this,C,"Promise","_h"),f(e),i.call(this);try{e(l($resolve,this,1),l($reject,this,1))}catch(e){$reject.call(this,e)}},(i=function Promise(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(85)(C.prototype,{then:function then(e,t){var r=A(g(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&notify(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=l($resolve,e,1),this.reject=l($reject,e,1)},v.f=A=function(e){return e===C||e===s?new o(e):n(e)}),h(h.G+h.W+h.F*!k,{Promise:C}),r(80)(C,"Promise"),r(83)("Promise"),s=r(20).Promise,h(h.S+h.F*!k,"Promise",{reject:function reject(e){var t=A(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(a||!k),"Promise",{resolve:function resolve(e){return T(a&&this===s?C:this,e)}}),h(h.S+h.F*!(k&&r(106)((function(e){C.all(e).catch(empty)}))),"Promise",{all:function all(e){var t=this,r=A(t),i=r.resolve,n=r.reject,o=E((function(){var r=[],o=0,s=1;m(e,!1,(function(e){var a=o++,u=!1;r.push(void 0),s++,t.resolve(e).then((function(e){u||(u=!0,r[a]=e,--s||i(r))}),n)})),--s||i(r)}));return o.e&&n(o.v),r.promise},race:function race(e){var t=this,r=A(t),i=r.reject,n=E((function(){m(e,!1,(function(e){t.resolve(e).then(r.resolve,i)}))}));return n.e&&i(n.v),r.promise}})},function(e,t,r){"use strict";var i=r(42);function PromiseCapability(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)}e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,r){var i=r(11),n=r(12),o=r(197);e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var i=r(22).f,n=r(68),o=r(85),s=r(41),a=r(84),u=r(110),l=r(136),c=r(193),h=r(83),d=r(21),f=r(57).fastKey,p=r(72),m=d?"_s":"size",getEntry=function(e,t){var r,i=f(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var c=e((function(e,i){a(e,c,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[m]=0,null!=i&&u(i,r,e[l],e)}));return o(c.prototype,{clear:function clear(){for(var e=p(this,t),r=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=p(this,t),i=getEntry(r,e);if(i){var n=i.n,o=i.p;delete r._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),r._f==i&&(r._f=n),r._l==i&&(r._l=o),r[m]--}return!!i},forEach:function forEach(e){p(this,t);for(var r,i=s(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function has(e){return!!getEntry(p(this,t),e)}}),d&&i(c.prototype,"size",{get:function(){return p(this,t)[m]}}),c},def:function(e,t,r){var i,n,o=getEntry(e,t);return o?o.v=r:(e._l=o={i:n=f(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[m]++,"F"!==n&&(e._i[n]=o)),e},getEntry:getEntry,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=p(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))}),r?"entries":"values",!r,!0),h(t)}}},function(e,t,r){"use strict";var i=r(85),n=r(57).getWeak,o=r(11),s=r(12),a=r(84),u=r(110),l=r(46),c=r(30),h=r(72),d=l(5),f=l(6),p=0,uncaughtFrozenStore=function(e){return e._l||(e._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(e,t){return d(e.a,(function(e){return e[0]===t}))};UncaughtFrozenStore.prototype={get:function(e){var t=findUncaughtFrozen(this,e);if(t)return t[1]},has:function(e){return!!findUncaughtFrozen(this,e)},set:function(e,t){var r=findUncaughtFrozen(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var l=e((function(e,i){a(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=i&&u(i,r,e[o],e)}));return i(l.prototype,{delete:function(e){if(!s(e))return!1;var r=n(e);return!0===r?uncaughtFrozenStore(h(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function has(e){if(!s(e))return!1;var r=n(e);return!0===r?uncaughtFrozenStore(h(this,t)).has(e):r&&c(r,this._i)}}),l},def:function(e,t,r){var i=n(o(t),!0);return!0===i?uncaughtFrozenStore(e).set(t,r):i[e._i]=r,e},ufstore:uncaughtFrozenStore}},function(e,t,r){var i=r(43),n=r(18);e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var i=r(69),n=r(104),o=r(11),s=r(9).Reflect;e.exports=s&&s.ownKeys||function ownKeys(e){var t=i.f(o(e)),r=n.f;return r?t.concat(r(e)):t}},function(e,t,r){var i=r(18),n=r(132),o=r(52);e.exports=function(e,t,r,s){var a=String(o(e)),u=a.length,l=void 0===r?" ":String(r),c=i(t);if(c<=u||""==l)return a;var h=c-u,d=n.call(l,Math.ceil(h/l.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},function(e,t,r){var i=r(21),n=r(66),o=r(32),s=r(89).f;e.exports=function(e){return function(t){for(var r,a=o(t),u=n(a),l=u.length,c=0,h=[];l>c;)r=u[c++],i&&!s.call(a,r)||h.push(e?[r,a[r]]:a[r]);return h}}},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){t.fetch=isFunction(e.fetch)&&isFunction(e.ReadableStream),t.writableStream=isFunction(e.WritableStream),t.abortController=isFunction(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r;function getXHR(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function checkTypeSupport(e){var t=getXHR();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var i=void 0!==e.ArrayBuffer,n=i&&isFunction(e.ArrayBuffer.prototype.slice);function isFunction(e){return"function"==typeof e}t.arraybuffer=t.fetch||i&&checkTypeSupport("arraybuffer"),t.msstream=!t.fetch&&n&&checkTypeSupport("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i&&checkTypeSupport("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),t.vbArray=isFunction(e.VBArray),r=null}).call(this,r(38))},function(e,t,r){(function(e,i,n){var o=r(208),s=r(61),a=r(168),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,r,s,u){var l=this;if(a.Readable.call(l),l._mode=s,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){e.nextTick((function(){l.emit("close")}))})),"fetch"===s){if(l._fetchResponse=r,l.url=r.url,l.statusCode=r.status,l.statusMessage=r.statusText,r.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)})),o.writableStream){var c=new WritableStream({write:function(e){return new Promise((function(t,r){l._destroyed?r():l.push(new i(e))?t():l._resumeFetch=t}))},close:function(){n.clearTimeout(u),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void r.body.pipeTo(c).catch((function(e){n.clearTimeout(u),l._destroyed||l.emit("error",e)}))}catch(e){}}var h=r.body.getReader();!function read(){h.read().then((function(e){if(!l._destroyed){if(e.done)return n.clearTimeout(u),void l.push(null);l.push(new i(e.value)),read()}})).catch((function(e){n.clearTimeout(u),l._destroyed||l.emit("error",e)}))}()}else{if(l._xhr=t,l._pos=0,l.url=t.responseURL,l.statusCode=t.status,l.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===l.headers[r]&&(l.headers[r]=[]),l.headers[r].push(t[2])):void 0!==l.headers[r]?l.headers[r]+=", "+t[2]:l.headers[r]=t[2],l.rawHeaders.push(t[1],t[2])}})),l._charset="x-user-defined",!o.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var f=d.match(/;\s*charset=([^;])(;|$)/);f&&(l._charset=f[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(l,a.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new n.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new i(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new i(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new i(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new i(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var l=new n.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new i(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(73),r(92).Buffer,r(38))},function(e,t,r){"use strict";(function(t,i){var n=r(114);e.exports=Readable;var o,s=r(207);Readable.ReadableState=ReadableState;r(170).EventEmitter;var EElistenerCount=function(e,t){return e.listeners(t).length},a=r(211),u=r(115).Buffer,l=t.Uint8Array||function(){};var c=Object.create(r(93));c.inherits=r(61);var h=r(426),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var f,p=r(427),m=r(212);c.inherits(Readable,a);var g=["error","close","destroy","pause","resume"];function ReadableState(e,t){e=e||{};var i=t instanceof(o=o||r(79));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(213).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function Readable(e){if(o=o||r(79),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function readableAddChunk(e,t,r,i,n){var o,s=e._readableState;null===t?(s.reading=!1,function onEofChunk(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}(e,s)):(n||(o=function chunkInvalid(e,t){var r;(function _isUint8Array(e){return u.isBuffer(e)||e instanceof l})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function _uint8ArrayToBuffer(e){return u.from(e)}(t)),i?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?addChunk(e,s,t,!1):maybeReadMore(e,s)):addChunk(e,s,t,!1))):i||(s.reading=!1));return function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function addChunk(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=m.destroy,Readable.prototype._undestroy=m.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=u.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return f||(f=r(213).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function computeNewHighWaterMark(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){d("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function nReadingNextTick(e){d("readable nexttick read 0"),e.read(0)}function resume_(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function fromListPartial(e,t,r){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():r?function copyFromBufferString(e,t){var r=t.head,i=1,n=r.data;e-=n.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?n+=o:n+=o.slice(0,e),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t):function copyFromBuffer(e,t){var r=u.allocUnsafe(e),i=t.head,n=1;i.data.copy(r),e-=i.data.length;for(;i=i.next;){var o=i.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(s));break}++n}return t.length-=n,r}(e,t);return i}(e,t.buffer,t.decoder),r);var r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}Readable.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var i,n=t.needReadable;return d("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",n=!0),t.ended||t.reading?d("reading or ended",n=!1):n&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(i=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==i&&this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?onend:unpipe;function onunpipe(t,i){d("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,function cleanup(){d("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",u),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),r.removeListener("end",onend),r.removeListener("end",unpipe),r.removeListener("data",ondata),l=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}())}function onend(){d("onend"),e.end()}o.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",onunpipe);var u=function pipeOnDrain(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}(r);e.on("drain",u);var l=!1;var c=!1;function ondata(t){d("ondata"),c=!1,!1!==e.write(t)||c||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==indexOf(o.pipes,e))&&!l&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function onerror(t){d("onerror",t),unpipe(),e.removeListener("error",onerror),0===EElistenerCount(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){d("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){d("unpipe"),r.unpipe(e)}return r.on("data",ondata),function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,r);return this}var s=indexOf(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},Readable.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&emitReadable(this):n.nextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(resume_,e,t))}(this,e)),this},Readable.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){(d("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){d("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,r(38),r(73))},function(e,t,r){e.exports=r(170).EventEmitter},function(e,t,r){"use strict";var i=r(114);function emitErrorNT(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(emitErrorNT,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(emitErrorNT,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var i=r(115).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(e){var t;switch(this.encoding=function normalizeEncoding(e){var t=function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=function utf8CheckExtraBytes(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf16Text(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}t.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder.prototype.end=function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},StringDecoder.prototype.text=function utf8Text(e,t){var r=function utf8CheckIncomplete(e,t,r){var i=t.length-1;if(i<r)return 0;var n=utf8CheckByte(t[i]);if(n>=0)return n>0&&(e.lastNeed=n-1),n;if(--i<r||-2===n)return 0;if((n=utf8CheckByte(t[i]))>=0)return n>0&&(e.lastNeed=n-2),n;if(--i<r||-2===n)return 0;if((n=utf8CheckByte(t[i]))>=0)return n>0&&(2===n?n=0:e.lastNeed=n-3),n;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=Transform;var i=r(79),n=Object.create(r(93));function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);i.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){done(e,t,r)})):done(this,null,null)}function done(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}n.inherits=r(61),n.inherits(Transform,i),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(e,t){var r=this;i.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";var i=r(436),n=r(438);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=urlParse,t.resolve=function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)},t.resolveObject=function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t},t.format=function urlFormat(e){n.isString(e)&&(e=urlParse(e));return e instanceof Url?e.format():Url.prototype.format.call(e)},t.Url=Url;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(439);function urlParse(e,t,r){if(e&&n.isObject(e)&&e instanceof Url)return e;var i=new Url;return i.parse(e,t,r),i}Url.prototype.parse=function(e,t,r){if(!n.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),u=-1!==s&&s<e.indexOf("#")?"?":"#",b=e.split(u);b[0]=b[0].replace(/\\/g,"/");var v=e=b.join(u);if(v=v.trim(),!r&&1===e.split("#").length){var E=a.exec(v);if(E)return this.path=v,this.href=v,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(v);if(w){var T=(w=w[0]).toLowerCase();this.protocol=T,v=v.substr(w.length)}if(r||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===v.substr(0,2);!_||w&&m[w]||(v=v.substr(2),this.slashes=!0)}if(!m[w]&&(_||w&&!g[w])){for(var x,S,O=-1,C=0;C<h.length;C++){-1!==(I=v.indexOf(h[C]))&&(-1===O||I<O)&&(O=I)}-1!==(S=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(x=v.slice(0,S),v=v.slice(S+1),this.auth=decodeURIComponent(x)),O=-1;for(C=0;C<c.length;C++){var I;-1!==(I=v.indexOf(c[C]))&&(-1===O||I<O)&&(O=I)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var k=this.hostname.split(/\./),R=(C=0,k.length);C<R;C++){var M=k[C];if(M&&!M.match(d)){for(var j="",N=0,P=M.length;N<P;N++)M.charCodeAt(N)>127?j+="x":j+=M[N];if(!j.match(d)){var L=k.slice(0,C),D=k.slice(C+1),U=M.match(f);U&&(L.push(U[1]),D.unshift(U[2])),D.length&&(v="/"+D.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname));var Q=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+Q,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!p[T])for(C=0,R=l.length;C<R;C++){var V=l[C];if(-1!==v.indexOf(V)){var q=encodeURIComponent(V);q===V&&(q=escape(V)),v=v.split(V).join(q)}}var G=v.indexOf("#");-1!==G&&(this.hash=v.substr(G),v=v.slice(0,G));var W=v.indexOf("?");if(-1!==W?(this.search=v.substr(W),this.query=v.substr(W+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,W)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Q=this.pathname||"";var H=this.search||"";this.path=Q+H}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(n.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var r=new Url,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var l=a[u];"protocol"!==l&&(r[l]=e[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",y=r.search||"";r.path=p+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=v||b||r.host&&e.pathname,w=E,T=r.pathname&&r.pathname.split("/")||[],_=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),E=E&&(""===f[0]||""===T[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,T=f;else if(f.length)T||(T=[]),T.pop(),T=T.concat(f),r.search=e.search,r.query=e.query;else if(!n.isNullOrUndefined(e.search)){if(_)r.hostname=r.host=T.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=e.search,r.query=e.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=T.slice(-1)[0],S=(r.host||e.host||T.length>1)&&("."===x||".."===x)||""===x,O=0,C=T.length;C>=0;C--)"."===(x=T[C])?T.splice(C,1):".."===x?(T.splice(C,1),O++):O&&(T.splice(C,1),O--);if(!E&&!w)for(;O--;O)T.unshift("..");!E||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),S&&"/"!==T.join("/").substr(-1)&&T.push("");var I,A=""===T[0]||T[0]&&"/"===T[0].charAt(0);_&&(r.hostname=r.host=A?"":T.length?T.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(E=E||r.host&&T.length)&&!A&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){var i=r(152).FilterCSS,n=r(152).getDefaultWhiteList,o=r(153);function getDefaultWhiteList(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var s=new i;function escapeHtml(e){return e.replace(a,"&lt;").replace(u,"&gt;")}var a=/</g,u=/>/g,l=/"/g,c=/&quot;/g,h=/&#([a-zA-Z0-9]*);?/gim,d=/&colon;?/gim,f=/&newline;?/gim,p=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,m=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,g=/u\s*r\s*l\s*\(.*/gi;function escapeQuote(e){return e.replace(l,"&quot;")}function unescapeQuote(e){return e.replace(c,'"')}function escapeHtmlEntities(e){return e.replace(h,(function replaceUnicode(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function escapeDangerHtml5Entities(e){return e.replace(d,":").replace(f," ")}function clearNonPrintableCharacter(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return o.trim(t)}function friendlyAttrValue(e){return e=clearNonPrintableCharacter(e=escapeDangerHtml5Entities(e=escapeHtmlEntities(e=unescapeQuote(e))))}function escapeAttrValue(e){return e=escapeHtml(e=escapeQuote(e))}var y=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=getDefaultWhiteList,t.onTag=function onTag(e,t,r){},t.onIgnoreTag=function onIgnoreTag(e,t,r){},t.onTagAttr=function onTagAttr(e,t,r){},t.onIgnoreTagAttr=function onIgnoreTagAttr(e,t,r){},t.safeAttrValue=function safeAttrValue(e,t,r,i){if(r=friendlyAttrValue(r),"href"===t||"src"===t){if("#"===(r=o.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(p.lastIndex=0,p.test(r))return""}else if("style"===t){if(m.lastIndex=0,m.test(r))return"";if(g.lastIndex=0,g.test(r)&&(p.lastIndex=0,p.test(r)))return"";!1!==i&&(r=(i=i||s).process(r))}return r=escapeAttrValue(r)},t.escapeHtml=escapeHtml,t.escapeQuote=escapeQuote,t.unescapeQuote=unescapeQuote,t.escapeHtmlEntities=escapeHtmlEntities,t.escapeDangerHtml5Entities=escapeDangerHtml5Entities,t.clearNonPrintableCharacter=clearNonPrintableCharacter,t.friendlyAttrValue=friendlyAttrValue,t.escapeAttrValue=escapeAttrValue,t.onIgnoreTagStripAll=function onIgnoreTagStripAll(){return""},t.StripTagBody=function StripTagBody(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],n=!1;return{onIgnoreTag:function(s,a,u){if(function isRemoveTag(t){return!!r||-1!==o.indexOf(e,t)}(s)){if(u.isClosing){var l="[/removed]",c=u.position+l.length;return i.push([!1!==n?n:u.position,c]),n=!1,l}return n||(n=u.position),"[removed]"}return t(s,a,u)},remove:function(e){var t="",r=0;return o.forEach(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}},t.stripCommentTag=function stripCommentTag(e){return e.replace(y,"")},t.stripBlankChar=function stripBlankChar(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=n},function(e,t){function getDefaultWhiteList(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=getDefaultWhiteList(),t.getDefaultWhiteList=getDefaultWhiteList,t.onAttr=function onAttr(e,t,r){},t.onIgnoreAttr=function onIgnoreAttr(e,t,r){},t.safeAttrValue=function safeAttrValue(e,t){return r.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,r){var i=r(153);function getTagName(e){var t=i.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=i.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function isClosing(e){return"</"===e.slice(0,2)}var n=/[^a-zA-Z0-9_:\.\-]/gim;function findNextEqual(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function findBeforeEqual(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function stripQuoteWrap(e){return function isQuoteWrapString(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function parseTag(e,t,r){"use strict";var i="",n=0,o=!1,s=!1,a=0,u=e.length,l="",c="";e:for(a=0;a<u;a++){var h=e.charAt(a);if(!1===o){if("<"===h){o=a;continue}}else if(!1===s){if("<"===h){i+=r(e.slice(n,a)),o=a,n=a;continue}if(">"===h){i+=r(e.slice(n,o)),l=getTagName(c=e.slice(o,a+1)),i+=t(o,i.length,l,c,isClosing(c)),n=a+1,o=!1;continue}if('"'===h||"'"===h)for(var d=1,f=e.charAt(a-d);" "===f||"="===f;){if("="===f){s=h;continue e}f=e.charAt(a-++d)}}else if(h===s){s=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i},t.parseAttr=function parseAttr(e,t){"use strict";var r=0,o=[],s=!1,a=e.length;function addAttr(e,r){if(!((e=(e=i.trim(e)).replace(n,"").toLowerCase()).length<1)){var s=t(e,r||"");s&&o.push(s)}}for(var u=0;u<a;u++){var l,c=e.charAt(u);if(!1!==s||"="!==c)if(!1===s||u!==r||'"'!==c&&"'"!==c||"="!==e.charAt(u-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(l=findNextEqual(e,u))){addAttr(i.trim(e.slice(r,u))),s=!1,r=u+1;continue}u=l-1;continue}if(-1===(l=findBeforeEqual(e,u-1))){addAttr(s,stripQuoteWrap(i.trim(e.slice(r,u)))),s=!1,r=u+1;continue}}else;else{if(-1===(l=e.indexOf(c,u+1)))break;addAttr(s,i.trim(e.slice(r+1,l))),s=!1,r=(u=l)+1}else s=e.slice(r,u),r=u+1}return r<e.length&&(!1===s?addAttr(e.slice(r)):addAttr(s,stripQuoteWrap(i.trim(e.slice(r))))),i.trim(o.join(" "))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return OrgSharedTheme}));var i=r(86);class OrgSharedTheme{constructor(e){this.setMetadata(e)}setMetadata(e){Object.assign(this,e||{});let t=["background","text","link"];Object.keys(this).forEach(e=>{let r=this[e];r&&r instanceof Object&&t.forEach(e=>{"no-color"===r[e]&&(r[e]="transparent")})})}getValue(e){let t=e.split("."),r=null,n=this;for(let e of t){if(r=null,!(Object(i.a)(n)&&n[e]&&e))break;n=n[e],r=n}return r}isValid(){let e=!1;return Object.keys(this).forEach(t=>{"object"==typeof this[t]&&Object.keys(this[t]).forEach(r=>{let i=this[t][r];e=!1,null!=i&&(e=!0)})}),e}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return SingleChoiceGrid_EsriQuestionTypeSingleChoiceGridModel}));var i=r(48);class Grid_EsriQuestionTypeGridModel extends i.a{constructor(){super(...arguments),this.type=Grid_EsriQuestionTypeGridModel.EsriQuestionType}validate(e){return this._validateGroupModel(Grid_EsriQuestionTypeGridModel.EsriQuestionType,e)}}Grid_EsriQuestionTypeGridModel.EsriQuestionType="esriQuestionTypeGrid";var n=r(163),o=r(161),s=r(98),a=r(2),u=r(227),l=r(5);class SingleChoiceGrid_EsriQuestionTypeSingleChoiceGridModel extends Grid_EsriQuestionTypeGridModel{constructor(e){super(e),this.type=SingleChoiceGrid_EsriQuestionTypeSingleChoiceGridModel.EsriQuestionType,this._exceptDefaultWhitelist=["choices","choicesOrder"];const t={choices:new n.a,choicesOrder:new o.a};e=e||{},Object.assign(this,t),Object(a.k)(e.choices)&&(this.choices=new n.a(e.choices)),Object(a.k)(e.choicesOrder)&&(this.choicesOrder=new o.a(e.choicesOrder)),Object(a.k)(e.questions)&&(this.questions=e.questions.map(e=>{const t=new s.a(e);return t.parent=this,t}))}toJson(e){(e=new l.b(e)).whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);return void 0!==t.isRequired&&delete t.isRequired,this.questions&&(t.questions=this.questions.map(t=>{if(t&&t.toJson){const r=t.toJson(e);return r&&void 0!==r.appearance&&delete r.appearance,r&&r.choices&&r.choices.reference&&(void 0!==r.choices.items&&delete r.choices.items,void 0!==r.choices.other&&delete r.choices.other),r}return t})),this.choices&&this.choices instanceof n.a&&(t.choices=this.choices.toJson(e)),this.choicesOrder&&this.choicesOrder instanceof o.a&&(t.choicesOrder=this.choicesOrder.toJson()),t}getFieldDomain(e){e=e||{};return{type:"codedValue",name:"cvd_"+this.fieldName,codedValues:this.choices.getCodedValues({referenceChoiceModel:e.referenceChoiceModel})}}validate(e){const t=this._validateGroupModel(SingleChoiceGrid_EsriQuestionTypeSingleChoiceGridModel.EsriQuestionType,e);if(t.addValidateResult(this.choices.validate({ignoreOnlyAllowNumberEnglishCheck:!0})),this.choicesOrder&&(this.choicesOrder instanceof o.a?t.addValidateResult(this.choicesOrder.validate()):t.addError(`The choicesOrder in '${this.label}' (id=${this.id}) is not instanceof EsriChoiceOrderModel`)),!this.isPublished&&e.existedNames&&Array.isArray(e.existedNames)&&e.existedNames.length>0){e.existedNames.filter(e=>e.toLowerCase()===this.name.toLowerCase()).length>1&&(!0===e.isRestoreToDefaultName&&!1===this.isNameModified?this.resetName():t.addError(`The name, ${this.name}, in question (id = ${this.id}) is duplicated`))}return t.check(),this._setErrorsByValidateResult(t),t}validateChoiceItemCode(e,t,r){return this.choices.validateChoiceItemCode(e,t,r)}sanitizeLabel(e){const t=this._sanitizeLabel(e);if(this.questions){const e=this.questions;Array.isArray(e)&&e.forEach(e=>{e.isPublished||e.isNameModified||this.sanitizeSubQuestionLabel(e)})}return this.choices,t}sanitizeSubQuestionLabel(e){if(e.isPublished)return;if(e.isNameModified)return;let t=e.sanitizeLabel();const r=this.name,i=e.id.split("_").pop();if(t=`${r}_${"_"===t?""+i:t}`,t.length>32)return void e.resetName();t=Object(u.a)(t);this.questions.find(e=>e.name===t)?e.resetName():e.setName(t)}}SingleChoiceGrid_EsriQuestionTypeSingleChoiceGridModel.EsriQuestionType="esriQuestionTypeSingleChoiceGrid"},function(e,t){var r=function(e){function F(){this.fetch=!1,this.DOMException=e.DOMException}return F.prototype=e,new F}("undefined"!=typeof self?self:this);!function(e){!function(t){var r="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function readBlobAsArrayBuffer(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsArrayBuffer(e),r}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&n&&function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return function readBlobAsText(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Headers.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),iteratorFor(e)},i&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(e,t){var r=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=function normalizeMethod(e){var t=e.toUpperCase();return l.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function decode(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}})),t}function Response(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function fetch(e,r){return new Promise((function(i,o){var s=new Request(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function abortXhr(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new Headers,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new Response(n,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",abortXhr),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",abortXhr)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}fetch.polyfill=!0,e.fetch||(e.fetch=fetch,e.Headers=Headers,e.Request=Request,e.Response=Response),t.Headers=Headers,t.Request=Request,t.Response=Response,t.fetch=fetch}({})}(r),delete r.fetch.polyfill,(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},function(e,t,r){"use strict";function isReservedFeatureServiceKeywords(e){return e&&-1!==i.indexOf(e.toUpperCase())}r.d(t,"a",(function(){return isReservedFeatureServiceKeywords}));const i=["OBJECTID","GLOBALID","CREATIONDATE","CREATOR","EDITDATE","EDITOR","ENTITY","ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CASE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DOUBLE","DROP","DUMP","ELSE","END","ERRLVL","ESCAPE","EXCEPT","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITY_INSERT","IDENTITYCOL","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NATIONAL","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRECISION","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VARYING","VIEW","WAITFOR","WHEN","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","A","ABS","ABSENT","ACCORDING","ADA","ALL","ALLOCATE","ANALYSE","ANALYZE","AND","ANY","ARE","ARRAY","ARRAY_AGG","ARRAY_MAX_CARDINALITY","AS","ASC","ASENSITIVE","ASYMMETRIC","ATOMIC","ATTRIBUTES","AUTHORIZATION","AVG","BASE64","BEGIN_FRAME","BEGIN_PARTITION","BERNOULLI","BINARY","BIT_LENGTH","BLOB","BLOCKED","BOM","BOTH","BREADTH","C","CALL","CARDINALITY","CASE","CAST","CATALOG_NAME","CEIL","CEILING","CHARACTERS","CHARACTER_LENGTH","CHARACTER_SET_CATALOG","CHARACTER_SET_NAME","CHARACTER_SET_SCHEMA","CHAR_LENGTH","CHECK","CLASS_ORIGIN","CLOB","COBOL","COLLATE","COLLATION","COLLATION_CATALOG","COLLATION_NAME","COLLATION_SCHEMA","COLLECT","COLUMN","COLUMNS","COLUMN_NAME","COMMAND_FUNCTION","COMMAND_FUNCTION_CODE","CONCURRENTLY","CONDITION","CONDITION_NUMBER","CONNECT","CONNECTION_NAME","CONSTRAINT","CONSTRAINT_CATALOG","CONSTRAINT_NAME","CONSTRAINT_SCHEMA","CONSTRUCTOR","CONTAINS","CONTROL","CONVERT","CORR","CORRESPONDING","COUNT","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_ROW","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR_NAME","DATALINK","DATE","DATETIME_INTERVAL_CODE","DATETIME_INTERVAL_PRECISION","DB","DEFAULT","DEFERRABLE","DEFINED","DEGREE","DENSE_RANK","DEPTH","DEREF","DERIVED","DESC","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISCONNECT","DISPATCH","DISTINCT","DLNEWCOPY","DLPREVIOUSCOPY","DLURLCOMPLETE","DLURLCOMPLETEONLY","DLURLCOMPLETEWRITE","DLURLPATH","DLURLPATHONLY","DLURLPATHWRITE","DLURLSCHEME","DLURLSERVER","DLVALUE","DO","DYNAMIC","DYNAMIC_FUNCTION","DYNAMIC_FUNCTION_CODE","ELEMENT","ELSE","EMPTY","END","END-EXEC","END_FRAME","END_PARTITION","ENFORCED","EQUALS","EVERY","EXCEPT","EXCEPTION","EXEC","EXP","EXPRESSION","FALSE","FETCH","FILE","FILTER","FINAL","FIRST_VALUE","FLAG","FLOOR","FOR","FOREIGN","FORTRAN","FOUND","FRAME_ROW","FREE","FREEZE","FROM","FS","FULL","FUSION","G","GENERAL","GENERATED","GET","GO","GOTO","GRANT","GROUP","GROUPING","GROUPS","HAVING","HEX","HIERARCHY","ID","IGNORE","ILIKE","IMMEDIATELY","IMPLEMENTATION","IMPORT","IN","INDENT","INDICATOR","INITIALLY","INNER","INSTANCE","INSTANTIABLE","INTEGRITY","INTERSECT","INTERSECTION","INTO","IS","ISNULL","JOIN","K","KEY_MEMBER","KEY_TYPE","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEFT","LENGTH","LIBRARY","LIKE","LIKE_REGEX","LIMIT","LINK","LN","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOWER","M","MAP","MATCHED","MAX","MAX_CARDINALITY","MEMBER","MERGE","MESSAGE_LENGTH","MESSAGE_OCTET_LENGTH","MESSAGE_TEXT","METHOD","MIN","MOD","MODIFIES","MODULE","MORE","MULTISET","MUMPS","NAMESPACE","NATURAL","NCLOB","NESTING","NEW","NFC","NFD","NFKC","NFKD","NIL","NORMALIZE","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLABLE","NUMBER","OCCURRENCES_REGEX","OCTETS","OCTET_LENGTH","OFFSET","OLD","ON","ONLY","OPEN","OR","ORDER","ORDERING","ORDINALITY","OTHERS","OUTER","OUTPUT","OVER","OVERLAPS","OVERRIDING","P","PAD","PARAMETER","PARAMETER_MODE","PARAMETER_NAME","PARAMETER_ORDINAL_POSITION","PARAMETER_SPECIFIC_CATALOG","PARAMETER_SPECIFIC_NAME","PARAMETER_SPECIFIC_SCHEMA","PASCAL","PASSTHROUGH","PATH","PERCENT","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PERIOD","PERMISSION","PLACING","PLI","PORTION","POSITION_REGEX","POWER","PRECEDES","PRIMARY","PUBLIC","RANK","READS","RECOVERY","REFERENCES","REFERENCING","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REQUIRING","RESPECT","RESTORE","RESULT","RETURN","RETURNED_CARDINALITY","RETURNED_LENGTH","RETURNED_OCTET_LENGTH","RETURNED_SQLSTATE","RETURNING","RIGHT","ROLLUP","ROUTINE","ROUTINE_CATALOG","ROUTINE_NAME","ROUTINE_SCHEMA","ROW_COUNT","ROW_NUMBER","SCALE","SCHEMA_NAME","SCOPE","SCOPE_CATALOG","SCOPE_NAME","SCOPE_SCHEMA","SECTION","SELECT","SELECTIVE","SELF","SENSITIVE","SERVER_NAME","SESSION_USER","SETS","SIMILAR","SIZE","SOME","SOURCE","SPACE","SPECIFIC","SPECIFICTYPE","SPECIFIC_NAME","SQL","SQLCODE","SQLERROR","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQRT","STATE","STATIC","STDDEV_POP","STDDEV_SAMP","STRUCTURE","STYLE","SUBCLASS_ORIGIN","SUBMULTISET","SUBSTRING_REGEX","SUCCEEDS","SUM","SYMMETRIC","SYSTEM_TIME","SYSTEM_USER","T","TABLE","TABLESAMPLE","TABLE_NAME","THEN","TIES","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TOKEN","TOP_LEVEL_COUNT","TRAILING","TRANSACTIONS_COMMITTED","TRANSACTIONS_ROLLED_BACK","TRANSACTION_ACTIVE","TRANSFORM","TRANSFORMS","TRANSLATE","TRANSLATE_REGEX","TRANSLATION","TRIGGER_CATALOG","TRIGGER_NAME","TRIGGER_SCHEMA","TRIM_ARRAY","TRUE","UESCAPE","UNDER","UNION","UNIQUE","UNLINK","UNNAMED","UNNEST","UNTYPED","UPPER","URI","USAGE","USER","USER_DEFINED_TYPE_CATALOG","USER_DEFINED_TYPE_CODE","USER_DEFINED_TYPE_NAME","USER_DEFINED_TYPE_SCHEMA","USING","VALUE_OF","VARBINARY","VARIADIC","VAR_POP","VAR_SAMP","VERBOSE","VERSIONING","WHEN","WHENEVER","WHERE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","XMLAGG","XMLBINARY","XMLCAST","XMLCOMMENT","XMLDECLARATION","XMLDOCUMENT","XMLITERATE","XMLNAMESPACES","XMLQUERY","XMLSCHEMA","XMLTABLE","XMLTEXT","XMLVALIDATE","FID","AREA","LEN","POINTS","NUMOFPTS","EMINX","EMINY","EMAXX","EMAXY","EMINZ","EMAXZ","MIN_MEASURE","MAX_MEASURE"]},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeAddressModel}));var i=r(48),n=r(2),o=r(5),s=r(58),a=r(50),u=r(40),l=r(34);const c=a.c.reduce((e,t)=>("esriQuestionTypeAddress"!==t.questionType||(e[t.name]=t.value),e),{});class EsriQuestionTypeAddressModel extends i.a{constructor(e){super(e,{useMapQuestionType:!1}),this.type=EsriQuestionTypeAddressModel.EsriQuestionType,this.bindType="string",this.dismissTextOnlyDialog=!1,this._defaultField={type:"esriFieldTypeString",length:255},this._xform={type:"text"},this._exceptDefaultWhitelist=["search","defaultValue","isCachedAnswer","visibility"],this._questionIdCounter=0,this._suffix={geometry:"_geopoint"};const t={fieldType:this._defaultField.type,search:{sources:[],maxSuggestions:6,maxLocations:6}};if(e=e||{},Object.assign(this,t),this.questions=this.questions||[],Object(n.k)(e.geometry)&&(this.removeRelatedQuestion({type:a.a.geometry}),this.addRelatedQuestion({type:a.a.geometry,questionJson:e.geometry}),delete this.geometry),this.hasGeometry()||e.questions||this.addRelatedQuestion({type:a.a.geometry}),Object(n.k)(e.search)){if(e.search.sources&&e.search.sources.length>0){const t=[];e.search.sources.forEach(e=>{t.push(new s.a(e))}),this.search.sources=t}e.search.maxSuggestions&&(this.search.maxSuggestions=e.search.maxSuggestions),e.search.maxLocations&&(this.search.maxLocations=e.search.maxLocations)}this.setName(this.name),void 0!==e.fieldType&&this.setFieldType(e.fieldType)}toJson(e){(e=new o.b(e)).whiteLists=this._exceptDefaultWhitelist;const t=this._toJson(e);if(t.search&&t.search.sources&&t.search.sources.length>0){const e=[];t.search.sources.forEach(t=>{e.push(t.toJson())}),t.search.sources=e}if(this.questions){const e=["id","type","label","name","fieldType","calculation","fieldLength"];t.questions=this.questions.map(t=>{const r=t.toJson();return Object.keys(r).forEach(t=>{e.includes(t)||delete r[t]}),r})}return t}validate(e){const t=this._validateQuestionModel(EsriQuestionTypeAddressModel.EsriQuestionType,e);return this.search.sources.length>0&&!1===this.isPublished&&this.search.sources.forEach(e=>{t.addValidateResult(e.validate())}),t.check(),this._setErrorsByValidateResult(t),t}getRelatedQuestion(e){if((e=Object.assign({},e||{})).type===a.a.geometry)return this.questions.find(e=>e instanceof u.a)}hasRelatedQuestion(e){return!!this.getRelatedQuestion(e)}addRelatedQuestion(e){if(!(e=Object.assign({type:null,useMapQuestionType:!0},e||{})).type)return;let t;if(e.type===a.a.geometry){const r=this.getRelatedQuestion({type:e.type});if(r)return r;const i=e.questionJson||{fieldType:"esriFieldTypeGeometry"};i.type="esriQuestionTypeGeoPoint",i.id=i.id||this._genereateQuestionId(),this._updateGeometryCalculation(i),i.name=i.name||`${this.name}${this._suffix.geometry}`,i.label=i.label||`${this.label}${this._suffix.geometry}`;t=this._convertByQuestions([i],{useMapQuestionType:!1})[0]}return t?(t.pullDataAddressType=e.type,this.addQuestion(t),t):void 0}updateRelatedQuestions(e){if((e=Object.assign({type:null},e||{})).type){if("label"===e.type){const t=[];return this.questions.forEach(r=>{const i=r.pullDataAddressType;if(!i||!this._suffix[i])return;r.label=`${e.value||this.label}${this._suffix[i]}`;const n=""+r.name;r.sanitizeLabel();const o=r.name;n!==o&&t.push({oldName:n,newName:o})}),this._updateGeometryCalculation(),{changedNames:t}}"fieldType"===e.type&&this.questions.forEach(t=>{t.setFieldType(null===e.value?null:t.getDefaultFieldType())})}}removeRelatedQuestion(e){(e=Object.assign({type:null},e||{})).type&&e.type===a.a.geometry&&(this.questions=this.questions.filter(e=>!(e instanceof u.a)))}getGeometry(){return this.getRelatedQuestion({type:a.a.geometry})}hasGeometry(){return!!this.getGeometry()}_genereateQuestionId(){const e=`${this.id}_${this._questionIdCounter}`;return this._questionIdCounter++,e}_updateGeometryCalculation(e){const t=e||this.getGeometry();t&&(t.calculation=new l.a({expression:c[a.a.geometry].replace(/\$\{questionName\}/g,"${"+this.name+"}")}),e&&(e.calculation=t.calculation.toJson()))}}EsriQuestionTypeAddressModel.EsriQuestionType="esriQuestionTypeAddress"},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypeRepeatModel}));var i=r(48),n=r(2),o=r(13),s=r(5),a=r(3);class EsriQuestionTypeRepeatModel extends i.a{constructor(e,t){super(e,t),this.type=EsriQuestionTypeRepeatModel.EsriQuestionType,this.isRequired=!1,this.appearance=new o.a;const r={validation:new a.b({inputCount:{isEnabled:!1,min:-1,max:-1}})};e=e||{},Object.assign(this,r),Object(n.k)(e.isRequired)&&(this.isRequired=e.isRequired),Object(n.k)(e.appearance)&&(this.appearance=new o.a(e.appearance)),Object(n.k)(e.validation)&&(this.validation=new a.b(e.validation))}validate(e){return this._validateGroupModel(EsriQuestionTypeRepeatModel.EsriQuestionType,e)}toJson(e){(e=new s.b(e)).whiteLists=["appearance","validation"];const t=this._toJson(e);return this.questions&&(t.questions=this.questions.map((t,r)=>t.toJson?t.toJson(e):t)),t.appearance&&this.appearance&&(t.appearance=this.appearance.toJson?this.appearance.toJson():this.appearance),t.validation&&this.validation&&(this.validation.setWhitelist(["inputCount"]),t.validation=this.validation.toJson?this.validation.toJson():this.validation),t}}EsriQuestionTypeRepeatModel.EsriQuestionType="esriQuestionTypeRepeat"},function(e,t,r){"use strict";r.d(t,"a",(function(){return EsriQuestionTypePageModel}));var i=r(48),n=r(2),o=r(13),s=r(5);class EsriQuestionTypePageModel extends i.a{constructor(e,t){super(e,t),this.type=EsriQuestionTypePageModel.EsriQuestionType,this.isRequired=!1,e=e||{},t=Object.assign({oldFormVersion:null,useMapQuestionType:!1},t||{});const r={appearance:new o.a({layout:"expanded"})};Object.assign(this,r),this.questions=this.questions||[],Object(n.k)(e.appearance)&&(this.appearance=new o.a(e.appearance)),this.updateSubQuestionIndexes()}toJson(e){e=new s.b(e);const t=this._toJson(e);return this.questions&&(t.questions=this.questions.map((t,r)=>t.toJson?t.toJson(e):t)),delete t.isRequired,delete t.appearance,t}validate(e){return this._validatePageModel(EsriQuestionTypePageModel.EsriQuestionType,e)}_validatePageModel(e,t){let r=this._validateQuestionModel(e,t);return this.questions&&Array.isArray(this.questions)?this.questions.forEach(e=>{r.addValidateResult(e.validate(t))}):r.addError(`The questions in '${this.label}' (id=${this.id}) is not existed or not an array`),r.check(),this._setErrorsByValidateResult(r),r}}EsriQuestionTypePageModel.EsriQuestionType="esriQuestionTypePage"},function(e,t,r){"use strict";r.d(t,"a",(function(){return sanitizeLabel})),r.d(t,"b",(function(){return subString}));var i=r(223);function sanitizeLabel(e,t){t=Object.assign({isAllowedStartWithNumber:!1,maxLength:31},t||{});let r=e||"";r=r.replace(/[\~\!\@\#\$\%\^\&\*\(\)\[\]\{\}\<\>\?\,\.\/\\\'\"\`\:\;\|\+\=]/g,""),!1===t.isAllowedStartWithNumber&&!0===/^[0-9]/.test(r)&&(r="_"+r);let n=!1===t.isAllowedStartWithNumber?/(^[^a-zA-Z_]|[^a-zA-Z0-9_])/gi:/[^a-zA-Z0-9_]/gi;return r=r.replace(n,"_"),Object(i.a)(r)&&(r="_"+r),r=r.replace(/_+/g,"_"),r=r.toLowerCase(),r||(r="_"),r=subString(r,{maxLength:t.maxLength}),r}function subString(e,t){return(t=Object.assign({maxLength:31,startAt:0},t||{})).maxLength=t.maxLength||31,t.startAt=t.startAt||0,(e=e||"").substring(t.startAt,t.maxLength)}},,,function(e,t){e.exports=window.FormData},,function(e,t,r){"use strict";r(233);var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(405));i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(e,t,r){"use strict";r(234),r(377),r(379),r(382),r(384),r(386),r(388),r(390),r(392),r(394),r(396),r(398),r(400),r(404)},function(e,t,r){r(235),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(316),r(317),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(144),r(340),r(194),r(341),r(195),r(342),r(343),r(344),r(345),r(196),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(358),r(359),r(360),r(361),r(362),r(363),r(364),r(365),r(366),r(367),r(368),r(369),r(370),r(371),r(372),r(373),r(374),r(375),r(376),e.exports=r(20)},function(e,t,r){"use strict";var i=r(9),n=r(30),o=r(21),s=r(1),a=r(28),u=r(57).KEY,l=r(10),c=r(102),h=r(80),d=r(64),f=r(15),p=r(125),m=r(175),g=r(237),y=r(105),b=r(11),v=r(12),E=r(24),w=r(32),T=r(56),_=r(63),x=r(68),S=r(178),O=r(44),C=r(104),I=r(22),A=r(66),k=O.f,R=I.f,M=S.f,j=i.Symbol,N=i.JSON,P=N&&N.stringify,L=f("_hidden"),D=f("toPrimitive"),U={}.propertyIsEnumerable,Q=c("symbol-registry"),B=c("symbols"),V=c("op-symbols"),q=Object.prototype,G="function"==typeof j&&!!C.f,W=i.QObject,H=!W||!W.prototype||!W.prototype.findChild,$=o&&l((function(){return 7!=x(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,r){var i=k(q,t);i&&delete q[t],R(e,t,r),i&&e!==q&&R(q,t,i)}:R,wrap=function(e){var t=B[e]=x(j.prototype);return t._k=e,t},J=G&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},z=function defineProperty(e,t,r){return e===q&&z(V,t,r),b(e),t=T(t,!0),b(r),n(B,t)?(r.enumerable?(n(e,L)&&e[L][t]&&(e[L][t]=!1),r=x(r,{enumerable:_(0,!1)})):(n(e,L)||R(e,L,_(1,{})),e[L][t]=!0),$(e,t,r)):R(e,t,r)},Y=function defineProperties(e,t){b(e);for(var r,i=g(t=w(t)),n=0,o=i.length;o>n;)z(e,r=i[n++],t[r]);return e},X=function propertyIsEnumerable(e){var t=U.call(this,e=T(e,!0));return!(this===q&&n(B,e)&&!n(V,e))&&(!(t||!n(this,e)||!n(B,e)||n(this,L)&&this[L][e])||t)},K=function getOwnPropertyDescriptor(e,t){if(e=w(e),t=T(t,!0),e!==q||!n(B,t)||n(V,t)){var r=k(e,t);return!r||!n(B,t)||n(e,L)&&e[L][t]||(r.enumerable=!0),r}},Z=function getOwnPropertyNames(e){for(var t,r=M(w(e)),i=[],o=0;r.length>o;)n(B,t=r[o++])||t==L||t==u||i.push(t);return i},ee=function getOwnPropertySymbols(e){for(var t,r=e===q,i=M(r?V:w(e)),o=[],s=0;i.length>s;)!n(B,t=i[s++])||r&&!n(q,t)||o.push(B[t]);return o};G||(a((j=function Symbol(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),$set=function(t){this===q&&$set.call(V,t),n(this,L)&&n(this[L],e)&&(this[L][e]=!1),$(this,e,_(1,t))};return o&&H&&$(q,e,{configurable:!0,set:$set}),wrap(e)}).prototype,"toString",(function toString(){return this._k})),O.f=K,I.f=z,r(69).f=S.f=Z,r(89).f=X,C.f=ee,o&&!r(65)&&a(q,"propertyIsEnumerable",X,!0),p.f=function(e){return wrap(f(e))}),s(s.G+s.W+s.F*!G,{Symbol:j});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var ie=A(f.store),ne=0;ie.length>ne;)m(ie[ne++]);s(s.S+s.F*!G,"Symbol",{for:function(e){return n(Q,e+="")?Q[e]:Q[e]=j(e)},keyFor:function keyFor(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in Q)if(Q[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!G,"Object",{create:function create(e,t){return void 0===t?x(e):Y(x(e),t)},defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var oe=l((function(){C.f(1)}));s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(e){return C.f(E(e))}}),N&&s(s.S+s.F*(!G||l((function(){var e=j();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function stringify(e){for(var t,r,i=[e],n=1;arguments.length>n;)i.push(arguments[n++]);if(r=t=i[1],(v(t)||void 0!==e)&&!J(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),i[1]=t,P.apply(N,i)}}),j.prototype[D]||r(31)(j.prototype,D,j.prototype.valueOf),h(j,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(e,t,r){e.exports=r(102)("native-function-to-string",Function.toString)},function(e,t,r){var i=r(66),n=r(104),o=r(89);e.exports=function(e){var t=i(e),r=n.f;if(r)for(var s,a=r(e),u=o.f,l=0;a.length>l;)u.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,r){var i=r(1);i(i.S,"Object",{create:r(68)})},function(e,t,r){var i=r(1);i(i.S+i.F*!r(21),"Object",{defineProperty:r(22).f})},function(e,t,r){var i=r(1);i(i.S+i.F*!r(21),"Object",{defineProperties:r(177)})},function(e,t,r){var i=r(32),n=r(44).f;r(45)("getOwnPropertyDescriptor",(function(){return function getOwnPropertyDescriptor(e,t){return n(i(e),t)}}))},function(e,t,r){var i=r(24),n=r(70);r(45)("getPrototypeOf",(function(){return function getPrototypeOf(e){return n(i(e))}}))},function(e,t,r){var i=r(24),n=r(66);r(45)("keys",(function(){return function keys(e){return n(i(e))}}))},function(e,t,r){r(45)("getOwnPropertyNames",(function(){return r(178).f}))},function(e,t,r){var i=r(12),n=r(57).onFreeze;r(45)("freeze",(function(e){return function freeze(t){return e&&i(t)?e(n(t)):t}}))},function(e,t,r){var i=r(12),n=r(57).onFreeze;r(45)("seal",(function(e){return function seal(t){return e&&i(t)?e(n(t)):t}}))},function(e,t,r){var i=r(12),n=r(57).onFreeze;r(45)("preventExtensions",(function(e){return function preventExtensions(t){return e&&i(t)?e(n(t)):t}}))},function(e,t,r){var i=r(12);r(45)("isFrozen",(function(e){return function isFrozen(t){return!i(t)||!!e&&e(t)}}))},function(e,t,r){var i=r(12);r(45)("isSealed",(function(e){return function isSealed(t){return!i(t)||!!e&&e(t)}}))},function(e,t,r){var i=r(12);r(45)("isExtensible",(function(e){return function isExtensible(t){return!!i(t)&&(!e||e(t))}}))},function(e,t,r){var i=r(1);i(i.S+i.F,"Object",{assign:r(179)})},function(e,t,r){var i=r(1);i(i.S,"Object",{is:r(180)})},function(e,t,r){var i=r(1);i(i.S,"Object",{setPrototypeOf:r(129).set})},function(e,t,r){"use strict";var i=r(90),n={};n[r(15)("toStringTag")]="z",n+""!="[object z]"&&r(28)(Object.prototype,"toString",(function toString(){return"[object "+i(this)+"]"}),!0)},function(e,t,r){var i=r(1);i(i.P,"Function",{bind:r(181)})},function(e,t,r){var i=r(22).f,n=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in n||r(21)&&i(n,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var i=r(12),n=r(70),o=r(15)("hasInstance"),s=Function.prototype;o in s||r(22).f(s,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=n(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var i=r(1),n=r(183);i(i.G+i.F*(parseInt!=n),{parseInt:n})},function(e,t,r){var i=r(1),n=r(184);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},function(e,t,r){"use strict";var i=r(9),n=r(30),o=r(51),s=r(131),a=r(56),u=r(10),l=r(69).f,c=r(44).f,h=r(22).f,d=r(81).trim,f=i.Number,p=f,m=f.prototype,g="Number"==o(r(68)(m)),y="trim"in String.prototype,toNumber=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){var r,i,n,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var s,u=t.slice(2),l=0,c=u.length;l<c;l++)if((s=u.charCodeAt(l))<48||s>n)return NaN;return parseInt(u,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function Number(e){var t=arguments.length<1?0:e,r=this;return r instanceof f&&(g?u((function(){m.valueOf.call(r)})):"Number"!=o(r))?s(new p(toNumber(t)),r,f):toNumber(t)};for(var b,v=r(21)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;v.length>E;E++)n(p,b=v[E])&&!n(f,b)&&h(f,b,c(p,b));f.prototype=m,m.constructor=f,r(28)(i,"Number",f)}},function(e,t,r){"use strict";var i=r(1),n=r(43),o=r(185),s=r(132),a=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",multiply=function(e,t){for(var r=-1,i=t;++r<6;)i+=e*l[r],l[r]=i%1e7,i=u(i/1e7)},divide=function(e){for(var t=6,r=0;--t>=0;)r+=l[t],l[t]=u(r/e),r=r%e*1e7},numToString=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var r=String(l[e]);t=""===t?r:t+s.call("0",7-r.length)+r}return t},pow=function(e,t,r){return 0===t?r:t%2==1?pow(e,t-1,r*e):pow(e*e,t/2,r)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(10)((function(){a.call({})}))),"Number",{toFixed:function toFixed(e){var t,r,i,a,u=o(this,c),l=n(e),h="",d="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(u*pow(2,69,1))-69)<0?u*pow(2,-t,1):u/pow(2,t,1),r*=4503599627370496,(t=52-t)>0){for(multiply(0,r),i=l;i>=7;)multiply(1e7,0),i-=7;for(multiply(pow(10,i,1),0),i=t-1;i>=23;)divide(1<<23),i-=23;divide(1<<i),multiply(1,1),divide(2),d=numToString()}else multiply(0,r),multiply(1<<-t,0),d=numToString()+s.call("0",l);return d=l>0?h+((a=d.length)<=l?"0."+s.call("0",l-a)+d:d.slice(0,a-l)+"."+d.slice(a-l)):h+d}})},function(e,t,r){"use strict";var i=r(1),n=r(10),o=r(185),s=1..toPrecision;i(i.P+i.F*(n((function(){return"1"!==s.call(1,void 0)}))||!n((function(){s.call({})}))),"Number",{toPrecision:function toPrecision(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},function(e,t,r){var i=r(1);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var i=r(1),n=r(9).isFinite;i(i.S,"Number",{isFinite:function isFinite(e){return"number"==typeof e&&n(e)}})},function(e,t,r){var i=r(1);i(i.S,"Number",{isInteger:r(186)})},function(e,t,r){var i=r(1);i(i.S,"Number",{isNaN:function isNaN(e){return e!=e}})},function(e,t,r){var i=r(1),n=r(186),o=Math.abs;i(i.S,"Number",{isSafeInteger:function isSafeInteger(e){return n(e)&&o(e)<=9007199254740991}})},function(e,t,r){var i=r(1);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var i=r(1);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var i=r(1),n=r(184);i(i.S+i.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(e,t,r){var i=r(1),n=r(183);i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(e,t,r){var i=r(1),n=r(187),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function acosh(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:n(e-1+o(e-1)*o(e+1))}})},function(e,t,r){var i=r(1),n=Math.asinh;i(i.S+i.F*!(n&&1/n(0)>0),"Math",{asinh:function asinh(e){return isFinite(e=+e)&&0!=e?e<0?-asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(e,t,r){var i=r(1),n=Math.atanh;i(i.S+i.F*!(n&&1/n(-0)<0),"Math",{atanh:function atanh(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var i=r(1),n=r(133);i(i.S,"Math",{cbrt:function cbrt(e){return n(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var i=r(1);i(i.S,"Math",{clz32:function clz32(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var i=r(1),n=Math.exp;i(i.S,"Math",{cosh:function cosh(e){return(n(e=+e)+n(-e))/2}})},function(e,t,r){var i=r(1),n=r(134);i(i.S+i.F*(n!=Math.expm1),"Math",{expm1:n})},function(e,t,r){var i=r(1);i(i.S,"Math",{fround:r(280)})},function(e,t,r){var i=r(133),n=Math.pow,o=n(2,-52),s=n(2,-23),a=n(2,127)*(2-s),u=n(2,-126);e.exports=Math.fround||function fround(e){var t,r,n=Math.abs(e),l=i(e);return n<u?l*(n/u/s+1/o-1/o)*u*s:(r=(t=(1+s/o)*n)-(t-n))>a||r!=r?l*(1/0):l*r}},function(e,t,r){var i=r(1),n=Math.abs;i(i.S,"Math",{hypot:function hypot(e,t){for(var r,i,o=0,s=0,a=arguments.length,u=0;s<a;)u<(r=n(arguments[s++]))?(o=o*(i=u/r)*i+1,u=r):o+=r>0?(i=r/u)*i:r;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,r){var i=r(1),n=Math.imul;i(i.S+i.F*r(10)((function(){return-5!=n(4294967295,5)||2!=n.length})),"Math",{imul:function imul(e,t){var r=+e,i=+t,n=65535&r,o=65535&i;return 0|n*o+((65535&r>>>16)*o+n*(65535&i>>>16)<<16>>>0)}})},function(e,t,r){var i=r(1);i(i.S,"Math",{log10:function log10(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var i=r(1);i(i.S,"Math",{log1p:r(187)})},function(e,t,r){var i=r(1);i(i.S,"Math",{log2:function log2(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var i=r(1);i(i.S,"Math",{sign:r(133)})},function(e,t,r){var i=r(1),n=r(134),o=Math.exp;i(i.S+i.F*r(10)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function sinh(e){return Math.abs(e=+e)<1?(n(e)-n(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,r){var i=r(1),n=r(134),o=Math.exp;i(i.S,"Math",{tanh:function tanh(e){var t=n(e=+e),r=n(-e);return t==1/0?1:r==1/0?-1:(t-r)/(o(e)+o(-e))}})},function(e,t,r){var i=r(1);i(i.S,"Math",{trunc:function trunc(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){var i=r(1),n=r(67),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function fromCodePoint(e){for(var t,r=[],i=arguments.length,s=0;i>s;){if(t=+arguments[s++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var i=r(1),n=r(32),o=r(18);i(i.S,"String",{raw:function raw(e){for(var t=n(e.raw),r=o(t.length),i=arguments.length,s=[],a=0;r>a;)s.push(String(t[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},function(e,t,r){"use strict";r(81)("trim",(function(e){return function trim(){return e(this,3)}}))},function(e,t,r){"use strict";var i=r(135)(!0);r(136)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=i(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var i=r(1),n=r(135)(!1);i(i.P,"String",{codePointAt:function codePointAt(e){return n(this,e)}})},function(e,t,r){"use strict";var i=r(1),n=r(18),o=r(137),s="".endsWith;i(i.P+i.F*r(139)("endsWith"),"String",{endsWith:function endsWith(e){var t=o(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,i=n(t.length),a=void 0===r?i:Math.min(n(r),i),u=String(e);return s?s.call(t,u,a):t.slice(a-u.length,a)===u}})},function(e,t,r){"use strict";var i=r(1),n=r(137);i(i.P+i.F*r(139)("includes"),"String",{includes:function includes(e){return!!~n(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var i=r(1);i(i.P,"String",{repeat:r(132)})},function(e,t,r){"use strict";var i=r(1),n=r(18),o=r(137),s="".startsWith;i(i.P+i.F*r(139)("startsWith"),"String",{startsWith:function startsWith(e){var t=o(this,e,"startsWith"),r=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return s?s.call(t,i,r):t.slice(r,r+i.length)===i}})},function(e,t,r){"use strict";r(29)("anchor",(function(e){return function anchor(t){return e(this,"a","name",t)}}))},function(e,t,r){"use strict";r(29)("big",(function(e){return function big(){return e(this,"big","","")}}))},function(e,t,r){"use strict";r(29)("blink",(function(e){return function blink(){return e(this,"blink","","")}}))},function(e,t,r){"use strict";r(29)("bold",(function(e){return function bold(){return e(this,"b","","")}}))},function(e,t,r){"use strict";r(29)("fixed",(function(e){return function fixed(){return e(this,"tt","","")}}))},function(e,t,r){"use strict";r(29)("fontcolor",(function(e){return function fontcolor(t){return e(this,"font","color",t)}}))},function(e,t,r){"use strict";r(29)("fontsize",(function(e){return function fontsize(t){return e(this,"font","size",t)}}))},function(e,t,r){"use strict";r(29)("italics",(function(e){return function italics(){return e(this,"i","","")}}))},function(e,t,r){"use strict";r(29)("link",(function(e){return function link(t){return e(this,"a","href",t)}}))},function(e,t,r){"use strict";r(29)("small",(function(e){return function small(){return e(this,"small","","")}}))},function(e,t,r){"use strict";r(29)("strike",(function(e){return function strike(){return e(this,"strike","","")}}))},function(e,t,r){"use strict";r(29)("sub",(function(e){return function sub(){return e(this,"sub","","")}}))},function(e,t,r){"use strict";r(29)("sup",(function(e){return function sup(){return e(this,"sup","","")}}))},function(e,t,r){var i=r(1);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var i=r(1),n=r(24),o=r(56);i(i.P+i.F*r(10)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function toJSON(e){var t=n(this),r=o(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var i=r(1),n=r(315);i(i.P+i.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,t,r){"use strict";var i=r(10),n=Date.prototype.getTime,o=Date.prototype.toISOString,lz=function(e){return e>9?e:"0"+e};e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function toISOString(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+lz(e.getUTCMonth()+1)+"-"+lz(e.getUTCDate())+"T"+lz(e.getUTCHours())+":"+lz(e.getUTCMinutes())+":"+lz(e.getUTCSeconds())+"."+(r>99?r:"0"+lz(r))+"Z"}:o},function(e,t,r){var i=Date.prototype,n=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(28)(i,"toString",(function toString(){var e=o.call(this);return e==e?n.call(this):"Invalid Date"}))},function(e,t,r){var i=r(15)("toPrimitive"),n=Date.prototype;i in n||r(31)(n,i,r(318))},function(e,t,r){"use strict";var i=r(11),n=r(56);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return n(i(this),"number"!=e)}},function(e,t,r){var i=r(1);i(i.S,"Array",{isArray:r(105)})},function(e,t,r){"use strict";var i=r(41),n=r(1),o=r(24),s=r(189),a=r(140),u=r(18),l=r(141),c=r(142);n(n.S+n.F*!r(106)((function(e){Array.from(e)})),"Array",{from:function from(e){var t,r,n,h,d=o(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,y=0,b=c(d);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),null==b||f==Array&&a(b))for(r=new f(t=u(d.length));t>y;y++)l(r,y,g?m(d[y],y):d[y]);else for(h=b.call(d),r=new f;!(n=h.next()).done;y++)l(r,y,g?s(h,m,[n.value,y],!0):n.value);return r.length=y,r}})},function(e,t,r){"use strict";var i=r(1),n=r(141);i(i.S+i.F*r(10)((function(){function F(){}return!(Array.of.call(F)instanceof F)})),"Array",{of:function of(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)n(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var i=r(1),n=r(32),o=[].join;i(i.P+i.F*(r(88)!=Object||!r(37)(o)),"Array",{join:function join(e){return o.call(n(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var i=r(1),n=r(128),o=r(51),s=r(67),a=r(18),u=[].slice;i(i.P+i.F*r(10)((function(){n&&u.call(n)})),"Array",{slice:function slice(e,t){var r=a(this.length),i=o(this);if(t=void 0===t?r:t,"Array"==i)return u.call(this,e,t);for(var n=s(e,r),l=s(t,r),c=a(l-n),h=new Array(c),d=0;d<c;d++)h[d]="String"==i?this.charAt(n+d):this[n+d];return h}})},function(e,t,r){"use strict";var i=r(1),n=r(42),o=r(24),s=r(10),a=[].sort,u=[1,2,3];i(i.P+i.F*(s((function(){u.sort(void 0)}))||!s((function(){u.sort(null)}))||!r(37)(a)),"Array",{sort:function sort(e){return void 0===e?a.call(o(this)):a.call(o(this),n(e))}})},function(e,t,r){"use strict";var i=r(1),n=r(46)(0),o=r(37)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function forEach(e){return n(this,e,arguments[1])}})},function(e,t,r){var i=r(12),n=r(105),o=r(15)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var i=r(1),n=r(46)(1);i(i.P+i.F*!r(37)([].map,!0),"Array",{map:function map(e){return n(this,e,arguments[1])}})},function(e,t,r){"use strict";var i=r(1),n=r(46)(2);i(i.P+i.F*!r(37)([].filter,!0),"Array",{filter:function filter(e){return n(this,e,arguments[1])}})},function(e,t,r){"use strict";var i=r(1),n=r(46)(3);i(i.P+i.F*!r(37)([].some,!0),"Array",{some:function some(e){return n(this,e,arguments[1])}})},function(e,t,r){"use strict";var i=r(1),n=r(46)(4);i(i.P+i.F*!r(37)([].every,!0),"Array",{every:function every(e){return n(this,e,arguments[1])}})},function(e,t,r){"use strict";var i=r(1),n=r(191);i(i.P+i.F*!r(37)([].reduce,!0),"Array",{reduce:function reduce(e){return n(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var i=r(1),n=r(191);i(i.P+i.F*!r(37)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(e){return n(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var i=r(1),n=r(103)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!r(37)(o)),"Array",{indexOf:function indexOf(e){return s?o.apply(this,arguments)||0:n(this,e,arguments[1])}})},function(e,t,r){"use strict";var i=r(1),n=r(32),o=r(43),s=r(18),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!r(37)(a)),"Array",{lastIndexOf:function lastIndexOf(e){if(u)return a.apply(this,arguments)||0;var t=n(this),r=s(t.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=r+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t,r){var i=r(1);i(i.P,"Array",{copyWithin:r(192)}),r(71)("copyWithin")},function(e,t,r){var i=r(1);i(i.P,"Array",{fill:r(143)}),r(71)("fill")},function(e,t,r){"use strict";var i=r(1),n=r(46)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function find(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(71)("find")},function(e,t,r){"use strict";var i=r(1),n=r(46)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function findIndex(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(71)(o)},function(e,t,r){r(83)("Array")},function(e,t,r){var i=r(9),n=r(131),o=r(22).f,s=r(69).f,a=r(138),u=r(107),l=i.RegExp,c=l,h=l.prototype,d=/a/g,f=/a/g,p=new l(d)!==d;if(r(21)&&(!p||r(10)((function(){return f[r(15)("match")]=!1,l(d)!=d||l(f)==f||"/a/i"!=l(d,"i")})))){l=function RegExp(e,t){var r=this instanceof l,i=a(e),o=void 0===t;return!r&&i&&e.constructor===l&&o?e:n(p?new c(i&&!o?e.source:e,t):c((i=e instanceof l)?e.source:e,i&&o?u.call(e):t),r?this:h,l)};for(var proxy=function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},m=s(c),g=0;m.length>g;)proxy(m[g++]);h.constructor=l,l.prototype=h,r(28)(i,"RegExp",l)}r(83)("RegExp")},function(e,t,r){"use strict";r(195);var i=r(11),n=r(107),o=r(21),s=/./.toString,define=function(e){r(28)(RegExp.prototype,"toString",e,!0)};r(10)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?define((function toString(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?n.call(e):void 0)})):"toString"!=s.name&&define((function toString(){return s.call(this)}))},function(e,t,r){"use strict";var i=r(11),n=r(18),o=r(146),s=r(108);r(109)("match",1,(function(e,t,r,a){return[function match(r){var i=e(this),n=null==r?void 0:r[t];return void 0!==n?n.call(r,i):new RegExp(r)[t](String(i))},function(e){var t=a(r,e,this);if(t.done)return t.value;var u=i(e),l=String(this);if(!u.global)return s(u,l);var c=u.unicode;u.lastIndex=0;for(var h,d=[],f=0;null!==(h=s(u,l));){var p=String(h[0]);d[f]=p,""===p&&(u.lastIndex=o(l,n(u.lastIndex),c)),f++}return 0===f?null:d}]}))},function(e,t,r){"use strict";var i=r(11),n=r(24),o=r(18),s=r(43),a=r(146),u=r(108),l=Math.max,c=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;r(109)("replace",2,(function(e,t,r,p){return[function replace(i,n){var o=e(this),s=null==i?void 0:i[t];return void 0!==s?s.call(i,o,n):r.call(String(o),i,n)},function(e,t){var n=p(r,e,this,t);if(n.done)return n.value;var h=i(e),d=String(this),f="function"==typeof t;f||(t=String(t));var m=h.global;if(m){var g=h.unicode;h.lastIndex=0}for(var y=[];;){var b=u(h,d);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(h.lastIndex=a(d,o(h.lastIndex),g))}for(var v,E="",w=0,T=0;T<y.length;T++){b=y[T];for(var _=String(b[0]),x=l(c(s(b.index),d.length),0),S=[],O=1;O<b.length;O++)S.push(void 0===(v=b[O])?v:String(v));var C=b.groups;if(f){var I=[_].concat(S,x,d);void 0!==C&&I.push(C);var A=String(t.apply(void 0,I))}else A=getSubstitution(_,d,x,S,C,t);x>=w&&(E+=d.slice(w,x)+A,w=x+_.length)}return E+d.slice(w)}];function getSubstitution(e,t,i,o,s,a){var u=i+e.length,l=o.length,c=f;return void 0!==s&&(s=n(s),c=d),r.call(a,c,(function(r,n){var a;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(u);case"<":a=s[n.slice(1,-1)];break;default:var c=+n;if(0===c)return r;if(c>l){var d=h(c/10);return 0===d?r:d<=l?void 0===o[d-1]?n.charAt(1):o[d-1]+n.charAt(1):r}a=o[c-1]}return void 0===a?"":a}))}}))},function(e,t,r){"use strict";var i=r(11),n=r(180),o=r(108);r(109)("search",1,(function(e,t,r,s){return[function search(r){var i=e(this),n=null==r?void 0:r[t];return void 0!==n?n.call(r,i):new RegExp(r)[t](String(i))},function(e){var t=s(r,e,this);if(t.done)return t.value;var a=i(e),u=String(this),l=a.lastIndex;n(l,0)||(a.lastIndex=0);var c=o(a,u);return n(a.lastIndex,l)||(a.lastIndex=l),null===c?-1:c.index}]}))},function(e,t,r){"use strict";var i=r(138),n=r(11),o=r(91),s=r(146),a=r(18),u=r(108),l=r(145),c=r(10),h=Math.min,d=[].push,f="length",p=!c((function(){RegExp(4294967295,"y")}));r(109)("split",2,(function(e,t,r,c){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[f]||2!="ab".split(/(?:ab)*/)[f]||4!=".".split(/(.?)(.?)/)[f]||".".split(/()()/)[f]>1||"".split(/.?/)[f]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return r.call(n,e,t);for(var o,s,a,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,p=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,c+"g");(o=l.call(m,n))&&!((s=m.lastIndex)>h&&(u.push(n.slice(h,o.index)),o[f]>1&&o.index<n[f]&&d.apply(u,o.slice(1)),a=o[0][f],h=s,u[f]>=p));)m.lastIndex===o.index&&m.lastIndex++;return h===n[f]?!a&&m.test("")||u.push(""):u.push(n.slice(h)),u[f]>p?u.slice(0,p):u}:"0".split(void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function split(r,i){var n=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,n,i):m.call(String(n),r,i)},function(e,t){var i=c(m,e,this,t,m!==r);if(i.done)return i.value;var l=n(e),d=String(this),f=o(l,RegExp),g=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),b=new f(p?l:"^(?:"+l.source+")",y),v=void 0===t?4294967295:t>>>0;if(0===v)return[];if(0===d.length)return null===u(b,d)?[d]:[];for(var E=0,w=0,T=[];w<d.length;){b.lastIndex=p?w:0;var _,x=u(b,p?d:d.slice(w));if(null===x||(_=h(a(b.lastIndex+(p?0:w)),d.length))===E)w=s(d,w,g);else{if(T.push(d.slice(E,w)),T.length===v)return T;for(var S=1;S<=x.length-1;S++)if(T.push(x[S]),T.length===v)return T;w=E=_}}return T.push(d.slice(E)),T}]}))},function(e,t,r){var i=r(9),n=r(147).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==r(51)(s);e.exports=function(){var e,t,r,flush=function(){var i,n;for(u&&(i=s.domain)&&i.exit();e;){n=e.fn,e=e.next;try{n()}catch(i){throw e?r():t=void 0,i}}t=void 0,i&&i.enter()};if(u)r=function(){s.nextTick(flush)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);r=function(){l.then(flush)}}else r=function(){n.call(i,flush)};else{var c=!0,h=document.createTextNode("");new o(flush).observe(h,{characterData:!0}),r=function(){h.data=c=!c}}return function(i){var n={fn:i,next:void 0};t&&(t.next=n),e||(e=n,r()),t=n}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){"use strict";var i=r(199),n=r(72);e.exports=r(112)("Map",(function(e){return function Map(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function get(e){var t=i.getEntry(n(this,"Map"),e);return t&&t.v},set:function set(e,t){return i.def(n(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,r){"use strict";var i=r(199),n=r(72);e.exports=r(112)("Set",(function(e){return function Set(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function add(e){return i.def(n(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,r){"use strict";var i,n=r(9),o=r(46)(0),s=r(28),a=r(57),u=r(179),l=r(200),c=r(12),h=r(72),d=r(72),f=!n.ActiveXObject&&"ActiveXObject"in n,p=a.getWeak,m=Object.isExtensible,g=l.ufstore,wrapper=function(e){return function WeakMap(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function get(e){if(c(e)){var t=p(e);return!0===t?g(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function set(e,t){return l.def(h(this,"WeakMap"),e,t)}},b=e.exports=r(112)("WeakMap",wrapper,y,l,!0,!0);d&&f&&(u((i=l.getConstructor(wrapper,"WeakMap")).prototype,y),a.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,r=t[e];s(t,e,(function(t,n){if(c(t)&&!m(t)){this._f||(this._f=new i);var o=this._f[e](t,n);return"set"==e?this:o}return r.call(this,t,n)}))})))},function(e,t,r){"use strict";var i=r(200),n=r(72);r(112)("WeakSet",(function(e){return function WeakSet(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function add(e){return i.def(n(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,r){"use strict";var i=r(1),n=r(113),o=r(148),s=r(11),a=r(67),u=r(18),l=r(12),c=r(9).ArrayBuffer,h=r(91),d=o.ArrayBuffer,f=o.DataView,p=n.ABV&&c.isView,m=d.prototype.slice,g=n.VIEW;i(i.G+i.W+i.F*(c!==d),{ArrayBuffer:d}),i(i.S+i.F*!n.CONSTR,"ArrayBuffer",{isView:function isView(e){return p&&p(e)||l(e)&&g in e}}),i(i.P+i.U+i.F*r(10)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function slice(e,t){if(void 0!==m&&void 0===t)return m.call(s(this),e);for(var r=s(this).byteLength,i=a(e,r),n=a(void 0===t?r:t,r),o=new(h(this,d))(u(n-i)),l=new f(this),c=new f(o),p=0;i<n;)c.setUint8(p++,l.getUint8(i++));return o}}),r(83)("ArrayBuffer")},function(e,t,r){var i=r(1);i(i.G+i.W+i.F*!r(113).ABV,{DataView:r(148).DataView})},function(e,t,r){r(53)("Int8",1,(function(e){return function Int8Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Uint8",1,(function(e){return function Uint8Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Uint8",1,(function(e){return function Uint8ClampedArray(t,r,i){return e(this,t,r,i)}}),!0)},function(e,t,r){r(53)("Int16",2,(function(e){return function Int16Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Uint16",2,(function(e){return function Uint16Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Int32",4,(function(e){return function Int32Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Uint32",4,(function(e){return function Uint32Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Float32",4,(function(e){return function Float32Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){r(53)("Float64",8,(function(e){return function Float64Array(t,r,i){return e(this,t,r,i)}}))},function(e,t,r){var i=r(1),n=r(42),o=r(11),s=(r(9).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!r(10)((function(){s((function(){}))})),"Reflect",{apply:function apply(e,t,r){var i=n(e),u=o(r);return s?s(i,t,u):a.call(i,t,u)}})},function(e,t,r){var i=r(1),n=r(68),o=r(42),s=r(11),a=r(12),u=r(10),l=r(181),c=(r(9).Reflect||{}).construct,h=u((function(){function F(){}return!(c((function(){}),[],F)instanceof F)})),d=!u((function(){c((function(){}))}));i(i.S+i.F*(h||d),"Reflect",{construct:function construct(e,t){o(e),s(t);var r=arguments.length<3?e:o(arguments[2]);if(d&&!h)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(l.apply(e,i))}var u=r.prototype,f=n(a(u)?u:Object.prototype),p=Function.apply.call(e,f,t);return a(p)?p:f}})},function(e,t,r){var i=r(22),n=r(1),o=r(11),s=r(56);n(n.S+n.F*r(10)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function defineProperty(e,t,r){o(e),t=s(t,!0),o(r);try{return i.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var i=r(1),n=r(44).f,o=r(11);i(i.S,"Reflect",{deleteProperty:function deleteProperty(e,t){var r=n(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var i=r(1),n=r(11),Enumerate=function(e){this._t=n(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(188)(Enumerate,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),i(i.S,"Reflect",{enumerate:function enumerate(e){return new Enumerate(e)}})},function(e,t,r){var i=r(44),n=r(70),o=r(30),s=r(1),a=r(12),u=r(11);s(s.S,"Reflect",{get:function get(e,t){var r,s,l=arguments.length<3?e:arguments[2];return u(e)===l?e[t]:(r=i.f(e,t))?o(r,"value")?r.value:void 0!==r.get?r.get.call(l):void 0:a(s=n(e))?get(s,t,l):void 0}})},function(e,t,r){var i=r(44),n=r(1),o=r(11);n(n.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return i.f(o(e),t)}})},function(e,t,r){var i=r(1),n=r(70),o=r(11);i(i.S,"Reflect",{getPrototypeOf:function getPrototypeOf(e){return n(o(e))}})},function(e,t,r){var i=r(1);i(i.S,"Reflect",{has:function has(e,t){return t in e}})},function(e,t,r){var i=r(1),n=r(11),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function isExtensible(e){return n(e),!o||o(e)}})},function(e,t,r){var i=r(1);i(i.S,"Reflect",{ownKeys:r(202)})},function(e,t,r){var i=r(1),n=r(11),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function preventExtensions(e){n(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,r){var i=r(22),n=r(44),o=r(70),s=r(30),a=r(1),u=r(63),l=r(11),c=r(12);a(a.S,"Reflect",{set:function set(e,t,r){var a,h,d=arguments.length<4?e:arguments[3],f=n.f(l(e),t);if(!f){if(c(h=o(e)))return set(h,t,r,d);f=u(0)}if(s(f,"value")){if(!1===f.writable||!c(d))return!1;if(a=n.f(d,t)){if(a.get||a.set||!1===a.writable)return!1;a.value=r,i.f(d,t,a)}else i.f(d,t,u(0,r));return!0}return void 0!==f.set&&(f.set.call(d,r),!0)}})},function(e,t,r){var i=r(1),n=r(129);n&&i(i.S,"Reflect",{setPrototypeOf:function setPrototypeOf(e,t){n.check(e,t);try{return n.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){r(378),e.exports=r(20).Array.includes},function(e,t,r){"use strict";var i=r(1),n=r(103)(!0);i(i.P,"Array",{includes:function includes(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(71)("includes")},function(e,t,r){r(380),e.exports=r(20).Array.flatMap},function(e,t,r){"use strict";var i=r(1),n=r(381),o=r(24),s=r(18),a=r(42),u=r(190);i(i.P,"Array",{flatMap:function flatMap(e){var t,r,i=o(this);return a(e),t=s(i.length),r=u(i,0),n(r,i,i,t,0,1,e,arguments[1]),r}}),r(71)("flatMap")},function(e,t,r){"use strict";var i=r(105),n=r(12),o=r(18),s=r(41),a=r(15)("isConcatSpreadable");e.exports=function flattenIntoArray(e,t,r,u,l,c,h,d){for(var f,p,m=l,g=0,y=!!h&&s(h,d,3);g<u;){if(g in r){if(f=y?y(r[g],g,t):r[g],p=!1,n(f)&&(p=void 0!==(p=f[a])?!!p:i(f)),p&&c>0)m=flattenIntoArray(e,t,f,o(f.length),m,c-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=f}m++}g++}return m}},function(e,t,r){r(383),e.exports=r(20).String.padStart},function(e,t,r){"use strict";var i=r(1),n=r(203),o=r(111),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function padStart(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){r(385),e.exports=r(20).String.padEnd},function(e,t,r){"use strict";var i=r(1),n=r(203),o=r(111),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function padEnd(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){r(387),e.exports=r(20).String.trimLeft},function(e,t,r){"use strict";r(81)("trimLeft",(function(e){return function trimLeft(){return e(this,1)}}),"trimStart")},function(e,t,r){r(389),e.exports=r(20).String.trimRight},function(e,t,r){"use strict";r(81)("trimRight",(function(e){return function trimRight(){return e(this,2)}}),"trimEnd")},function(e,t,r){r(391),e.exports=r(125).f("asyncIterator")},function(e,t,r){r(175)("asyncIterator")},function(e,t,r){r(393),e.exports=r(20).Object.getOwnPropertyDescriptors},function(e,t,r){var i=r(1),n=r(202),o=r(32),s=r(44),a=r(141);i(i.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,r,i=o(e),u=s.f,l=n(i),c={},h=0;l.length>h;)void 0!==(r=u(i,t=l[h++]))&&a(c,t,r);return c}})},function(e,t,r){r(395),e.exports=r(20).Object.values},function(e,t,r){var i=r(1),n=r(204)(!1);i(i.S,"Object",{values:function values(e){return n(e)}})},function(e,t,r){r(397),e.exports=r(20).Object.entries},function(e,t,r){var i=r(1),n=r(204)(!0);i(i.S,"Object",{entries:function entries(e){return n(e)}})},function(e,t,r){"use strict";r(196),r(399),e.exports=r(20).Promise.finally},function(e,t,r){"use strict";var i=r(1),n=r(20),o=r(9),s=r(91),a=r(198);i(i.P+i.R,"Promise",{finally:function(e){var t=s(this,n.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return a(t,e()).then((function(){return r}))}:e,r?function(r){return a(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){r(401),r(402),r(403),e.exports=r(20)},function(e,t,r){var i=r(9),n=r(1),o=r(111),s=[].slice,a=/MSIE .\./.test(o),wrap=function(e){return function(t,r){var i=arguments.length>2,n=!!i&&s.call(arguments,2);return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,r)}};n(n.G+n.B+n.F*a,{setTimeout:wrap(i.setTimeout),setInterval:wrap(i.setInterval)})},function(e,t,r){var i=r(1),n=r(147);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,t,r){for(var i=r(144),n=r(66),o=r(28),s=r(9),a=r(31),u=r(82),l=r(15),c=l("iterator"),h=l("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(f),m=0;m<p.length;m++){var g,y=p[m],b=f[y],v=s[y],E=v&&v.prototype;if(E&&(E[c]||a(E,c,d),E[h]||a(E,h,y),u[y]=d,b))for(g in i)E[g]||o(E,g,i[g],!0)}},function(e,t,r){var i=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function(e,t,r){return e[t]=r}}function wrap(e,t,r,i){var n=t&&t.prototype instanceof Generator?t:Generator,o=Object.create(n.prototype),s=new Context(i||[]);return o._invoke=function makeInvokeMethod(e,t,r){var i="suspendedStart";return function invoke(n,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw o;return doneResult()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var u=maybeInvokeDelegate(s,r);if(u){if(u===a)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===a)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(e,r,s),o}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var u={};define(u,n,(function(){return this}));var l=Object.getPrototypeOf,c=l&&l(l(values([])));c&&c!==t&&r.call(c,n)&&(u=c);var h=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(u);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){var i;this._invoke=function enqueue(n,o){function callInvokeWithMethodAndArg(){return new t((function(i,s){!function invoke(i,n,o,s){var a=tryCatch(e[i],e,n);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,o,s)}),(function(e){invoke("throw",e,o,s)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return invoke("throw",e,o,s)}))}s(a.arg)}(n,o,i,s)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return a;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return a}var i=tryCatch(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,a;var n=i.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,a):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,a)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function next(){for(;++i<e.length;)if(r.call(e,i))return next.value=e[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(h,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,o,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new AsyncIterator(wrap(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},defineIteratorMethods(h),define(h,s,"Generator"),define(h,n,(function(){return this})),define(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function handle(r,i){return o.type="throw",o.arg=e,t.next=r,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],o=n.completion;if("root"===n.tryLoc)return handle("end");if(n.tryLoc<=this.prev){var s=r.call(n,"catchLoc"),a=r.call(n,"finallyLoc");if(s&&a){if(this.prev<n.catchLoc)return handle(n.catchLoc,!0);if(this.prev<n.finallyLoc)return handle(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return handle(n.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return handle(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,a):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),a},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),a}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;resetTryEntry(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),a}},e}(e.exports);try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t,r){r(406),e.exports=r(205).global},function(e,t,r){var i=r(407);i(i.G,{global:r(149)})},function(e,t,r){var i=r(149),n=r(205),o=r(408),s=r(410),a=r(417),$export=function(e,t,r){var u,l,c,h=e&$export.F,d=e&$export.G,f=e&$export.S,p=e&$export.P,m=e&$export.B,g=e&$export.W,y=d?n:n[t]||(n[t]={}),b=y.prototype,v=d?i:f?i[t]:(i[t]||{}).prototype;for(u in d&&(r=t),r)(l=!h&&v&&void 0!==v[u])&&a(y,u)||(c=l?v[u]:r[u],y[u]=d&&"function"!=typeof v[u]?r[u]:m&&l?o(c,i):g&&v[u]==c?function(e){var F=function(t,r,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,i)}return e.apply(this,arguments)};return F.prototype=e.prototype,F}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((y.virtual||(y.virtual={}))[u]=c,e&$export.R&&b&&!b[u]&&s(b,u,c)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,e.exports=$export},function(e,t,r){var i=r(409);e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var i=r(411),n=r(416);e.exports=r(151)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var i=r(412),n=r(413),o=r(415),s=Object.defineProperty;t.f=r(151)?Object.defineProperty:function defineProperty(e,t,r){if(i(e),t=o(t,!0),i(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var i=r(150);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(151)&&!r(206)((function(){return 7!=Object.defineProperty(r(414)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var i=r(150),n=r(149).document,o=i(n)&&i(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){var i=r(150);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){!function(e){!function(t){var r="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function readBlobAsArrayBuffer(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsArrayBuffer(e),r}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&n&&function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return function readBlobAsText(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Headers.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),iteratorFor(e)},i&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(e,t){var r=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=function normalizeMethod(e){var t=e.toUpperCase();return l.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function decode(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}})),t}function Response(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function fetch(e,r){return new Promise((function(i,o){var s=new Request(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function abortXhr(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new Headers,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new Response(n,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",abortXhr),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",abortXhr)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}fetch.polyfill=!0,e.fetch||(e.fetch=fetch,e.Headers=Headers,e.Request=Request,e.Response=Response),t.Headers=Headers,t.Request=Request,t.Response=Response,t.fetch=fetch}({})}("undefined"!=typeof self?self:this)},function(e){e.exports=JSON.parse('{"formVersion":"3.14","allowBetaFeature":false,"arcgisJsApi3Url":"https://js.arcgis.com/3.39/init.js","arcgisJsApiUrl":"https://js.arcgis.com/4.22/init.js","shareRoutePath":"share","itemTypeQueryString":"((type:Form AND (typekeywords:xForm OR typekeywords:Form)) OR (type:\'Code Sample\' AND typekeywords:XForms AND tags:\'xform\'))","ownedSurveyQueryString":"(owner:${username} AND ((type:Form AND (typekeywords:xForm OR typekeywords:Form)) OR (type:\'Code Sample\' AND typekeywords:XForms AND tags:\'xform\')))","sharedSurveyQueryString":"(type:\'Feature Service\' AND typekeywords:\'View Service\' AND typekeywords:StakeholderView AND (NOT owner:${username}) AND (access:shared OR access:org OR (access:public AND orgid:${orgId})) NOT group:(${updateGroupIds}))","coownerQueryString":"(type:Form AND (typekeywords:xForm OR typekeywords:Form) AND group:(${updateGroupIds}) NOT owner:${username})","sharedSurveyQueryStringForPortalNotSupportViews":"(((type:Form AND (typekeywords:xForm OR typekeywords:Form)) OR (type:\'Code Sample\' AND typekeywords:XForms AND tags:\'xform\')) NOT owner:${username} NOT group:(${updateGroupIds}))","allSurveyQueryStringForPortalNotSupportViews":"(((type:Form AND (typekeywords:xForm OR typekeywords:Form)) OR (type:\'Code Sample\' AND typekeywords:XForms AND tags:\'xform\')))","defaultFields":[],"formItem":{"type":"Form","typeKeywords":["Survey123","Survey123 Hub","Form","Draft"]},"viewFeatureService":{"fieldworker":{"name":"fieldworker","typeKeyword":"FieldworkerView"},"stakeholder":{"name":"stakeholder","typeKeyword":"StakeholderView"}},"customPrintingItem":{"typeKeyword":"Print Template","type":"Microsoft Word"},"webMapItem":{"typeKeyword":"Web Map","type":"Web Map"},"reportMergeCommonConfig":{"templateItem":{"typeKeyword":"Print Template","type":"Microsoft Word","typeKeywords":{"survey123":"Survey123","survey123Hub":"Survey123 Hub","printTemplate":"Print Template","featureReportTemplate":"Feature Report Template","formPrefix":"FormId_"},"tags":["Survey123","Print Template","Feature Report Template"]},"reportItem":{"typeKeywords":{"survey123":"Survey123","survey123Hub":"Survey123 Hub","featureReport":"Feature Report","templatePrefix":"TemplateId_","formPrefix":"FormId_"},"tags":["Survey123","Feature Report"],"type":{"docx":"Microsoft Word","zip":"Code Sample","pdf":"PDF"}},"maxPackageSize":536871000,"maxMergeSize":536871000,"maxFeatureCount":1000,"creditPerReport":0.5,"jobSucceededThreshold":0.8,"s3FileRetentionTime":86400000},"awsConfig":{"s3Auth":{"accessKeyId":"replace with your key","secretAccessKey":"replace with your key"},"dynamoDbAuth":{"accessKeyId":"replace with your key","secretAccessKey":"replace with your key","region":"us-east-1"}},"supportLangs":["ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw"],"supportSubLocales":["en-US","en-GB","en-AU","en-CA","es-ES","es-MX","it-CH","de-CH","fr-CH"],"supportDocLocale":{"esriCom":["ar-sa","de-de","en-us","es-es","fr-fr","it-it","ja-jp","ko-kr","pl-pl","pt-br","ru-ru","zh-cn"],"arcgisDoc":["en","de","es","fr","ja","ru","zh-cn","ar","it","ko","pl","pt-br"],"arcgisEnterprise":["en","de","es","fr","ja","ru","zh-cn"]},"portalUrl":"https://www.arcgis.com","clientId":"survey123hub","apiServerUrl":"/api","featureReportApiServerUrl":"/api/featureReport","survey123HubUrl":"https://survey123.arcgis.com","survey123WebformUrl":"/share","apiGatewayUrl":"/api","survey123Env":{"currentEnv":"auto","local":{"portalUrl":"https://www.arcgis.com","clientId":"survey123hub","apiServerUrl":"https://{{hostname}}:5443/api","featureReportApiServerUrl":"https://{{hostname}}:6443","survey123HubUrl":"https://{{hostname}}:3443","survey123WebformUrl":"https://{{hostname}}:8443","apiGatewayUrl":"https://{{hostname}}:5443/api","allowBetaFeature":true},"portal":{"portalUrl":"https://www.arcgis.com","clientId":"survey123hub","apiServerUrl":"https://survey123.arcgis.com/api","featureReportApiServerUrl":"https://survey123.arcgis.com/api","survey123HubUrl":"https://survey123.arcgis.com","survey123WebformUrl":"https://survey123.arcgis.com/share","apiGatewayUrl":"/api"},"devext":{"portalUrl":"https://devext.arcgis.com","clientId":"survey123hub","apiServerUrl":"https://survey123dev.arcgis.com/api","featureReportApiServerUrl":"https://survey123dev.arcgis.com/api","survey123HubUrl":"https://survey123dev.arcgis.com","survey123WebformUrl":"https://survey123dev.arcgis.com/share","apiGatewayUrl":"/api"},"qaext":{"portalUrl":"https://qaext.arcgis.com","clientId":"survey123hub","apiServerUrl":"https://survey123qa.arcgis.com/api","featureReportApiServerUrl":"https://survey123qa.arcgis.com/api","survey123HubUrl":"https://survey123qa.arcgis.com","survey123WebformUrl":"https://survey123qa.arcgis.com/share","apiGatewayUrl":"/api"},"beta":{"portalUrl":"https://www.arcgis.com","clientId":"survey123hub","apiServerUrl":"https://survey123beta.arcgis.com/api","featureReportApiServerUrl":"https://survey123beta.arcgis.com/api","survey123HubUrl":"https://survey123beta.arcgis.com","survey123WebformUrl":"https://survey123beta.arcgis.com/share","apiGatewayUrl":"https://7vdv5i8a49.execute-api.us-east-1.amazonaws.com/qa"},"prod":{"portalUrl":"https://www.arcgis.com","clientId":"survey123hub","apiServerUrl":"https://survey123.arcgis.com/api","featureReportApiServerUrl":"https://survey123.arcgis.com/api","survey123HubUrl":"https://survey123.arcgis.com","survey123WebformUrl":"https://survey123.arcgis.com/share","apiGatewayUrl":"/api"}},"webhookConfig":{"outputFolderPath":"","domainWhiteLists":["arcgis.com","esri.com","chrome-extension://"]},"pythonPath":"","cacheConfig":{"local":{"s3":"survey123-webapp-cache-local"},"dev":{"s3":"survey123-viewer-dev"},"qa":{"s3":"survey123-viewer-qa"},"beta":{"s3":"survey123-viewer-beta"},"prod":{"s3":"survey123-viewer-production"}},"survey123hubTokenExpirationInMinutes":720,"survey123WebformTokenExpirationInMinutes":20160,"survey123HubLoginMethod":"redirect"}')},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){var i=r(422),n=r(215),o=e.exports;for(var s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);function validateParams(e){if("string"==typeof e&&(e=n.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=validateParams(e),i.request.call(this,e,t)},o.get=function(e,t){return e=validateParams(e),i.get.call(this,e,t)}},function(e,t,r){(function(e){var i=r(423),n=r(209),o=r(434),s=r(435),a=r(215),u=t;u.request=function(t,r){t="string"==typeof t?a.parse(t):o(t);var n=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||n,u=t.hostname||t.host,l=t.port,c=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(l?":"+l:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new i(t);return r&&h.on("response",r),h},u.get=function get(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=i,u.IncomingMessage=n.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(38))},function(e,t,r){(function(t,i,n){var o=r(208),s=r(61),a=r(209),u=r(168),l=r(433),c=a.IncomingMessage,h=a.readyStates;var d=e.exports=function(e){var r,i=this;u.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){i.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)n=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}i._mode=function decideMode(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(r,n),i._fetchTimer=null,i.on("finish",(function(){i._onFinish()}))};s(d,u.Writable),d.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===f.indexOf(r)&&(this._headers[r]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,s=e._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=o.arraybuffer?l(t.concat(e._body)):o.blobConstructor?new i.Blob(e._body.map((function(e){return l(e)})),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach((function(e){u.push([t,e])})):u.push([t,r])})),"fetch"===e._mode){var c=null;if(o.abortController){var d=new AbortController;c=d.signal,e._fetchAbortController=d,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=i.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}i.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){i.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new i.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(f.timeout=r.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(a)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}}}},d.prototype._onXHRProgress=function(){(function statusValid(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,r){this._body.push(e),r()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,i.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(92).Buffer,r(38),r(73))},function(e,t,r){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function toByteArray(e){var t,r,i=getLens(e),s=i[0],a=i[1],u=new o(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function fromByteArray(e){for(var t,r=e.length,n=r%3,o=[],s=0,a=r-n;s<a;s+=16383)o.push(encodeChunk(e,s,s+16383>a?a:s+16383));1===n?(t=e[r-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk(e,t,r){for(var n,o,s=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(o=n)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=r?n-1:0,d=r?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=l}return(f?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,r,i,n,o){var s,a,u,l=8*o-n-1,c=(1<<l)-1,h=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,n),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;e[r+f]=255&a,f+=p,a/=256,n-=8);for(s=s<<n|a,l+=n;l>0;e[r+f]=255&s,f+=p,s/=256,l-=8);e[r+f-p]|=128*m}},function(e,t){},function(e,t,r){"use strict";var i=r(115).Buffer,n=r(428);e.exports=function(){function BufferList(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function push(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function unshift(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function shift(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function clear(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function join(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},BufferList.prototype.concat=function concat(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,r,n,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,n=a,t.copy(r,n),a+=s.data.length,s=s.next;return o},BufferList}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new Timeout(n.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(n.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function onTimeout(){e._onTimeout&&e._onTimeout()}),t))},r(430),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(38))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var i,n=1,o={},s=!1,a=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){i=function(e){t.nextTick((function(){runIfPresent(e)}))}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},i=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function installReadyStateChangeImplementation(){var e=a.documentElement;i=function(t){var r=a.createElement("script");r.onreadystatechange=function(){runIfPresent(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function installSetTimeoutImplementation(){i=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",onGlobalMessage=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&runIfPresent(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",onGlobalMessage,!1):e.attachEvent("onmessage",onGlobalMessage),i=function(r){e.postMessage(t+r,"*")}}(),u.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return o[n]=s,i(n),n++},u.clearImmediate=clearImmediate}function clearImmediate(e){delete o[e]}function runIfPresent(e){if(s)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){s=!0;try{!function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{clearImmediate(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(38),r(73))},function(e,t,r){(function(t){function config(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function deprecate(e,t){if(config("noDeprecation"))return e;var r=!1;return function deprecated(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,r(38))},function(e,t,r){"use strict";e.exports=PassThrough;var i=r(214),n=Object.create(r(93));function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);i.call(this,e)}n.inherits=r(61),n.inherits(PassThrough,i),PassThrough.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var i=r(92).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(i.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function extend(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var n in i)r.call(i,n)&&(e[n]=i[n])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,i){var n;!function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,l=/^xn--/,c=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function error(e){throw new RangeError(d[e])}function map(e,t){for(var r=e.length,i=[];r--;)i[r]=t(e[r]);return i}function mapDomain(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+map((e=e.replace(h,".")).split("."),t).join(".")}function ucs2decode(e){for(var t,r,i=[],n=0,o=e.length;n<o;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o?56320==(64512&(r=e.charCodeAt(n++)))?i.push(((1023&t)<<10)+(1023&r)+65536):(i.push(t),n--):i.push(t);return i}function ucs2encode(e){return map(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,r){var i=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function decode(e){var t,r,i,n,o,s,a,l,c,h,d,p=[],m=e.length,g=0,y=128,b=72;for((r=e.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)e.charCodeAt(i)>=128&&error("not-basic"),p.push(e.charCodeAt(i));for(n=r>0?r+1:0;n<m;){for(o=g,s=1,a=36;n>=m&&error("invalid-input"),((l=(d=e.charCodeAt(n++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||l>f((u-g)/s))&&error("overflow"),g+=l*s,!(l<(c=a<=b?1:a>=b+26?26:a-b));a+=36)s>f(u/(h=36-c))&&error("overflow"),s*=h;b=adapt(g-o,t=p.length+1,0==o),f(g/t)>u-y&&error("overflow"),y+=f(g/t),g%=t,p.splice(g++,0,y)}return ucs2encode(p)}function encode(e){var t,r,i,n,o,s,a,l,c,h,d,m,g,y,b,v=[];for(m=(e=ucs2decode(e)).length,t=128,r=0,o=72,s=0;s<m;++s)(d=e[s])<128&&v.push(p(d));for(i=n=v.length,n&&v.push("-");i<m;){for(a=u,s=0;s<m;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>f((u-r)/(g=i+1))&&error("overflow"),r+=(a-t)*g,t=a,s=0;s<m;++s)if((d=e[s])<t&&++r>u&&error("overflow"),d==t){for(l=r,c=36;!(l<(h=c<=o?1:c>=o+26?26:c-o));c+=36)b=l-h,y=36-h,v.push(p(digitToBasic(h+b%y,0))),l=f(b/y);v.push(p(digitToBasic(l,0))),o=adapt(r,g,i==n),r=0,++i}++r,++t}return v.join("")}a={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(e){return mapDomain(e,(function(e){return c.test(e)?"xn--"+encode(e):e}))},toUnicode:function toUnicode(e){return mapDomain(e,(function(e){return l.test(e)?decode(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r(437)(e),r(38))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(440),t.encode=t.stringify=r(441)},function(e,t,r){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,n){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var l=0;l<u;++l){var c,h,d,f,p=e[l].replace(s,"%20"),m=p.indexOf(r);m>=0?(c=p.substr(0,m),h=p.substr(m+1)):(c=p,h=""),d=decodeURIComponent(c),f=decodeURIComponent(h),hasOwnProperty(o,d)?i(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?map(n(e),(function(n){var o=encodeURIComponent(stringifyPrimitive(n))+r;return i(e[n])?map(e[n],(function(e){return o+encodeURIComponent(stringifyPrimitive(e))})).join(t):o+encodeURIComponent(stringifyPrimitive(e[n]))})).join(t):o?encodeURIComponent(stringifyPrimitive(o))+r+encodeURIComponent(stringifyPrimitive(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i],i));return r}var n=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){var i=r(217),n=r(443);r(218);function isNull(e){return null==e}function FilterCSS(e){(e=function shallowCopyObject(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||i.safeAttrValue,this.options=e}FilterCSS.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onAttr,o=t.onIgnoreAttr,s=t.safeAttrValue;return n(e,(function(e,t,n,a,u){var l=r[n],c=!1;if(!0===l?c=l:"function"==typeof l?c=l(a):l instanceof RegExp&&(c=l.test(a)),!0!==c&&(c=!1),a=s(n,a)){var h,d={position:t,sourcePosition:e,source:u,isWhite:c};return c?isNull(h=i(n,a,d))?n+":"+a:h:isNull(h=o(n,a,d))?void 0:h}}))},e.exports=FilterCSS},function(e,t,r){var i=r(218);e.exports=function parseStyle(e,t){";"!==(e=i.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,o=0,s=0,a="";function addNewAttr(){if(!n){var r=i.trim(e.slice(o,s)),u=r.indexOf(":");if(-1!==u){var l=i.trim(r.slice(0,u)),c=i.trim(r.slice(u+1));if(l){var h=t(o,a.length,l,c,r);h&&(a+=h+"; ")}}}o=s+1}for(;s<r;s++){var u=e[s];if("/"===u&&"*"===e[s+1]){var l=e.indexOf("*/",s+2);if(-1===l)break;o=(s=l+1)+1,n=!1}else"("===u?n=!0:")"===u?n=!1:";"===u?n||addNewAttr():"\n"===u&&addNewAttr()}return i.trim(a)}},function(e,t,r){var i=r(152).FilterCSS,n=r(216),o=r(219),s=o.parseTag,a=o.parseAttr,u=r(153);function isNull(e){return null==e}function FilterXSS(e){(e=function shallowCopyObject(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=n.onIgnoreTagStripAll),e.whiteList=e.whiteList||n.whiteList,e.onTag=e.onTag||n.onTag,e.onTagAttr=e.onTagAttr||n.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||n.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||n.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,e.escapeHtml=e.escapeHtml||n.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new i(e.css))}FilterXSS.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,o=t.onIgnoreTag,l=t.onTagAttr,c=t.onIgnoreTagAttr,h=t.safeAttrValue,d=t.escapeHtml,f=this.cssFilter;t.stripBlankChar&&(e=n.stripBlankChar(e)),t.allowCommentTag||(e=n.stripCommentTag(e));var p=!1;if(t.stripIgnoreTagBody){p=n.StripTagBody(t.stripIgnoreTagBody,o);o=p.onIgnoreTag}var m=s(e,(function(e,t,n,s,p){var m,g={sourcePosition:e,position:t,isClosing:p,isWhite:r.hasOwnProperty(n)};if(!isNull(m=i(n,s,g)))return m;if(g.isWhite){if(g.isClosing)return"</"+n+">";var y=function getAttrs(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=u.trim(e.slice(0,-1))),{html:e,closing:r}}(s),b=r[n],v=a(y.html,(function(e,t){var r,i=-1!==u.indexOf(b,e);return isNull(r=l(n,e,t,i))?i?(t=h(n,e,t,f))?e+'="'+t+'"':e:isNull(r=c(n,e,t,i))?void 0:r:r}));s="<"+n;return v&&(s+=" "+v),y.closing&&(s+=" /"),s+=">"}return isNull(m=o(n,s,g))?d(s):m}),d);return p&&(m=p.remove(m)),m},e.exports=FilterXSS},function(e,t,r){"use strict";r.r(t);var i={};r.r(i),r.d(i,"Survey123WebForm",(function(){return survey123_webform_Survey123WebForm})),r.d(i,"modeWhitelists",(function(){return c})),r.d(i,"modeWithGlobalIdWhitelists",(function(){return h})),r.d(i,"Survey123WebFormOptions",(function(){return survey123_webform_options_Survey123WebFormOptions})),r.d(i,"createSurvey",(function(){return createSurvey})),r.d(i,"embedWebsite",(function(){return embedWebsite})),r.d(i,"searchSurvey",(function(){return searchSurvey})),r.d(i,"getForm",(function(){return getForm})),r.d(i,"isWebTierPortal",(function(){return is_webtier_portal_isWebTierPortal})),r.d(i,"setCommonParams",(function(){return setCommonParams})),r.d(i,"getCommonParams",(function(){return getCommonParams})),r.d(i,"_commonParams",(function(){return y}));var n=r(157),o=r(164),s=r(463),a=r(14),u=r(36);class QuestionValue_QuestionValue{constructor(e){Object.assign(this,e||{})}get(e){return this[e]}set(e,t){this[e]=t}toJson(){return Object.keys(this).reduce((e,t)=>{if("_tempRuntime"!==t){const r=this[t];e[t]=r}return e},{})}toFlatJson(e,t){t=t||"";let r={};return Object.keys(this).forEach(i=>{const n=this.get(i),o=t+i;if(n&&Array.isArray(n)){if(n.length)if(n[0].file||n[0].url){const e=[];n.forEach(t=>{const r=Object.assign({},t);delete r.file,e.push(r)}),r[o]=JSON.stringify(e)}else n.forEach((n,o)=>{let s=n;s instanceof QuestionValue_QuestionValue||(s=new QuestionValue_QuestionValue(s));const a=s.toFlatJson(e,`${t}${i}[${o}].`);r=Object.assign(r,a)})}else if(this._isMapQuestion(e,i))if(n){const e=Object(u.a)(n);if(!e)throw e;r[o]=e.toJson?JSON.stringify(e.toJson()):JSON.stringify(e)}else r[o]="";else if(this._isDate(n))r[o]=n.getTime();else{let e=n;n&&n.toJson?e=JSON.stringify(n.toJson()):n instanceof Object&&(e=this._jsonToString(n)),r[o]=e}}),r}_isMapQuestion(e,t){if(!e||!e.questions)return!1;return!!e.getGeoQuestions().find(e=>e.name===t)}_jsonToString(e){let t=e;try{t=JSON.stringify(e)}catch(r){t=e}return t}_isDate(e){return e&&"function"==typeof e.getMonth}}var l=r(2);const c=["edit","view","preview","copy"],h=["edit","view","copy"];class survey123_webform_options_Survey123WebFormOptions extends s.a{constructor(e){super(e);Object.assign(this,{container:null,itemId:null,clientId:null},e||{})}getUrlQueryString(){const e={},t=["jsapi"];if(this.hideElements){const t=this.hideElements;Array.isArray(t)&&t.length>0&&(e.hide=t.join(","))}this.portalUrl&&(e.portalUrl=this.portalUrl);const r=this.version;r&&(e.version=r);const i=this.mode;if(i&&-1!==c.indexOf(i)&&(e.mode=i,h.includes(i))){const t=this.globalId;t&&(!r||"latest"===r||Object(a.a)(r,"3.9")>=0)&&(e.globalId=t);const i=this.objectId;i&&(!r||("latest"!==r&&Object(a.a)(r,"3.9"))<=0)&&(e.objectId=i)}if(this.autoRefresh>-1&&(e.autoRefresh=this.autoRefresh),!0===this.isAssociatedMap&&t.push("associatedMap"),t.length>0&&(e.embed=t.join(",")),this.embeded&&(e.embeded=this.embeded),this.defaultQuestionValue||this.questionValue){const t=this.questionValue||this.defaultQuestionValue;if("object"==typeof t&&null!=t){const r=new QuestionValue_QuestionValue(t).toFlatJson();Object.keys(r).forEach(t=>{e["field:"+t]=encodeURIComponent(""+Object(l.d)(r[t]))})}}return this.width&&(e.width=this.width),this.clientId&&(e.jsapiClientId=this.clientId),this.jsApiVersion&&(e.jsApiVersion=this.jsApiVersion),e.host=encodeURIComponent(this.host||window.location.origin),Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}}var d=r(466),f=r(75),p=r(461),m=r(459),g=r(460);class survey123_webform_Survey123WebForm extends d.a{constructor(e){super(e),this.options=e,this._supportedEvents=Object.keys(p.b).map(e=>p.b[e]),this.options=new survey123_webform_options_Survey123WebFormOptions(e),this._initEvent(),this.init().then(()=>{this._createIframe(),this._listenIframeEvent()}).catch(e=>{this._handleError(e)})}hideElements(e){e=e||[],this.setParams({hide:e.join(",")})}setParams(e){if(e&&Object.keys(e).length>0){const t=[];Object.keys(e).forEach(r=>{let i=e[r];void 0===i&&(i=""),t.push(`${r}=${i}`)}),t.length>0&&this._postMessage({event:this._getEventName(p.b.setParams),data:t})}}setQuestionValue(e){if("object"==typeof e&&null!=e){const t=new QuestionValue_QuestionValue(e).toFlatJson(this._form),r={};let i;Object.keys(t).forEach(e=>{i=t[e],r["field:"+e]=i}),Object.keys(r).length>0&&this.setParams(r)}}setGeometry(e){if(!e)throw new Error("missing geometry");if(!(e=Object(u.a)(e)))throw new Error("only support esri geometry / geojson / xlsForm geometry");const t={event:this._getEventName(p.b.setGeometry),data:e.toJson()};this._postMessage(t)}setGeopoint(e){if(e&&e.x&&e.y){if(!0===this.getOptions("isAssociatedMap")){const t={event:this._getEventName(p.b.setGeoPoint),data:e};this._postMessage(t)}else this.setParams({center:`${e.y},${e.x}`})}}drawEnd(e){const t={event:this._getEventName(p.b.geoPointDrawEnded),data:e};this._postMessage(t)}setTheme(e){const t={event:this._getEventName(p.b.setTheme),data:e};this._postMessage(t)}setStyle(e){const t={event:this._getEventName(p.b.setStyle),data:e};this._postMessage(t)}getQuestionValue(){let e;const t=this._getEventName(p.b.questionValueRequested);return new Promise((r,i)=>{e=this._addEvent(t,{promiseResolve:r,promiseReject:i});const n={event:this._getEventName(this._getEventName(p.b.requestQuestionValue)),data:null};this._postMessage(n)}).then(r=>(this._removeEvent(t,e),r)).catch(r=>{throw this._removeEvent(t,e),r})}submitForm(){this._postMessage({event:this._getEventName(p.b.submitForm),data:null})}expand(e){this._postMessage({event:this._getEventName(p.b.expand),data:{name:e}})}collapse(e){this._postMessage({event:this._getEventName(p.b.collapse),data:{name:e}})}scrollTo(e){this._postMessage({event:this._getEventName(p.b.scrollTo),data:{name:e}})}deleteRepeat(e){let t;const r=this._getEventName(p.b.deleteRepeatRequested);return new Promise((i,n)=>{t=this._addEvent(r,{promiseResolve:i,promiseReject:n});const o={event:this._getEventName(this._getEventName(p.b.deleteRepeat)),data:e};this._postMessage(o)}).then(e=>(this._removeEvent(r,t),e)).catch(e=>{throw this._removeEvent(r,t),e})}addRepeat(e){let t;const r=this._getEventName(p.b.addRepeatRequested);return new Promise((i,n)=>{t=this._addEvent(r,{promiseResolve:i,promiseReject:n});const o={event:this._getEventName(this._getEventName(p.b.addRepeat)),data:e};this._postMessage(o)}).then(e=>(this._removeEvent(r,t),e)).catch(e=>{throw this._removeEvent(r,t),e})}getRepeatCount(e){let t;const r=this._getEventName(p.b.repeatCountRequested);return new Promise((i,n)=>{t=this._addEvent(r,{promiseResolve:i,promiseReject:n});const o={event:this._getEventName(this._getEventName(p.b.getRepeatCount)),data:{questionName:e}};this._postMessage(o)}).then(e=>(this._removeEvent(r,t),e)).catch(e=>{throw this._removeEvent(r,t),e})}setOnFormLoaded(e){this._addEvent(this._getEventName(p.b.formLoaded),e)}setOnFormSubmitted(e){this._addEvent(this._getEventName(p.b.formSubmitted),e)}setOnFormResized(e){this._addEvent(this._getEventName(p.b.formResized),e)}setOnFormFailed(e){this._addEvent(this._getEventName(p.b.formFailed),e)}setOnQuestionValueChanged(e){this._addEvent(this._getEventName(p.b.questionValueChanged),e)}getForm(){return this._form}getQuestions(){const e=this.getForm();return e?e.toJson().questions:null}setMode(e){e=Object.assign({mode:null},e||{}),c.includes(e.mode)&&(this.options.setValue("mode",e.mode),e.globalId&&this.options.setValue("globalId",e.globalId),e.objectId&&this.options.setValue("objectId",e.objectId)),this._iframe&&this._setIframeUrl(this._iframe)}copyFeature(e){if(!e)throw new Error("missing globalId args");this.setMode({mode:"copy",globalId:e})}on(e,t){if(!e||!t)throw new Error("missing eventName / callback arguments");this._addEvent("survey123:webform:"+e,t)}off(e,t){if(!e||!t)throw new Error("missing eventName / callback arguments");this._removeEvent("survey123:webform:"+e,t)}_createIframe(){const e=document.createElement("iframe");e.width="100%",e.height="100%",e.style.border="0px",this._setIframeUrl(e);const t=`self ${this._survey123HostDomain} ${window.location.protocol}//${window.location.host}`;e.allow=`geolocation ${t}; camera ${t}`;const r=this.getContainer();if(!r)throw new Error(`cannot find ${this.getContainer()} dom`);this._containerHeight=this._detectContainerHeight(r),r.appendChild(e),this._iframe=e}_listenIframeEvent(){this._windowEventListener.message=e=>{if(!e||!e.data)return;let t=e.data;if(!this._isJsonString(t)&&"object"!=typeof t)throw new Error(`data (${t}) is not object or JSON string`);if(this._isJsonString(t))try{t=JSON.parse(t)}catch(e){throw e}const r=this.options,i=""+t.event;if(!i.startsWith("survey123:"))return;if(!Object(f.b)(i))return void console.log(`the event, ${i}, is not supported`);if(i===p.b.formLoaded||i===p.a.formLoaded){let e=t.data;t.contentHeight&&(e={form:e,contentHeight:t.contentHeight,webformVersion:t.webformVersion}),e.webformVersion&&(this._webformVersion=e.webformVersion),this._removeDuplicatedEvents(),!0!==r.isDisabledSubmitToFeatureService&&!1!==r.isDisabledSubmitToFeatureService||this.setParams({isDisabledSubmitToFeatureService:r.isDisabledSubmitToFeatureService});let n=e.form;return n=n?new o.a({formJSON:n}):n,this._form=n,void(this._hasEvent(i)&&this._triggerEvent(i,{form:n,contentHeight:e.contentHeight,webformVersion:e.webformVersion}))}this._hasEvent(i)&&(i!==p.b.formResized&&p.a.formResized,this._triggerEvent(i,t.data))},window.addEventListener("message",this._windowEventListener.message)}_detectContainerHeight(e){const t=document.createElement("div");t.style.display="hidden",t.style.height="2px";const r=e.offsetHeight;return e.appendChild(t),e.offsetHeight>r?(e.removeChild(t),"auto"):(e.removeChild(t),r)}_setIframeUrl(e){let t=this._survey123HostDomain+"/share/";!0===this.getOptions("isDebugMode")&&(t="9443"===location.port?`${location.protocol}//${location.hostname}:8443/index.html?id=`:"index.html?id="),!0===this.getOptions("isOnPremises")&&(t="./"),t+=""+this.getOptions("itemId");const r=this.options.getUrlQueryString();t+=`${t.includes("?")?"&":"?"}${r}`,this._iframeUrl=t,e.src=t}_isMapQuestion(e){if(!this._form||!this._form.questions)return!1;return!!this._form.getGeoQuestions().find(t=>t.name===e)}_initEvent(){const e=this.options||new survey123_webform_options_Survey123WebFormOptions;this._addEvent(m.a.credentialRequest,()=>{this.setCredential({token:e&&e.token})});const windowReloadCallback=()=>{this._iframe.src+=""};this._addEvent(this._getEventName(p.b.windowReload),windowReloadCallback),this._addEvent(this._getEventName(p.a.windowReload),windowReloadCallback);const t={onFormLoaded:"formLoaded",onFormSubmitted:"formSubmitted",onFormFailed:"formFailed",onQuestionValueChanged:"questionValueChanged",onFormResized:"formResized"};Object.keys(e).forEach(r=>{const i=t[r];e[r]&&i&&(this._addEvent(p.b[i],e[r]),this._addEvent(p.a[i],e[r]))})}_removeDuplicatedEvents(){(this._useNewEventName()?Object(g.a)(p.a):Object(g.a)(p.b)).forEach(e=>{this._removeEvent(e,null,{isForce:!0})})}_useNewEventName(){const e=this._webformVersion||this.getOptions("jsApiVersion");return e&&("latest"===e||Object(a.a)(e,"3.14")>=0)}_getEventName(e){if(e){if(!this._useNewEventName()){const t=Object(p.c)(),r=t&&t[e];if(r)return console.warn(`The event name (${r} is deprecated. Please use ${e})`),r}return e}}}const y=[];function setCommonParams(e){(e=e||{}).portalUrl=e.portalUrl||"https://www.arcgis.com";let t=getCommonParams(e.portalUrl);!!t?t=Object.assign(t,e):y.push(e)}function getCommonParams(e,t){const r=y.find(t=>t.portalUrl===e);return t&&r?r[t]:r}function getCommonParamsFromObj(e,t){if(t=Object.assign({isRemoveCommonParamsInObj:!0},t||{}),null==e||!(e instanceof Object))throw new Error("obj is not existed or obj is not an Object");const r=Object.assign({},e),i=r.portalUrl||"https://www.arcgis.com",n=["token","username","f","portalUrl"].reduce((e,n)=>{const o=r[n]||getCommonParams(i,n);return o&&(e[n]=o),!0===t.isRemoveCommonParamsInObj&&delete r[n],e},{});return{metadata:r,commonParams:n}}var b=r(49);function fetchWithCredentail(e,t){return(t=Object.assign({method:"GET"},t||{})).method=t.method||"GET",t.method=t.method.toUpperCase(),Object(b.a)(""+e,{method:t.method,cache:"no-cache",credentials:"include"}).then(e=>e.json())}const v={};function is_webtier_portal_isWebTierPortal(e,t){return Promise.resolve().then(()=>{if(!e)return!1;const t=v[e];return!0===t||!1===t?t:function isWebTierPortal(e){return e?fetchWithCredentail(e+"/sharing/rest/generateToken?f=json").then(t=>{if(t&&"object"==typeof t){if(t.token)return!0;if(t.error&&405===t.error.code&&"GWM_0005"===t.error.messageCode)return!1;if(t.error&&400===t.error.code&&t.error.details&&3===t.error.details.length)return fetchWithCredentail(e+"/sharing/rest/portals/self?f=json").then(e=>!(!e||!e.user||!0!==e.isPortal||!1!==e.samlEnabled))}return!1}).catch(()=>!1).then(e=>e):Promise.resolve(!1)}(e).then(t=>(v[e]=t,t))}).then(e=>(t&&(t.withCredentials=!0===e),e))}function createSurvey(e){e=Object.assign({title:null,tags:[],token:null},e||{});const{metadata:t,commonParams:i}=getCommonParamsFromObj(e);return Promise.resolve(!0).then(()=>{if(!(e&&e.title&&e.tags&&0!==e.tags.length&&i.token))throw new Error("missing title / tags / token args")}).then(()=>is_webtier_portal_isWebTierPortal(e.portalUrl,i)).then(()=>Promise.all([r.e(1),r.e(0),r.e(2),r.e(7)]).then(r.bind(null,532)).then(e=>e.createSurvey)).then(e=>(t.thumbnailurl&&!t.thumbnailUrl&&(t.thumbnailUrl=t.thumbnailurl),delete t.thumbnailurl,e(t,null,i))).then(e=>{if(!e||!e.success)throw e;return e.data})}function embedWebsite(e){return Promise.resolve(!0).then(()=>r.e(6).then(r.bind(null,534)).then(e=>e.Survey123Website)).then(t=>new t(e))}var E=r(165);class search_survey_SearchSurveyOptions2 extends E.a{constructor(e){super(e)}}function searchSurvey(e){(e=new search_survey_SearchSurveyOptions2(e)).isToJson=!0;const{metadata:t,commonParams:i}=getCommonParamsFromObj(e);return Promise.resolve(!0).then(()=>{if(!e.token)throw new Error("missing token args")}).then(()=>is_webtier_portal_isWebTierPortal(e.portalUrl,i)).then(()=>Promise.all([r.e(0),r.e(5)]).then(r.bind(null,533)).then(e=>e.searchSurvey)).then(e=>e(t,i)).then(e=>{if(!e||!e.results)throw e;return e})}function getForm(e){return function getSurveyByItemId(e){e=Object.assign({itemId:null,token:null,initForm:!0,initFeatureService:!0},e||{});const{commonParams:t}=getCommonParamsFromObj(e);return Promise.resolve(!0).then(()=>{if(!e||!e.itemId||!t.token)throw new Error("missing surveyItemId / token args")}).then(()=>is_webtier_portal_isWebTierPortal(e.portalUrl,t)).then(()=>Promise.all([r.e(1),r.e(4),r.e(0),r.e(2),r.e(8)]).then(r.bind(null,531)).then(e=>e.getSurveyByItemId)).then(r=>r(e.itemId,{isViewer:!0,initFeatureService:e.initFeatureService,initMetadata:!0,initForm:e.initForm,checkEnabledAttachmentKeywords:e.initFeatureService,isCheckedWebForm:!0},t))}({itemId:(e=Object.assign({itemId:null,token:null},e||{})).itemId,initForm:!0,initFeatureService:!1,token:e.token,portalUrl:e.portalUrl}).then(e=>{if(e&&e.getForm())return e.getForm()})}new class AutoPolyfill{constructor(){this._isIE&&(r(232),r(418))}_isIE(){let e=!1;/MSIE 10/i.test(navigator.userAgent)&&(e=!0),(/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&(e=!0)}};n.a.setConfig(null),window.Survey123WebForm=survey123_webform_Survey123WebForm;const w=i;w.survey123=i,window.survey123=w},function(e,t,r){"use strict";r.d(t,"a",(function(){return Webhook}));class Webhook{constructor(e){(e=e||{}).includePortalInfo="true"===e.includePortalInfo||!0===e.includePortalInfo,e.includeServiceRequest="true"===e.includeServiceRequest||!0===e.includeServiceRequest,e.includeUserInfo="true"===e.includeUserInfo||!0===e.includeUserInfo,e.includeServiceResponse="true"===e.includeServiceResponse||!0===e.includeServiceResponse,e.includeSurveyInfo="true"===e.includeSurveyInfo||!0===e.includeSurveyInfo,Object.assign(this,{active:!0,name:"",url:"",includePortalInfo:!1,includeServiceRequest:!1,includeUserInfo:!1,includeServiceResponse:!1,includeSurveyInfo:!1,events:[]},e||{})}toJson(){const e=["id","name","events","url","contentType","active","created","modified","expired","includePortalInfo","includeUserInfo","includeSurveyInfo","includeServiceRequest","includeServiceResponse"],t={};let r;return Object.keys(this).forEach(i=>{r=this[i],-1!==e.indexOf(i)&&(t[i]=r)}),t}setId(e){e&&(this.id=e)}validate(){return this.name&&this.url&&this.events.length>0}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return FeatureService}));var i=r(116),n=r(155);class FeatureService{static getCurrentVersionTypeKeyword(e){return`${this.currentVersionTypeKeywordPrefix}${e}`}static getDefaultFieldsByTypes(e){const t=[];return e&&e instanceof Array&&e.forEach(e=>{this.defaultField[e]&&t.push(this.defaultField[e])}),t}static getDefaultFieldByType(e){return this.defaultField[e]?this.defaultField[e]:null}static getDefaultFeatureServiceConfig(e){if(e=Object.assign({type:"source",name:"survey123_{new guid}",serviceDescription:"Feature Service for survey {form item id}"},e||{}),-1===["source"].indexOf(e.type))throw new Error("not support "+e.type);return{name:e.name,serviceDescription:e.serviceDescription,hasStaticData:!1,maxRecordCount:2e3,capabilities:i.a.get(e.type),description:"",copyrightText:"",spatialReference:{wkid:4326,latestWkid:4326},fullExtent:{xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:{wkid:4326,latestWkid:4326}},allowGeometryUpdates:!0,units:"esriDecimalDegrees",supportsApplyEditsWithGlobalIds:!0,editorTrackingInfo:n.a.get(e.type)}}static getDefaultLayerName(){return"survey"}static getDefaultLayerConfig(e){(e=Object.assign({enabledDefaultFields:[],isSupportedPropagateVisibleFields:!0,name:FeatureService.getDefaultLayerName(),label:"Survey Point",geometryType:"esriGeometryPoint"},e||{})).name=e.name||FeatureService.getDefaultLayerName(),e.geometryType=e.geometryType||"esriGeometryPoint",-1===["esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon"].indexOf(e.geometryType)&&(e.geometryType="esriGeometryPoint");let t={label:e.label,symbol:{angle:0,color:[255,0,0,255],outline:{color:[255,255,0,255],width:1},size:8,style:"esriSMSCircle",type:"esriSMS",xoffset:0,yoffset:0},type:"simple"};"esriGeometryPolyline"===e.geometryType&&(t={label:"Survey Polyline",symbol:{color:[0,178,255,255],style:"esriSLSSolid",type:"esriSLS",width:2},type:"simple"}),"esriGeometryPolygon"===e.geometryType&&(t={label:"Survey Polygon",symbol:{color:[0,178,255,48],outline:{color:[0,178,255,255],style:"esriSLSSolid",type:"esriSLS",width:2},style:"esriSFSSolid",type:"esriSFS"},type:"simple"});const r={layers:[{adminLayerInfo:{geometryField:{name:"Shape"}},allowGeometryUpdates:!0,capabilities:i.a.get("source"),copyrightText:"",defaultVisibility:!0,description:"",drawingInfo:{labelingInfo:null,renderer:t,transparency:0},extent:{spatialReference:{wkid:4326},type:"extent",xmax:180,xmin:-180,ymax:90,ymin:-90},fields:[{alias:"ObjectID",defaultValue:null,domain:null,editable:!1,name:"objectid",nullable:!1,type:"esriFieldTypeOID"},{alias:"GlobalID",defaultValue:null,domain:null,editable:!1,length:38,name:"globalid",nullable:!1,type:"esriFieldTypeGlobalID"}],indexes:[{description:"GlobalID index",fields:"globalid",isAscending:!1,isUnique:!0,name:"GlobalIDIndex"}],geometryType:e.geometryType,hasAttachments:!0,hasZ:!1,hasStaticData:!1,htmlPopupType:"esriServerHTMLPopupTypeAsHTMLText",isDataVersioned:!1,maxRecordCount:2e3,name:e.name,objectIdField:"objectid",globalIdField:"globalid",relationships:[],supportsAdvancedQueries:!0,supportsRollbackOnFailureParameter:!0,supportsStatistics:!0,supportsApplyEditsWithGlobalIds:!0,type:"Feature Layer",typeIdField:"",types:[],timeInfo:null,maxScale:0,minScale:0,templates:[{name:"New Feature",description:"",prototype:{attributes:{}}}]}]};"esriGeometryPolyline"!==e.geometryType&&"esriGeometryPolygon"!==e.geometryType||(r.layers[0].hasM=!1),!0===e.isSupportedPropagateVisibleFields&&(r.layers[0].propagateVisibleFields=!0);const n=e.enabledDefaultFields||[];return n&&Array.isArray(n)&&(n.forEach(e=>{this.defaultField[e]&&r.layers[0].fields.push(this.defaultField[e])}),-1!==n.indexOf("startTime")&&-1!==n.indexOf("endTime")&&(r.layers[0].timeInfo={startTimeField:this.defaultField.startTime.name,endTimeField:this.defaultField.endTime.name})),r}static getEditorFieldDefinition(e){return e=e||"source",{hasStaticData:!1,editorTrackingInfo:n.a.get(e)}}static getDefaultTable(e){return e=Object.assign({name:"metadata"},e||{}),{tables:[{capabilities:i.a.get("metadata"),copyrightText:"",defaultVisibility:!0,description:"",fields:[{alias:"ObjectID",defaultValue:null,domain:null,editable:!1,name:"objectid",nullable:!1,type:"esriFieldTypeOID"},{alias:"GlobalID",defaultValue:null,domain:null,editable:!1,length:38,name:"globalid",nullable:!1,type:"esriFieldTypeGlobalID"},{alias:"name",domain:null,editable:!0,length:255,name:"name",nullable:!1,type:"esriFieldTypeString"},{alias:"value",domain:null,editable:!0,length:102400,name:"value",nullable:!0,type:"esriFieldTypeString"}],indexes:[{description:"GlobalID index",fields:"globalid",isAscending:!1,isUnique:!0,name:"GlobalIDIndex"}],hasAttachments:!0,hasStaticData:!1,isDataVersioned:!1,maxRecordCount:2e3,name:e.name,objectIdField:"objectid",globalIdField:"globalid",relationships:[],supportsAdvancedQueries:!0,supportsRollbackOnFailureParameter:!0,supportsStatistics:!0,supportsApplyEditsWithGlobalIds:!0,templates:[],type:"Table",typeIdField:"",types:[]}]}}static getTableDefinedName(e){const t={form:"form",formDraft:"form_draft",formPreview:"form_preview",media:"media"};if(e&&t[e])return t[e]}}FeatureService.defaultField={startTime:{name:"StartTime",alias:"StartTime",defaultValue:null,nullable:!0,editable:!0,length:255,domain:null,type:"esriFieldTypeDate"},endTime:{type:"esriFieldTypeDate",name:"EndTime",alias:"EndTime",nullable:!0,editable:!0,domain:null,defaultValue:null,length:255},elapsedTime:{type:"esriFieldTypeInteger",name:"ElapsedTime",alias:"ElapsedTime",nullable:!0,editable:!0,domain:null,defaultValue:null,length:255}},FeatureService.currentVersionTypeKeywordPrefix="Survey123 v"},,,,,,,,,,,function(e,t,r){"use strict";var i,n;r.d(t,"a",(function(){return i})),function(e){e.setCredential="survey123:setCredential",e.credentialRequest="survey123:credentialRequest"}(i||(i={})),function(e){e.credentialRequest="survey123:onRequestCredential"}(n||(n={}))},function(e,t,r){"use strict";function getEnumValues(e){return e?Object.keys(e).map(t=>e[t]):[]}r.d(t,"a",(function(){return getEnumValues}))},function(e,t,r){"use strict";var i,n;function getSurvey123WebformEventMappingInfo(){return Object.keys(i).reduce((e,t)=>{const r=i[t],o=n[t];return o&&(e[r]=o),e},{})}r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return getSurvey123WebformEventMappingInfo})),function(e){e.setStyle="survey123:webform:setStyle",e.setGeoPoint="survey123:webform:setGeoPoint",e.setParams="survey123:webform:setParams",e.setEmbeded="survey123:webform:setEmbeded",e.setGeometry="survey123:webform:setGeometry",e.setTheme="survey123:webform:setTheme",e.requestQuestionValue="survey123:webform:requestQuestionValue",e.submitForm="survey123:webform:submitForm",e.setHeight="survey123:webform:setHeight",e.scrollTo="survey123:webform:scrollTo",e.collapse="survey123:webform:collapse",e.expand="survey123:webform:expand",e.deleteRepeat="survey123:webform:deleteRepeat",e.addRepeat="survey123:webform:addRepeat",e.getRepeatCount="survey123:webform:getRepeatCount",e.propertyChanged="survey123:webform:propertyChanged",e.repeatIndexChanged="survey123:webform:repeatIndexChanged",e.questionValueRequested="survey123:webform:questionValueRequested",e.windowReload="survey123:webform:windowReload",e.questionValueChanged="survey123:webform:questionValueChanged",e.formLoaded="survey123:webform:formLoaded",e.formFailed="survey123:webform:formFailed",e.formSubmitted="survey123:webform:formSubmitted",e.formResized="survey123:webform:formResized",e.formEdited="survey123:webform:formEdited",e.geoPointDrawEnded="survey123:webform:geoPointDrawEnded",e.repeatCountRequested="survey123:webform:repeatCountRequested",e.addRepeatRequested="survey123:webform:addRepeatRequested",e.deleteRepeatRequested="survey123:webform:deleteRepeatRequested",e.pageNavigated="survey123:webform:pageNavigated"}(i||(i={})),function(e){e.setStyle="survey123:setStyle",e.setGeoPoint="survey123:setGeoPoint",e.setParams="survey123:setParams",e.setEmbeded="survey123:setEmbeded",e.setGeometry="survey123:setGeometry",e.setTheme="survey123:setTheme",e.requestQuestionValue="survey123:requestQuestionValue",e.submitForm="survey123:submitForm",e.setHeight="survey123:_setFormHeight",e.propertyChanged="survey123:onPropertyChanged",e.repeatIndexChanged="survey123:onRepeatIndexChanged",e.questionValueRequested="survey123:onQuestionValueRequested",e.windowReload="survey123:onWindowReload",e.questionValueChanged="survey123:onQuestionValueChanged",e.formLoaded="survey123:onFormLoaded",e.formFailed="survey123:onFormFailed",e.formSubmitted="survey123:onFormSubmitted",e.formResized="survey123:onFormResized",e.formEdited="survey123:onFormEdited",e.geoPointDrawEnded="survey123:onDrawEnd",e.pageNavigated="survey123:page-navigate"}(n||(n={}))},function(e,t,r){"use strict";var i,n;r.d(t,"a",(function(){return i})),function(e){e.formLoaded="survey123:website:formLoaded",e.formFailed="survey123:website:formFailed",e.designFormPublished="survey123:website:design:formPublished",e.designFormSaved="survey123:website:design:formSaved",e.designFormUnsaved="survey123:website:design:formUnsaved",e.collaborateFormShared="survey123:website:collaborate:formShared",e.windowReload="survey123:website:windowReload"}(i||(i={})),function(e){e.designFormPublished="survey123:design:onFormPublished",e.designFormSaved="survey123:design:onFormSaved",e.designFormUnsaved="survey123:design:onFormUnsaved",e.collaborateFormShared="survey123:collaborate:onFormShared"}(n||(n={}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return Survey123JsApiCommonOptions}));class Survey123JsApiCommonOptions{constructor(e){this.jsApiVersion="latest",Object.assign(this,e||{})}setValue(e,t){this[e]=t}getValue(e){return e?this[e]:this}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return HeaderContent})),r.d(t,"c",(function(){return SubHeaderContent})),r.d(t,"a",(function(){return FooterContent}));var i=r(2),n=r(94),o=r(3),s=r(4);class FormContent{constructor(e){this._whitelists=["isVisible","content"];Object.assign(this,{isVisible:!0,content:""},e||{}),this.content&&this._setContent(this.content)}setContent(e){this._setContent(e)}getContent(){return this.content}setVisible(e){this.isVisible=!0===e}toJson(e){const t=(e=Object.assign({whitelists:[],encodeContentHtml:!1},e||{})).whitelists&&e.whitelists.length>0?e.whitelists:this._whitelists;return Object.keys(this).reduce((r,i)=>{if(-1===t.indexOf(i))return r;const n=this[i];return r[i]=n,"content"===i&&!0===e.encodeContentHtml&&(r[i]=encodeURIComponent(n)),r},{})}validate(){const e=new o.a,t=Object(n.a)(this.content);return t.isValid||e.addError(new s.a({message:"SanitizedHtml failed",details:[t.sanitized]})),e.check()}_setContent(e){this.content=Object(i.b)(e)}}class HeaderContent extends FormContent{constructor(e){super(e=e||{}),this.setContent(this.content)}setContent(e){let t=e||"";t&&!Object(i.h)(t)&&(t=`<p title='${t}'>${t}</p>`),this.content=t}}class SubHeaderContent extends FormContent{}class FooterContent extends FormContent{}},function(e,t,r){"use strict";r.d(t,"a",(function(){return FormSubmit}));class FormSubmit{constructor(e){this.buttonText="",this._whiteLists=["buttonText"],Object.assign(this,e||{})}toJson(){const e=this._whiteLists;return Object.keys(this).reduce((t,r)=>{const i=this[r];return-1===e.indexOf(r)||(i||i>=0)&&(t[r]=i),t},{})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Survey123JsApiCommon_Survey123JsApiCommon}));var i,n=r(4),o=r(157);class survey123_auth_Survey123Auth{constructor(){return null}validateRedirectUri(e,t){return"survey:post-install"===(t=Object.assign({portalUrl:"https://www.arcgis.com",redirectUri:window.location.origin,itemId:null},t||{})).itemId?Promise.resolve(!0):Promise.resolve(!0).then(()=>{if(!e)throw new n.a({surveyErrorCode:"jsapi02"});t.portalUrl=t.portalUrl||"https://www.arcgis.com",t.redirectUri=t.redirectUri||window.location.origin}).then(()=>{const r=`${this._getOauthUrl(t.portalUrl)}/validateRedirectUri?client_id=${e}&redirect_uri=${t.redirectUri}&f=json`;return fetch(r).then(e=>e.json())}).then(e=>!(!e||!e.valid)&&!0===e.valid).catch(e=>{throw e})}getPortalOauthAuthorizeUrl(e){let t=(e=Object.assign({responseType:"token",itemId:null,redirectUri:window.location.href,portalUrl:"https://www.arcgis.com",clientId:null},e||{})).redirectUri||window.location.href;t=encodeURIComponent(t);const r=o.a.getConfig("survey123WebformTokenExpirationInMinutes");let i=`${this._getOauthUrl(e.portalUrl)}/authorize?client_id=${e.clientId}&response_type=${e.responseType}&expiration=${r}&redirect_uri=${t}`;return e.itemId&&(i+="&resourceItemId="+e.itemId),i}getOAuthCredentialFromHash(){if(!window.location.hash)return null;let e;const t=window.location.hash.substring(1).split("&"),r={};for(const i of t)if(e=i.split("="),e&&2===e.length){if("error"===e[0]){const t=new Error(e[1]);throw"public_account_access_denied"===e[1]&&(t.surveyErrorCode="webform04"),"OAUTH_0070"===e[2]&&(t.surveyErrorCode="webform08"),history.pushState("",document.title,window.location.pathname+window.location.search),t}if("access_token"===e[0])r.token=e[1];else if("expires_in"===e[0]){if(/^\d+$/.test(e[1])){try{e[1]=parseInt(e[1],10)}catch(e){console.log(e)}r.expires=e[1]+Date.now()-1e4}}else"username"===e[0]&&(r.username=decodeURIComponent(e[1]))}return history.pushState("",document.title,window.location.pathname+window.location.search),r}_getOauthUrl(e){return(e=e||"https://www.arcgis.com")+"/sharing/rest/oauth2"}}!function(e){e.jsapi01="invalid clientId",e.jsapi02="missing clientId",e.jsapi03="missing target dom id",e.jsapi04="missing item id",e.jsapi05="container is not a html element"}(i||(i={}));var s=r(75),a=r(459);const u="prod",l="https://survey123.arcgis.com";class Survey123JsApiCommon_Survey123JsApiCommon{constructor(e){this.options=e,this._survey123HostDomain=this._getSurvey123HostDomain(),this._eventInfo={},this._windowEventListener={},e=e||{container:null,itemId:null,clientId:null}}init(){const e=this.getOptions();return Promise.resolve(!0).then(()=>{if(!e.container)throw new n.a({surveyErrorCode:"jsapi03"});if(!e.itemId)throw new n.a({surveyErrorCode:"jsapi04"});if("string"==typeof e.container&&(e.container=document.getElementById(e.container)),!this._isElement(e.container))throw new n.a({surveyErrorCode:"jsapi05"});this._survey123Auth=new survey123_auth_Survey123Auth}).then(()=>!0).then(e=>{if(!e)throw new n.a({surveyErrorCode:"jsapi01"})})}getOptions(e){return e&&this.options?this.options[e]:this.options}getContainer(){return this.getOptions("container")}getIframeDom(){return this._iframe}setItemId(e){this.options.itemId=e,this._createIframe()}getItemId(){return this.getOptions("itemId")}setCredential(e){const t={event:a.a.setCredential,data:e};this._postMessage(t)}on(e,t){if(!e||!t)throw new Error("missing eventName / callback arguments");this._addEvent(e,t)}off(e,t){if(!e||!t)throw new Error("missing eventName / callback arguments");this._removeEvent(e,t)}destroy(){this._windowEventListener&&(Object.keys(this._windowEventListener).forEach(e=>{const t=this._windowEventListener[e];e&&t&&window.removeEventListener(e,t)}),this._windowEventListener={})}_handleError(e){if(!e.message&&e.surveyErrorCode&&i[e.surveyErrorCode]&&(e.message=i[e.surveyErrorCode]),e instanceof String){const t=e.toString();e=new n.a(t)}throw this.getContainer().innerHTML=e.message,e}_postMessage(e){e.clientId=e.clientId||this.getOptions("clientId");let t=this._survey123HostDomain;if((!0===this.getOptions("isDebugMode")||!0===this.getOptions("isOnPremises"))&&(t=location.origin,this._iframeUrl))try{const e=new URL(this._iframeUrl);e.host&&e.host!==t&&(t=`${e.protocol||"https:"}//${e.host}`)}catch(e){}this._iframe&&this._iframe.contentWindow&&this._iframe.contentWindow.postMessage(JSON.stringify(e),t)}_createIframe(){console.log("have not implmented")}_listenIframeEvent(){console.log("have not implmented")}_getSurvey123HostDomain(){let e="https://survey123.arcgis.com";const t=window.location.hostname;-1!==["survey123.arcgis.com","survey123dev.arcgis.com","survey123dev2.arcgis.com","survey123qa.arcgis.com","survey123qa-cf.arcgis.com","survey123beta.arcgis.com"].indexOf(t)&&(e=window.location.origin);return"dev"===u&&(e="https://survey123dev.arcgis.com"),"dev2"===u&&(e="https://survey123dev2.arcgis.com"),"beta"===u&&(e="https://survey123beta.arcgis.com"),"qa"===u&&(e="https://survey123qa.arcgis.com"),"%%%HOST_URL%%%"!==l&&(e=l),e}_isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}_isJsonString(e){try{JSON.parse(e)}catch(e){return!1}return!0}_addEvent(e,t){if(!t||!e)throw new Error("missing event / eventPromise args");if(!Object(s.b)(e))return void console.error(`the event, ${e}, is not supported`);this._eventInfo[e]||(this._eventInfo[e]=[]);const r=t;return(r instanceof s.a||r.promiseResolve||r.promiseReject)&&(t=new s.a(r)),this._eventInfo[e].push(t),t}_removeEvent(e,t,r){if(r=Object.assign({isForce:!1},r||{}),!e||!r.isForce&&!t)throw new Error("missing event / eventPromise args");this._eventInfo[e]&&(!0!==r.isForce?this._eventInfo[e]=this._eventInfo[e].filter(e=>e!==t):delete this._eventInfo[e])}_triggerEvent(e,t){if(!e)throw new Error("missing event args");const r=this._eventInfo[e];r&&0!==r.length&&r.forEach(e=>{e&&(e instanceof s.a?e.promiseResolve(t):"function"!=typeof e||e(t))})}_hasEvent(e){const t=this._eventInfo[e];return t&&Array.isArray(t)&&t.length>0}}}]);